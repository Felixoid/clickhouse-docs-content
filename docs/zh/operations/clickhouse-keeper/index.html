<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-zh/operations/clickhouse-keeper">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.18">
<link rel="preconnect" href="https://www.google-analytics.com">
<link rel="preconnect" href="https://www.googletagmanager.com">
<script async src="https://www.googletagmanager.com/gtag/js?id=G-KF1LLRTQ5Q"></script>
<script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-KF1LLRTQ5Q",{})</script>
<link rel="search" type="application/opensearchdescription+xml" title="ClickHouse Docs" href="/docs/opensearch.xml">
<script src="https://docs-content.clickhouse.tech/docs/js/analytics.js"></script><title data-rh="true">[é¢„å‘ç”Ÿäº§] ClickHouse Keeper | ClickHouse Docs</title><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://clickhouse.com/docs/img/logo.png"><meta data-rh="true" name="twitter:image" content="https://clickhouse.com/docs/img/logo.png"><meta data-rh="true" property="og:url" content="https://clickhouse.com/docs/zh/operations/clickhouse-keeper"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="[é¢„å‘ç”Ÿäº§] ClickHouse Keeper | ClickHouse Docs"><meta data-rh="true" name="description" content="clickHouse-keeper}"><meta data-rh="true" property="og:description" content="clickHouse-keeper}"><link data-rh="true" rel="icon" href="/docs/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://clickhouse.com/docs/zh/operations/clickhouse-keeper"><link data-rh="true" rel="alternate" href="https://clickhouse.com/docs/zh/operations/clickhouse-keeper" hreflang="en"><link data-rh="true" rel="alternate" href="https://clickhouse.com/docs/zh/operations/clickhouse-keeper" hreflang="x-default"><link rel="stylesheet" href="/docs/assets/css/styles.fd7f72cc.css">
<link rel="preload" href="/docs/assets/js/runtime~main.61e45850.js" as="script">
<link rel="preload" href="/docs/assets/js/main.de332c73.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region"><a href="#" class="skipToContent_ZgBM">Skip to main content</a></div><nav class="navbar navbar--fixed-top navbarHideable_ObN2"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a href="https://clickhouse.com/" target="_blank" rel="noopener noreferrer" class="navbar__brand"><div class="navbar__logo"><img src="/docs/img/clickhouse.svg" alt="ClickHouse" class="themedImage_W2Cr themedImage--light_TfLj"><img src="/docs/img/clickhouse.svg" alt="ClickHouse" class="themedImage_W2Cr themedImage--dark_oUvU"></div><b class="navbar__title">ClickHouse</b></a><a class="navbar__item navbar__link" href="/docs/en/intro">Docs</a></div><div class="navbar__items navbar__items--right"><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link">Language</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/docs/en/intro">English</a></li><li><a class="dropdown__link" href="/docs/ru">Russian</a></li><li><a aria-current="page" class="dropdown__link dropdown__link--active" href="/docs/zh">Chinese</a></li></ul></div><div class="navbar__search"><span aria-label="expand searchbar" role="button" class="search-icon" tabindex="0"></span><input type="search" id="search_input_react" placeholder="Loading..." aria-label="Search" class="navbar__search-input search-bar" disabled=""></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper"><div class="docPage_P2Lg"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_RiI4" type="button"></button><aside class="theme-doc-sidebar-container docSidebarContainer_rKC_"><div class="sidebar_RiAD sidebarWithHideableNavbar_d0QC"><a href="https://clickhouse.com/" target="_blank" rel="noopener noreferrer" tabindex="-1" class="sidebarLogo_YUvz"><img src="/docs/img/clickhouse.svg" alt="ClickHouse" class="themedImage_W2Cr themedImage--light_TfLj"><img src="/docs/img/clickhouse.svg" alt="ClickHouse" class="themedImage_W2Cr themedImage--dark_oUvU"><b>ClickHouse</b></a><nav class="menu thin-scrollbar menu_izAj"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/zh/">ä»€ä¹ˆæ˜¯ClickHouseï¼Ÿ</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/category/ç®€ä»‹">ç®€ä»‹</a><button aria-label="Toggle the collapsible sidebar category &#x27;ç®€ä»‹&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/zh/getting-started/">å¿«é€Ÿä¸Šæ‰‹</a><button aria-label="Toggle the collapsible sidebar category &#x27;å¿«é€Ÿä¸Šæ‰‹&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/zh/interfaces/">æ¥å£</a><button aria-label="Toggle the collapsible sidebar category &#x27;æ¥å£&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/category/å¼•æ“">å¼•æ“</a><button aria-label="Toggle the collapsible sidebar category &#x27;å¼•æ“&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/zh/sql-reference/">SQLå‚è€ƒ</a><button aria-label="Toggle the collapsible sidebar category &#x27;SQLå‚è€ƒ&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/zh/guides/">ClickHouseæŒ‡å—</a><button aria-label="Toggle the collapsible sidebar category &#x27;ClickHouseæŒ‡å—&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" href="/docs/zh/operations/">æ“ä½œ</a><button aria-label="Toggle the collapsible sidebar category &#x27;æ“ä½œ&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/zh/operations/requirements">å¿…å¤‡æ¡ä»¶</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/zh/operations/monitoring">ç›‘æ§</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/zh/operations/troubleshooting">å¸¸è§é—®é¢˜</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/zh/operations/update">æ›´æ–°</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/zh/operations/access-rights">è®¿é—®æƒé™å’Œè´¦æˆ·ç®¡ç†</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs/zh/operations/external-authenticators/">External User Authenticators and Directories</a><button aria-label="Toggle the collapsible sidebar category &#x27;External User Authenticators and Directories&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/zh/operations/backup">æ•°æ®å¤‡ä»½</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs/zh/operations/settings/">è®¾ç½®</a><button aria-label="Toggle the collapsible sidebar category &#x27;è®¾ç½®&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs/zh/operations/system-tables/">ç³»ç»Ÿè¡¨</a><button aria-label="Toggle the collapsible sidebar category &#x27;ç³»ç»Ÿè¡¨&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/zh/operations/performance-test">æµ‹è¯•ç¡¬ä»¶</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/zh/operations/opentelemetry">OpenTelemetry Support</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/zh/operations/caches">Caches</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/zh/operations/clickhouse-keeper">ClickHouse Keeper</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/zh/operations/storing-data">External Disks for Storing Data</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/zh/operations/configuration-files">é…ç½®æ–‡ä»¶</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/docs/zh/operations/optimizing-performance/sampling-query-profiler">optimizing-performance</a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/zh/operations/quotas">é…é¢</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs/zh/operations/server-configuration-parameters/">æœåŠ¡å™¨é…ç½®å‚æ•°</a><button aria-label="Toggle the collapsible sidebar category &#x27;æœåŠ¡å™¨é…ç½®å‚æ•°&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/zh/operations/tips">ä½¿ç”¨å»ºè®®</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs/zh/operations/utilities/">å®ç”¨å·¥å…·</a><button aria-label="Toggle the collapsible sidebar category &#x27;å®ç”¨å·¥å…·&#x27;" type="button" class="clean-btn menu__caret"></button></div></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/zh/commercial/">å•†ä¸šæ”¯æŒ</a><button aria-label="Toggle the collapsible sidebar category &#x27;å•†ä¸šæ”¯æŒ&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/zh/faq/">F.A.Q.</a><button aria-label="Toggle the collapsible sidebar category &#x27;F.A.Q.&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/zh/whats-new/">ClickHouseäº‹è¿¹</a><button aria-label="Toggle the collapsible sidebar category &#x27;ClickHouseäº‹è¿¹&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/zh/changelog/">å˜æ›´æ—¥å¿—</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/zh/development/">ClickHouse å¼€å‘</a><button aria-label="Toggle the collapsible sidebar category &#x27;ClickHouse å¼€å‘&#x27;" type="button" class="clean-btn menu__caret"></button></div></li></ul></nav></div></aside><main class="docMainContainer_TCnq"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_DM6M"><div class="docItemContainer_vinB"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Xlws" aria-label="breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a class="breadcrumbs__link" href="/docs/">ğŸ </a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/docs/zh/operations/"><span itemprop="name">æ“ä½œ</span></a><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="item name">ClickHouse Keeper</span><meta itemprop="position" content="2"></li></ul></nav><div class="tocCollapsible_jdIR theme-doc-toc-mobile tocMobile_TmEX"><button type="button" class="clean-btn tocCollapsibleButton_Fzxq">On this page</button></div><div class="theme-doc-markdown markdown"><h1>[é¢„å‘ç”Ÿäº§]<!-- --> ClickHouse Keeper</h1><p>ClickHouse æœåŠ¡ä¸ºäº† <a href="/docs/zh/engines/table-engines/mergetree-family/replication">å‰¯æœ¬</a> å’Œ <a href="/docs/zh/sql-reference/distributed-ddl">åˆ†å¸ƒå¼DDL</a> æŸ¥è¯¢æ‰§è¡Œä½¿ç”¨ <a href="https://zookeeper.apache.org/" target="_blank" rel="noopener noreferrer">ZooKeeper</a> åè°ƒç³»ç»Ÿ. ClickHouse Keeper å’Œ ZooKeeperæ˜¯ç›¸äº’å…¼å®¹çš„ï¼Œå¯äº’ç›¸æ›¿ä»£.</p><div class="admonition admonition-danger alert alert--danger"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="16" viewBox="0 0 12 16"><path fill-rule="evenodd" d="M5.05.31c.81 2.17.41 3.38-.52 4.31C3.55 5.67 1.98 6.45.9 7.98c-1.45 2.05-1.7 6.53 3.53 7.7-2.2-1.16-2.67-4.52-.3-6.61-.61 2.03.53 3.33 1.94 2.86 1.39-.47 2.3.53 2.27 1.67-.02.78-.31 1.44-1.13 1.81 3.42-.59 4.78-3.42 4.78-5.56 0-2.84-2.53-3.22-1.25-5.61-1.52.13-2.03 1.13-1.89 2.75.09 1.08-1.02 1.8-1.86 1.33-.67-.41-.66-1.19-.06-1.78C8.18 5.31 8.68 2.45 5.05.32L5.03.3l.02.01z"></path></svg></span>&quot;è­¦å‘Š&quot;</h5></div><div class="admonition-content"><p>è¿™ä¸ªåŠŸèƒ½å½“å‰è¿˜åœ¨é¢„å‘ç”Ÿäº§é˜¶æ®µ. æˆ‘ä»¬åªæ˜¯åœ¨å†…éƒ¨éƒ¨åˆ†ä½¿ç”¨äºç”Ÿäº§ç¯å¢ƒå’Œæµ‹è¯•CIä¸­.</p></div></div><h2 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="implementation-details">å®ç°ç»†èŠ‚<a class="hash-link" href="#implementation-details" title="Direct link to heading">â€‹</a></h2><p>ZooKeeperæœ€æ—©çš„éå¸¸è‘—åçš„å¼€æºåè°ƒç³»ç»Ÿä¹‹ä¸€. å®ƒæ˜¯é€šè¿‡Javaè¯­è¨€å®ç°çš„, æœ‰ä¸€ä¸ªç›¸å½“èŠ‚ç‚¹å’Œå¼ºå¤§çš„æ•°æ®æ¨¡å‹. ZooKeeperçš„åè°ƒç®—æ³•å«åš ZAB (ZooKeeper Atomic Broadcast) zkä¸èƒ½ä¿è¯è¯»å–çš„çº¿æ€§åŒ–, ä»¥ä¸ºæ¯ä¸ªzkèŠ‚ç‚¹æœåŠ¡éƒ½æ˜¯é€šè¿‡æœ¬åœ°çº¿æ€§è¯»çš„. ClickHouse Keeperæ˜¯é€šè¿‡C++å†™çš„ï¼Œå’Œzookeeperä¸ä¸€æ ·ï¼Œ ClickHouse Keeperä½¿ç”¨çš„<a href="https://raft.github.io/" target="_blank" rel="noopener noreferrer">RAFT algorithm</a> <a href="https://github.com/eBay/NuRaft" target="_blank" rel="noopener noreferrer">implementation</a>ç®—æ³•. è¿™ä¸ªç®—æ³•å…è®¸çº¿æ€§è¯»å’Œå†™, å·²ç»æœ‰å‡ ç§ä¸åŒçš„è¯­è¨€çš„å¼€æºå®ç°.</p><p>ClickHouse Keeper é»˜è®¤æä¾›äº†ä¸€äº›ä¿è¯å’ŒZooKeeperæ˜¯ä¸€æ ·çš„ (çº¿æ€§å†™, éçº¿æ€§è¯»)å’Œ. clickhouse keeperæœ‰ä¸€ä¸ªå…¼å®¹çš„å®¢æˆ·ç«¯æœåŠ¡ç«¯åè®®, æ‰€ä»¥ä»»ä½•æ ‡å‡†çš„zookeeperå®¢æˆ·ç«¯éƒ½å¯ä»¥ç”¨æ¥ä¸clickhouse keeperè¿›è¡Œäº¤äº’. å¿«ç…§å’Œæ—¥å¿—çš„æ ¼å¼ä¸ZooKeeperä¸å…¼å®¹, ä½†æ˜¯é€šè¿‡<code>clickhouse-keeper-converter</code> å…è®¸è½¬æ¢ ZooKeeper æ•°æ®åˆ° ClickHouse Keeper å¿«ç…§. ClickHouse Keeperçš„interserveråè®®å’Œzookeeperä¹Ÿä¸å…¼å®¹ï¼Œæ‰€ä»¥ZooKeeper / ClickHouse Keeper æ··åˆéƒ¨ç½²é›†ç¾¤æ˜¯ä¸å¯èƒ½çš„.</p><p>ClickHouse Keeperæ”¯æŒè®¿é—®æ§åˆ¶åˆ—è¡¨(ACL)çš„æ–¹å¼å’Œ<a href="https://zookeeper.apache.org/doc/r3.1.2/zookeeperProgrammers.html#sc_ZooKeeperAccessControl" target="_blank" rel="noopener noreferrer">ZooKeeper</a> ä¸€æ ·. ClickHouse Keeperæ”¯æŒç›¸åŒçš„æƒé™é›†åˆå¹¶ä¸”æœ‰å®Œå…¨ç›¸åŒçš„å†…ç½®æ–¹æ¡ˆå¦‚ï¼š<code>world</code>, <code>auth</code>, <code>digest</code>, <code>host</code> and <code>ip</code>. æƒé™æ ¡éªŒä½¿ç”¨ <code>ç”¨æˆ·å:å¯†ç </code>æ–¹å¼é…å¯¹. å¯†ç é€šè¿‡Base64ç®—æ³•åŠ å¯†.</p><div class="admonition admonition-info alert alert--info"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>&quot;æ³¨æ„&quot;</h5></div><div class="admonition-content"><p>ä¸æ”¯æŒå¤–éƒ¨é›†æˆ</p></div></div><h2 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="configuration">é…ç½®<a class="hash-link" href="#configuration" title="Direct link to heading">â€‹</a></h2><p>ClickHouse Keeper å®Œå…¨å¯ä»¥ä½œä¸ºZooKeeperçš„ç‹¬ç«‹æ›¿ä»£å“æˆ–è€…ä½œä¸ºClickHouse serveræœåŠ¡çš„å†…éƒ¨ç»„ä»¶, ä½†æ˜¯è¿™ä¸¤ç§æ–¹å¼ä¸‹çš„é…ç½®ä½¿ç”¨ <code>.xml</code> æ ¼å¼ä¹Ÿå‡ ä¹éƒ½æ˜¯ç›¸åŒçš„. ClickHouse Keeper é…ç½®çš„æ ‡ç­¾æ˜¯ <code>&lt;keeper_server&gt;</code>. Keeper é…ç½®æœ‰ä»¥ä¸‹è¿™äº›å‚æ•°:</p><ul><li><code>tcp_port</code> â€” å®¢æˆ·ç«¯è¿æ¥çš„ç«¯å£(ZooKeeperé»˜è®¤æ˜¯<code>2181</code>).</li><li><code>tcp_port_secure</code> â€” client å’Œ keeper-serverä¹‹é—´çš„SSLè¿æ¥çš„å®‰å…¨ç«¯å£.</li><li><code>server_id</code> â€” å”¯ä¸€çš„æœåŠ¡å™¨ID, ClickHouse Keeper é›†ç¾¤çš„æ¯ä¸ªå‚ä¸ç»„ä»¶éƒ½å¿…é¡»æœ‰ä¸€ä¸ªå”¯ä¸€çš„ç¼–å·(1, 2, 3, ç­‰ç­‰).</li><li><code>log_storage_path</code> â€” åè°ƒæ—¥å¿—çš„è·¯å¾„, æœ€å¥½å­˜æ”¾åœ¨ä¸ç¹å¿™çš„æœºå™¨ä¸Š (å’ŒZooKeeperä¸€æ ·).</li><li><code>snapshot_storage_path</code> â€” åè°ƒå¿«ç…§çš„è·¯å¾„.</li></ul><p>å…¶ä»–å¸¸è§å‚æ•°ç»§æ‰¿è‡ªClickHouse serverçš„é…ç½® (<code>listen_host</code>, <code>logger</code>, ç­‰ç­‰).</p><p>å†…éƒ¨åè°ƒé…ç½®ä½äº<code>&lt;keeper_server&gt;.&lt;coordination_settings&gt;</code>éƒ¨åˆ†:</p><ul><li><code>operation_timeout_ms</code> â€” å•ä¸ªå®¢æˆ·ç«¯æ“ä½œçš„è¶…æ—¶æ—¶é—´(ms)(é»˜è®¤å€¼:10000)ã€‚</li><li><code>min_session_timeout_ms</code> â€” å®¢æˆ·ç«¯ä¼šè¯çš„æœ€å°è¶…æ—¶æ—¶é—´(ms)(é»˜è®¤å€¼:10000)ã€‚</li><li><code>session_timeout_ms</code> â€” å®¢æˆ·ç«¯ä¼šè¯æœ€å¤§è¶…æ—¶æ—¶é—´(ms)(é»˜è®¤100000)ã€‚</li><li><code>dead_session_check_period_ms</code> â€” ClickHouse Keeperæ£€æŸ¥æ­»ä¼šè¯å¹¶åˆ é™¤å®ƒä»¬çš„é¢‘ç‡(æ¯«ç§’)(é»˜è®¤å€¼:500)ã€‚</li><li><code>heart_beat_interval_ms</code> â€” ClickHouse Keeperçš„leaderå‘é€å¿ƒè·³é¢‘ç‡(æ¯«ç§’)(é»˜è®¤ä¸º500)ã€‚</li><li><code>election_timeout_lower_bound_ms</code> â€” å¦‚æœfolloweråœ¨æ­¤é—´éš”å†…æ²¡æœ‰æ”¶åˆ°leaderçš„å¿ƒè·³ï¼Œé‚£ä¹ˆå®ƒå¯ä»¥å¯åŠ¨leaderé€‰ä¸¾(é»˜è®¤ä¸º1000).</li><li><code>election_timeout_upper_bound_ms</code> â€” å¦‚æœfolloweråœ¨æ­¤é—´éš”å†…æ²¡æœ‰æ”¶åˆ°leaderçš„å¿ƒè·³ï¼Œé‚£ä¹ˆå®ƒå¿…é¡»å¯åŠ¨leaderé€‰ä¸¾(é»˜è®¤ä¸º2000)ã€‚</li><li><code>rotate_log_storage_interval</code> â€” å•ä¸ªæ–‡ä»¶ä¸­å­˜å‚¨çš„æ—¥å¿—è®°å½•æ•°é‡(é»˜è®¤100000æ¡)ã€‚</li><li><code>reserved_log_items</code> â€” åœ¨å‹ç¼©ä¹‹å‰éœ€è¦å­˜å‚¨å¤šå°‘åè°ƒæ—¥å¿—è®°å½•(é»˜è®¤100000)ã€‚</li><li><code>snapshot_distance</code> â€” ClickHouse Keeperåˆ›å»ºæ–°å¿«ç…§çš„é¢‘ç‡(ä»¥æ—¥å¿—è®°å½•çš„æ•°é‡ä¸ºå•ä½)(é»˜è®¤100000)ã€‚</li><li><code>snapshots_to_keep</code> â€” ä¿ç•™å¤šå°‘ä¸ªå¿«ç…§(é»˜è®¤å€¼:3)ã€‚</li><li><code>stale_log_gap</code> â€” å½“leaderè®¤ä¸ºfollowerè¿‡æ—¶å¹¶å‘é€å¿«ç…§ç»™followerè€Œä¸æ˜¯æ—¥å¿—æ—¶çš„é˜ˆå€¼(é»˜è®¤å€¼:10000)ã€‚</li><li><code>fresh_log_gap</code> â€” å½“èŠ‚ç‚¹å˜æˆæ–°é²œæ—¶çš„é—´éš”(é»˜è®¤å€¼:200)ã€‚</li><li><code>max_requests_batch_size</code> - å‘é€åˆ°RAFTä¹‹å‰çš„æœ€å¤§æ‰¹é‡è¯·æ±‚æ•°(é»˜è®¤å€¼:100)ã€‚</li><li><code>force_sync</code> â€” åœ¨æ¯æ¬¡å†™å…¥åè°ƒæ—¥å¿—æ—¶æ˜¯å¦è°ƒç”¨&#x27; fsync &#x27;(é»˜è®¤å€¼:true)ã€‚</li><li><code>quorum_reads</code> â€” é€šè¿‡æ•´ä¸ªRAFTå…±è¯†ä»¥ç±»ä¼¼çš„é€Ÿåº¦æ‰§è¡Œè¯»è¯·æ±‚å’Œå†™è¯·æ±‚(é»˜è®¤å€¼:false)ã€‚</li><li><code>raft_logs_level</code> â€” å…³äºåè°ƒçš„æ–‡æœ¬æ—¥å¿—çº§åˆ« (trace, debug, ç­‰ç­‰) (é»˜è®¤: system default).</li><li><code>auto_forwarding</code> â€” å…è®¸å°†followerçš„è¯·æ±‚è½¬å‘åˆ°leader (é»˜è®¤: true).</li><li><code>shutdown_timeout</code> â€” ç­‰å¾…å†…éƒ¨è¿æ¥å®Œæˆå¹¶å…³é—­(ms)(é»˜è®¤å€¼:5000)ã€‚</li><li><code>startup_timeout</code> â€” å¦‚æœæœåŠ¡å™¨åœ¨æŒ‡å®šçš„è¶…æ—¶æ—¶é—´å†…æ²¡æœ‰è¿æ¥åˆ°å…¶ä»–ä»²è£å‚ä¸è€…ï¼Œå®ƒå°†ç»ˆæ­¢(ms)(é»˜è®¤å€¼:30000)ã€‚</li><li><code>four_letter_word_white_list</code> â€” 4ä¸ªå­—æ¯çš„ç™½åå•åˆ—è¡¨ (é»˜è®¤: &quot;conf,cons,crst,envi,ruok,srst,srvr,stat,wchc,wchs,dirs,mntr,isro&quot;).</li></ul><p>ä»²è£é…ç½®ä½äº <code>&lt;keeper_server&gt;.&lt;raft_configuration&gt;</code> éƒ¨åˆ†ï¼Œå¹¶ä¸”ä¿æŠ¤ä¸€äº›æè¿°</p><p>æ•´ä¸ªä»²è£çš„å”¯ä¸€å‚æ•°æ˜¯â€œsecureâ€ï¼Œå®ƒä¸ºä»²è£å‚ä¸è€…ä¹‹é—´çš„é€šä¿¡å¯ç”¨åŠ å¯†è¿æ¥ã€‚å¦‚æœèŠ‚ç‚¹ä¹‹é—´çš„å†…éƒ¨é€šä¿¡éœ€è¦SSLè¿æ¥ï¼Œåˆ™è¯¥å‚æ•°å¯ä»¥è®¾ç½®ä¸ºâ€œtrueâ€ï¼Œå¦åˆ™ä¸æŒ‡å®šã€‚</p><p>æ¯ä¸ª<code>&lt;server&gt;</code>çš„ä¸»è¦å‚æ•°æ˜¯:</p><ul><li><code>id</code> â€” ä»²è£ä¸­çš„æœåŠ¡å™¨æ ‡è¯†ç¬¦ã€‚</li><li><code>hostname</code> â€” æ”¾ç½®è¯¥æœåŠ¡å™¨çš„ä¸»æœºåã€‚</li><li><code>port</code> â€” æœåŠ¡å™¨ç›‘å¬è¿æ¥çš„ç«¯å£ã€‚</li></ul><p>åœ¨<a href="https://github.com/ClickHouse/ClickHouse/tree/master/tests/integration" target="_blank" rel="noopener noreferrer">integration tests</a>å¯ä»¥æ‰¾åˆ°å¸¦æœ‰ <code>test_keeper_</code> å‰ç¼€çš„3ä¸ªèŠ‚ç‚¹çš„ä»²è£é…ç½®ç¤ºä¾‹. æœåŠ¡é…ç½®ä¸¾ä¾‹å¦‚ä¸‹ #1:</p><div class="codeBlockContainer_I0IT language-xml theme-code-block"><div class="codeBlockContent_wNvx" style="color:#000000;background-color:#ffffff"><pre tabindex="0" class="prism-code language-xml codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#000000"><span class="token tag punctuation" style="color:rgb(4, 81, 165)">&lt;</span><span class="token tag" style="color:rgb(128, 0, 0)">keeper_server</span><span class="token tag punctuation" style="color:rgb(4, 81, 165)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token tag punctuation" style="color:rgb(4, 81, 165)">&lt;</span><span class="token tag" style="color:rgb(128, 0, 0)">tcp_port</span><span class="token tag punctuation" style="color:rgb(4, 81, 165)">&gt;</span><span class="token plain">2181</span><span class="token tag punctuation" style="color:rgb(4, 81, 165)">&lt;/</span><span class="token tag" style="color:rgb(128, 0, 0)">tcp_port</span><span class="token tag punctuation" style="color:rgb(4, 81, 165)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token tag punctuation" style="color:rgb(4, 81, 165)">&lt;</span><span class="token tag" style="color:rgb(128, 0, 0)">server_id</span><span class="token tag punctuation" style="color:rgb(4, 81, 165)">&gt;</span><span class="token plain">1</span><span class="token tag punctuation" style="color:rgb(4, 81, 165)">&lt;/</span><span class="token tag" style="color:rgb(128, 0, 0)">server_id</span><span class="token tag punctuation" style="color:rgb(4, 81, 165)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token tag punctuation" style="color:rgb(4, 81, 165)">&lt;</span><span class="token tag" style="color:rgb(128, 0, 0)">log_storage_path</span><span class="token tag punctuation" style="color:rgb(4, 81, 165)">&gt;</span><span class="token plain">/var/lib/clickhouse/coordination/log</span><span class="token tag punctuation" style="color:rgb(4, 81, 165)">&lt;/</span><span class="token tag" style="color:rgb(128, 0, 0)">log_storage_path</span><span class="token tag punctuation" style="color:rgb(4, 81, 165)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token tag punctuation" style="color:rgb(4, 81, 165)">&lt;</span><span class="token tag" style="color:rgb(128, 0, 0)">snapshot_storage_path</span><span class="token tag punctuation" style="color:rgb(4, 81, 165)">&gt;</span><span class="token plain">/var/lib/clickhouse/coordination/snapshots</span><span class="token tag punctuation" style="color:rgb(4, 81, 165)">&lt;/</span><span class="token tag" style="color:rgb(128, 0, 0)">snapshot_storage_path</span><span class="token tag punctuation" style="color:rgb(4, 81, 165)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token tag punctuation" style="color:rgb(4, 81, 165)">&lt;</span><span class="token tag" style="color:rgb(128, 0, 0)">coordination_settings</span><span class="token tag punctuation" style="color:rgb(4, 81, 165)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token tag punctuation" style="color:rgb(4, 81, 165)">&lt;</span><span class="token tag" style="color:rgb(128, 0, 0)">operation_timeout_ms</span><span class="token tag punctuation" style="color:rgb(4, 81, 165)">&gt;</span><span class="token plain">10000</span><span class="token tag punctuation" style="color:rgb(4, 81, 165)">&lt;/</span><span class="token tag" style="color:rgb(128, 0, 0)">operation_timeout_ms</span><span class="token tag punctuation" style="color:rgb(4, 81, 165)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token tag punctuation" style="color:rgb(4, 81, 165)">&lt;</span><span class="token tag" style="color:rgb(128, 0, 0)">session_timeout_ms</span><span class="token tag punctuation" style="color:rgb(4, 81, 165)">&gt;</span><span class="token plain">30000</span><span class="token tag punctuation" style="color:rgb(4, 81, 165)">&lt;/</span><span class="token tag" style="color:rgb(128, 0, 0)">session_timeout_ms</span><span class="token tag punctuation" style="color:rgb(4, 81, 165)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token tag punctuation" style="color:rgb(4, 81, 165)">&lt;</span><span class="token tag" style="color:rgb(128, 0, 0)">raft_logs_level</span><span class="token tag punctuation" style="color:rgb(4, 81, 165)">&gt;</span><span class="token plain">trace</span><span class="token tag punctuation" style="color:rgb(4, 81, 165)">&lt;/</span><span class="token tag" style="color:rgb(128, 0, 0)">raft_logs_level</span><span class="token tag punctuation" style="color:rgb(4, 81, 165)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token tag punctuation" style="color:rgb(4, 81, 165)">&lt;/</span><span class="token tag" style="color:rgb(128, 0, 0)">coordination_settings</span><span class="token tag punctuation" style="color:rgb(4, 81, 165)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token tag punctuation" style="color:rgb(4, 81, 165)">&lt;</span><span class="token tag" style="color:rgb(128, 0, 0)">raft_configuration</span><span class="token tag punctuation" style="color:rgb(4, 81, 165)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token tag punctuation" style="color:rgb(4, 81, 165)">&lt;</span><span class="token tag" style="color:rgb(128, 0, 0)">server</span><span class="token tag punctuation" style="color:rgb(4, 81, 165)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">            </span><span class="token tag punctuation" style="color:rgb(4, 81, 165)">&lt;</span><span class="token tag" style="color:rgb(128, 0, 0)">id</span><span class="token tag punctuation" style="color:rgb(4, 81, 165)">&gt;</span><span class="token plain">1</span><span class="token tag punctuation" style="color:rgb(4, 81, 165)">&lt;/</span><span class="token tag" style="color:rgb(128, 0, 0)">id</span><span class="token tag punctuation" style="color:rgb(4, 81, 165)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">            </span><span class="token tag punctuation" style="color:rgb(4, 81, 165)">&lt;</span><span class="token tag" style="color:rgb(128, 0, 0)">hostname</span><span class="token tag punctuation" style="color:rgb(4, 81, 165)">&gt;</span><span class="token plain">zoo1</span><span class="token tag punctuation" style="color:rgb(4, 81, 165)">&lt;/</span><span class="token tag" style="color:rgb(128, 0, 0)">hostname</span><span class="token tag punctuation" style="color:rgb(4, 81, 165)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">            </span><span class="token tag punctuation" style="color:rgb(4, 81, 165)">&lt;</span><span class="token tag" style="color:rgb(128, 0, 0)">port</span><span class="token tag punctuation" style="color:rgb(4, 81, 165)">&gt;</span><span class="token plain">9444</span><span class="token tag punctuation" style="color:rgb(4, 81, 165)">&lt;/</span><span class="token tag" style="color:rgb(128, 0, 0)">port</span><span class="token tag punctuation" style="color:rgb(4, 81, 165)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token tag punctuation" style="color:rgb(4, 81, 165)">&lt;/</span><span class="token tag" style="color:rgb(128, 0, 0)">server</span><span class="token tag punctuation" style="color:rgb(4, 81, 165)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token tag punctuation" style="color:rgb(4, 81, 165)">&lt;</span><span class="token tag" style="color:rgb(128, 0, 0)">server</span><span class="token tag punctuation" style="color:rgb(4, 81, 165)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">            </span><span class="token tag punctuation" style="color:rgb(4, 81, 165)">&lt;</span><span class="token tag" style="color:rgb(128, 0, 0)">id</span><span class="token tag punctuation" style="color:rgb(4, 81, 165)">&gt;</span><span class="token plain">2</span><span class="token tag punctuation" style="color:rgb(4, 81, 165)">&lt;/</span><span class="token tag" style="color:rgb(128, 0, 0)">id</span><span class="token tag punctuation" style="color:rgb(4, 81, 165)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">            </span><span class="token tag punctuation" style="color:rgb(4, 81, 165)">&lt;</span><span class="token tag" style="color:rgb(128, 0, 0)">hostname</span><span class="token tag punctuation" style="color:rgb(4, 81, 165)">&gt;</span><span class="token plain">zoo2</span><span class="token tag punctuation" style="color:rgb(4, 81, 165)">&lt;/</span><span class="token tag" style="color:rgb(128, 0, 0)">hostname</span><span class="token tag punctuation" style="color:rgb(4, 81, 165)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">            </span><span class="token tag punctuation" style="color:rgb(4, 81, 165)">&lt;</span><span class="token tag" style="color:rgb(128, 0, 0)">port</span><span class="token tag punctuation" style="color:rgb(4, 81, 165)">&gt;</span><span class="token plain">9444</span><span class="token tag punctuation" style="color:rgb(4, 81, 165)">&lt;/</span><span class="token tag" style="color:rgb(128, 0, 0)">port</span><span class="token tag punctuation" style="color:rgb(4, 81, 165)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token tag punctuation" style="color:rgb(4, 81, 165)">&lt;/</span><span class="token tag" style="color:rgb(128, 0, 0)">server</span><span class="token tag punctuation" style="color:rgb(4, 81, 165)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token tag punctuation" style="color:rgb(4, 81, 165)">&lt;</span><span class="token tag" style="color:rgb(128, 0, 0)">server</span><span class="token tag punctuation" style="color:rgb(4, 81, 165)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">            </span><span class="token tag punctuation" style="color:rgb(4, 81, 165)">&lt;</span><span class="token tag" style="color:rgb(128, 0, 0)">id</span><span class="token tag punctuation" style="color:rgb(4, 81, 165)">&gt;</span><span class="token plain">3</span><span class="token tag punctuation" style="color:rgb(4, 81, 165)">&lt;/</span><span class="token tag" style="color:rgb(128, 0, 0)">id</span><span class="token tag punctuation" style="color:rgb(4, 81, 165)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">            </span><span class="token tag punctuation" style="color:rgb(4, 81, 165)">&lt;</span><span class="token tag" style="color:rgb(128, 0, 0)">hostname</span><span class="token tag punctuation" style="color:rgb(4, 81, 165)">&gt;</span><span class="token plain">zoo3</span><span class="token tag punctuation" style="color:rgb(4, 81, 165)">&lt;/</span><span class="token tag" style="color:rgb(128, 0, 0)">hostname</span><span class="token tag punctuation" style="color:rgb(4, 81, 165)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">            </span><span class="token tag punctuation" style="color:rgb(4, 81, 165)">&lt;</span><span class="token tag" style="color:rgb(128, 0, 0)">port</span><span class="token tag punctuation" style="color:rgb(4, 81, 165)">&gt;</span><span class="token plain">9444</span><span class="token tag punctuation" style="color:rgb(4, 81, 165)">&lt;/</span><span class="token tag" style="color:rgb(128, 0, 0)">port</span><span class="token tag punctuation" style="color:rgb(4, 81, 165)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token tag punctuation" style="color:rgb(4, 81, 165)">&lt;/</span><span class="token tag" style="color:rgb(128, 0, 0)">server</span><span class="token tag punctuation" style="color:rgb(4, 81, 165)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token tag punctuation" style="color:rgb(4, 81, 165)">&lt;/</span><span class="token tag" style="color:rgb(128, 0, 0)">raft_configuration</span><span class="token tag punctuation" style="color:rgb(4, 81, 165)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token tag punctuation" style="color:rgb(4, 81, 165)">&lt;/</span><span class="token tag" style="color:rgb(128, 0, 0)">keeper_server</span><span class="token tag punctuation" style="color:rgb(4, 81, 165)">&gt;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_eDfN clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><h2 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="how-to-run">å¦‚ä½•è¿è¡Œ<a class="hash-link" href="#how-to-run" title="Direct link to heading">â€‹</a></h2><p>ClickHouse Keeperè¢«ç»‘å®šåˆ°ClickHouseæœåŠ¡å™¨åŒ…ä¸­ï¼Œåªéœ€æ·»åŠ é…ç½®&#x27; &lt;keeper_server&gt; &#x27;ï¼Œå¹¶åƒå¾€å¸¸ä¸€æ ·å¯åŠ¨ClickHouseæœåŠ¡å™¨ã€‚å¦‚æœä½ æƒ³è¿è¡Œç‹¬ç«‹çš„ClickHouse Keeperï¼Œä½ å¯ä»¥ç”¨ç±»ä¼¼çš„æ–¹å¼å¯åŠ¨å®ƒ:</p><div class="codeBlockContainer_I0IT language-bash theme-code-block"><div class="codeBlockContent_wNvx" style="color:#000000;background-color:#ffffff"><pre tabindex="0" class="prism-code language-bash codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#000000"><span class="token plain">clickhouse-keeper --config /etc/your_path_to_config/config.xml</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_eDfN clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><p>å¦‚æœä½ æ²¡æœ‰ç¬¦å·é“¾æ¥(&#x27; clickhouse-keeper &#x27;)ï¼Œä½ å¯ä»¥åˆ›å»ºå®ƒæˆ–æŒ‡å®š&#x27; keeper &#x27;ä½œä¸ºå‚æ•°:</p><div class="codeBlockContainer_I0IT language-bash theme-code-block"><div class="codeBlockContent_wNvx" style="color:#000000;background-color:#ffffff"><pre tabindex="0" class="prism-code language-bash codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#000000"><span class="token plain">clickhouse keeper --config /etc/your_path_to_config/config.xml</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_eDfN clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><h2 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="four-letter-word-commands">å››å­—æ¯å‘½ä»¤<a class="hash-link" href="#four-letter-word-commands" title="Direct link to heading">â€‹</a></h2><p>ClickHouse Keeperè¿˜æä¾›äº†ä¸Zookeeperå‡ ä¹ç›¸åŒçš„4lwå‘½ä»¤ã€‚æ¯ä¸ªå‘½ä»¤ç”±4ä¸ªå­—æ¯ç»„æˆï¼Œå¦‚â€œmntrâ€ã€â€œstatâ€ç­‰ã€‚è¿˜æœ‰ä¸€äº›æ›´æœ‰è¶£çš„å‘½ä»¤:&#x27; stat &#x27;ç»™å‡ºäº†æœåŠ¡å™¨å’Œè¿æ¥å®¢æˆ·ç«¯çš„ä¸€èˆ¬ä¿¡æ¯ï¼Œè€Œ&#x27; srvr &#x27;å’Œ&#x27; cons &#x27;åˆ†åˆ«ç»™å‡ºäº†æœåŠ¡å™¨å’Œè¿æ¥çš„è¯¦ç»†ä¿¡æ¯ã€‚</p><p>4lwå‘½ä»¤æœ‰ä¸€ä¸ªç™½åå•é…ç½®â€œfour_letter_word_white_listâ€ï¼Œå®ƒçš„é»˜è®¤å€¼ä¸ºâ€œconf,cons,crst,envi,ruok,srst,srvr,stat,wchc,wchs,dirs,mntr,isroâ€ã€‚</p><p>æ‚¨å¯ä»¥é€šè¿‡telnetæˆ–ncåœ¨å®¢æˆ·ç«¯ç«¯å£å‘ClickHouse Keeperå‘å‡ºå‘½ä»¤ã€‚</p><div class="codeBlockContainer_I0IT theme-code-block"><div class="codeBlockContent_wNvx" style="color:#000000;background-color:#ffffff"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#000000"><span class="token plain">echo mntr | nc localhost 9181</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_eDfN clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><p>ä¸‹é¢æ˜¯4lwçš„è¯¦ç»†å‘½ä»¤:</p><ul><li><code>ruok</code>: æµ‹è¯•æœåŠ¡å™¨è¿è¡Œæ—¶æ˜¯å¦å¤„äºæ— é”™è¯¯çŠ¶æ€ã€‚å¦‚æœæœåŠ¡å™¨æ­£åœ¨è¿è¡Œï¼Œå®ƒå°†ç”¨imokå“åº”ã€‚å¦åˆ™å®ƒå°†å®Œå…¨ä¸å“åº”ã€‚â€œimokâ€çš„å“åº”å¹¶ä¸ä¸€å®šè¡¨æ˜æœåŠ¡å™¨å·²åŠ å…¥ä»²è£ï¼Œåªæ˜¯è¡¨æ˜æœåŠ¡å™¨è¿›ç¨‹å¤„äºæ´»åŠ¨çŠ¶æ€å¹¶ç»‘å®šåˆ°æŒ‡å®šçš„å®¢æˆ·ç«¯ç«¯å£ã€‚ä½¿ç”¨â€œstatâ€è·å–çŠ¶æ€wrtä»²è£å’Œå®¢æˆ·ç«¯è¿æ¥ä¿¡æ¯çš„è¯¦ç»†ä¿¡æ¯ã€‚</li></ul><div class="codeBlockContainer_I0IT theme-code-block"><div class="codeBlockContent_wNvx" style="color:#000000;background-color:#ffffff"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#000000"><span class="token plain">imok</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_eDfN clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><ul><li><code>mntr</code>: è¾“å‡ºå¯ç”¨äºç›‘è§†é›†ç¾¤è¿è¡ŒçŠ¶å†µçš„å˜é‡åˆ—è¡¨ã€‚</li></ul><div class="codeBlockContainer_I0IT theme-code-block"><div class="codeBlockContent_wNvx" style="color:#000000;background-color:#ffffff"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#000000"><span class="token plain">zk_version      v21.11.1.1-prestable-7a4a0b0edef0ad6e0aa662cd3b90c3f4acf796e7</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">zk_avg_latency  0</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">zk_max_latency  0</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">zk_min_latency  0</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">zk_packets_received     68</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">zk_packets_sent 68</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">zk_num_alive_connections        1</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">zk_outstanding_requests 0</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">zk_server_state leader</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">zk_znode_count  4</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">zk_watch_count  1</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">zk_ephemerals_count     0</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">zk_approximate_data_size        723</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">zk_open_file_descriptor_count   310</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">zk_max_file_descriptor_count    10240</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">zk_followers    0</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">zk_synced_followers     0</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_eDfN clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><ul><li><code>srvr</code>: åˆ—å‡ºæœåŠ¡å™¨çš„å®Œæ•´è¯¦ç»†ä¿¡æ¯ã€‚</li></ul><div class="codeBlockContainer_I0IT theme-code-block"><div class="codeBlockContent_wNvx" style="color:#000000;background-color:#ffffff"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#000000"><span class="token plain">ClickHouse Keeper version: v21.11.1.1-prestable-7a4a0b0edef0ad6e0aa662cd3b90c3f4acf796e7</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">Latency min/avg/max: 0/0/0</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">Received: 2</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">Sent : 2</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">Connections: 1</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">Outstanding: 0</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">Zxid: 34</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">Mode: leader</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">Node count: 4</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_eDfN clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><ul><li><code>stat</code>: åˆ—å‡ºæœåŠ¡å™¨å’Œè¿æ¥å®¢æˆ·æœºçš„ç®€è¦è¯¦ç»†ä¿¡æ¯ã€‚</li></ul><div class="codeBlockContainer_I0IT theme-code-block"><div class="codeBlockContent_wNvx" style="color:#000000;background-color:#ffffff"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#000000"><span class="token plain">ClickHouse Keeper version: v21.11.1.1-prestable-7a4a0b0edef0ad6e0aa662cd3b90c3f4acf796e7</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">Clients:</span><br></span><span class="token-line" style="color:#000000"><span class="token plain"> 192.168.1.1:52852(recved=0,sent=0)</span><br></span><span class="token-line" style="color:#000000"><span class="token plain"> 192.168.1.1:52042(recved=24,sent=48)</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">Latency min/avg/max: 0/0/0</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">Received: 4</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">Sent : 4</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">Connections: 1</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">Outstanding: 0</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">Zxid: 36</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">Mode: leader</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">Node count: 4</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_eDfN clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><ul><li><code>srst</code>: é‡ç½®æœåŠ¡å™¨ç»Ÿè®¡æ•°æ®ã€‚è¯¥å‘½ä»¤å°†å½±å“&#x27; srvr &#x27;ï¼Œ &#x27; mntr &#x27;å’Œ&#x27; stat &#x27;çš„ç»“æœã€‚</li></ul><div class="codeBlockContainer_I0IT theme-code-block"><div class="codeBlockContent_wNvx" style="color:#000000;background-color:#ffffff"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#000000"><span class="token plain">Server stats reset.</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_eDfN clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><ul><li><code>conf</code>: æ‰“å°æœåŠ¡é…ç½®è¯¦ç»†ä¿¡æ¯ã€‚</li></ul><div class="codeBlockContainer_I0IT theme-code-block"><div class="codeBlockContent_wNvx" style="color:#000000;background-color:#ffffff"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#000000"><span class="token plain">server_id=1</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">tcp_port=2181</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">four_letter_word_white_list=*</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">log_storage_path=./coordination/logs</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">snapshot_storage_path=./coordination/snapshots</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">max_requests_batch_size=100</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">session_timeout_ms=30000</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">operation_timeout_ms=10000</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">dead_session_check_period_ms=500</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">heart_beat_interval_ms=500</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">election_timeout_lower_bound_ms=1000</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">election_timeout_upper_bound_ms=2000</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">reserved_log_items=1000000000000000</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">snapshot_distance=10000</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">auto_forwarding=true</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">shutdown_timeout=5000</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">startup_timeout=240000</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">raft_logs_level=information</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">snapshots_to_keep=3</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">rotate_log_storage_interval=100000</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">stale_log_gap=10000</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">fresh_log_gap=200</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">max_requests_batch_size=100</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">quorum_reads=false</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">force_sync=false</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">compress_logs=true</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">compress_snapshots_with_zstd_format=true</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">configuration_change_tries_count=20</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_eDfN clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><ul><li><code>cons</code>: åˆ—å‡ºæ‰€æœ‰è¿æ¥åˆ°æ­¤æœåŠ¡å™¨çš„å®¢æˆ·ç«¯çš„å®Œæ•´è¿æ¥/ä¼šè¯è¯¦ç»†ä¿¡æ¯ã€‚åŒ…æ‹¬æ¥æ”¶/å‘é€çš„åŒ…æ•°ã€ä¼šè¯idã€æ“ä½œå»¶è¿Ÿã€æœ€åæ‰§è¡Œçš„æ“ä½œç­‰ä¿¡æ¯ã€‚</li></ul><div class="codeBlockContainer_I0IT theme-code-block"><div class="codeBlockContent_wNvx" style="color:#000000;background-color:#ffffff"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#000000"><span class="token plain"> 192.168.1.1:52163(recved=0,sent=0,sid=0xffffffffffffffff,lop=NA,est=1636454787393,to=30000,lzxid=0xffffffffffffffff,lresp=0,llat=0,minlat=0,avglat=0,maxlat=0)</span><br></span><span class="token-line" style="color:#000000"><span class="token plain"> 192.168.1.1:52042(recved=9,sent=18,sid=0x0000000000000001,lop=List,est=1636454739887,to=30000,lcxid=0x0000000000000005,lzxid=0x0000000000000005,lresp=1636454739892,llat=0,minlat=0,avglat=0,maxlat=0)</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_eDfN clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><ul><li><code>crst</code>: é‡ç½®æ‰€æœ‰è¿æ¥çš„è¿æ¥/ä¼šè¯ç»Ÿè®¡ä¿¡æ¯ã€‚</li></ul><div class="codeBlockContainer_I0IT theme-code-block"><div class="codeBlockContent_wNvx" style="color:#000000;background-color:#ffffff"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#000000"><span class="token plain">Connection stats reset.</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_eDfN clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><ul><li><code>envi</code>: æ‰“å°æœåŠ¡ç¯å¢ƒè¯¦ç»†ä¿¡æ¯</li></ul><div class="codeBlockContainer_I0IT theme-code-block"><div class="codeBlockContent_wNvx" style="color:#000000;background-color:#ffffff"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#000000"><span class="token plain">Environment:</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">clickhouse.keeper.version=v21.11.1.1-prestable-7a4a0b0edef0ad6e0aa662cd3b90c3f4acf796e7</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">host.name=ZBMAC-C02D4054M.local</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">os.name=Darwin</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">os.arch=x86_64</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">os.version=19.6.0</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">cpu.count=12</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">user.name=root</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">user.home=/Users/JackyWoo/</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">user.dir=/Users/JackyWoo/project/jd/clickhouse/cmake-build-debug/programs/</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">user.tmp=/var/folders/b4/smbq5mfj7578f2jzwn602tt40000gn/T/</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_eDfN clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><ul><li><code>dirs</code>: ä»¥å­—èŠ‚ä¸ºå•ä½æ˜¾ç¤ºå¿«ç…§å’Œæ—¥å¿—æ–‡ä»¶çš„æ€»å¤§å°</li></ul><div class="codeBlockContainer_I0IT theme-code-block"><div class="codeBlockContent_wNvx" style="color:#000000;background-color:#ffffff"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#000000"><span class="token plain">snapshot_dir_size: 0</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">log_dir_size: 3875</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_eDfN clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><ul><li><code>isro</code>: æµ‹è¯•æœåŠ¡å™¨æ˜¯å¦ä»¥åªè¯»æ¨¡å¼è¿è¡Œã€‚å¦‚æœå¤„äºåªè¯»æ¨¡å¼ï¼ŒæœåŠ¡å™¨å°†å“åº”â€œroâ€ï¼Œå¦‚æœä¸æ˜¯åªè¯»æ¨¡å¼ï¼Œåˆ™å“åº”â€œrwâ€ã€‚</li></ul><div class="codeBlockContainer_I0IT theme-code-block"><div class="codeBlockContent_wNvx" style="color:#000000;background-color:#ffffff"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#000000"><span class="token plain">rw</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_eDfN clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><ul><li><code>wchs</code>: åˆ—å‡ºæœåŠ¡å™¨çš„ç›‘è§†çš„ç®€è¦ä¿¡æ¯ã€‚</li></ul><div class="codeBlockContainer_I0IT theme-code-block"><div class="codeBlockContent_wNvx" style="color:#000000;background-color:#ffffff"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#000000"><span class="token plain">1 connections watching 1 paths</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">Total watches:1</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_eDfN clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><ul><li><code>wchc</code>: æŒ‰ä¼šè¯åˆ—å‡ºæœåŠ¡å™¨çš„ç›‘è§†çš„è¯¦ç»†ä¿¡æ¯ã€‚è¿™å°†è¾“å‡ºä¸€ä¸ªä¼šè¯(è¿æ¥)åˆ—è¡¨å’Œç›¸å…³çš„ç›‘è§†(è·¯å¾„)ã€‚æ³¨æ„ï¼Œæ ¹æ®ç›‘è§†çš„æ•°é‡ï¼Œæ­¤æ“ä½œå¯èƒ½ä¼šå¾ˆæ˜‚è´µ(å³å½±å“æœåŠ¡å™¨æ€§èƒ½)ï¼Œè¯·è°¨æ…ä½¿ç”¨ã€‚</li></ul><div class="codeBlockContainer_I0IT theme-code-block"><div class="codeBlockContent_wNvx" style="color:#000000;background-color:#ffffff"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#000000"><span class="token plain">0x0000000000000001</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    /clickhouse/task_queue/ddl</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_eDfN clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><ul><li><code>wchp</code>: æŒ‰è·¯å¾„åˆ—å‡ºæœ‰å…³æœåŠ¡å™¨çš„ç›‘è§†çš„è¯¦ç»†ä¿¡æ¯ã€‚è¿™å°†è¾“å‡ºä¸€ä¸ªå¸¦æœ‰å…³è”ä¼šè¯çš„è·¯å¾„(znode)åˆ—è¡¨ã€‚æ³¨æ„ï¼Œæ ¹æ®ç›‘è§†çš„æ•°é‡ï¼Œæ­¤æ“ä½œå¯èƒ½æ˜‚è´µ(å³å½±å“æœåŠ¡å™¨æ€§èƒ½)ï¼Œè¯·è°¨æ…ä½¿ç”¨ã€‚</li></ul><div class="codeBlockContainer_I0IT theme-code-block"><div class="codeBlockContent_wNvx" style="color:#000000;background-color:#ffffff"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#000000"><span class="token plain">/clickhouse/task_queue/ddl</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    0x0000000000000001</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_eDfN clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><ul><li><code>dump</code>: åˆ—å‡ºæœªå®Œæˆçš„ä¼šè¯å’Œä¸´æ—¶èŠ‚ç‚¹ã€‚è¿™åªå¯¹é¢†å¯¼è€…æœ‰æ•ˆã€‚</li></ul><div class="codeBlockContainer_I0IT theme-code-block"><div class="codeBlockContent_wNvx" style="color:#000000;background-color:#ffffff"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#000000"><span class="token plain">Sessions dump (2):</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">0x0000000000000001</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">0x0000000000000002</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">Sessions with Ephemerals (1):</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">0x0000000000000001</span><br></span><span class="token-line" style="color:#000000"><span class="token plain"> /clickhouse/task_queue/ddl</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_eDfN clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><h2 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="migration-from-zookeeper">[å®ç°]<!-- --> ä»ZooKeeperè¿ç§»<a class="hash-link" href="#migration-from-zookeeper" title="Direct link to heading">â€‹</a></h2><p>ä»ZooKeeperæ— ç¼è¿ç§»åˆ°ClickHouse Keeperæ˜¯ä¸å¯èƒ½çš„ï¼Œä½ å¿…é¡»åœæ­¢ä½ çš„ZooKeeperé›†ç¾¤ï¼Œè½¬æ¢æ•°æ®å¹¶å¯åŠ¨ClickHouse Keeperã€‚&#x27; ClickHouse - Keeper -converter &#x27;å·¥å…·å…è®¸å°†ZooKeeperæ—¥å¿—å’Œå¿«ç…§è½¬æ¢ä¸ºClickHouse Keeperå¿«ç…§ã€‚å®ƒåªé€‚ç”¨äºZooKeeper å¤§äº 3.4ã€‚è¿ç§»çš„æ­¥éª¤:</p><ol><li><p>åœæ‰ZooKeeperèŠ‚ç‚¹.</p></li><li><p>å¯é€‰ï¼Œä½†å»ºè®®:æ‰¾åˆ°ZooKeeper leaderèŠ‚ç‚¹ï¼Œé‡æ–°å¯åœã€‚å®ƒä¼šå¼ºåˆ¶ZooKeeperåˆ›å»ºä¸€è‡´çš„å¿«ç…§ã€‚</p></li><li><p>åœ¨leaderèŠ‚ç‚¹è¿è¡Œ<code>clickhouse-keeper-converter</code>, å¦‚ä¸‹:</p></li></ol><div class="codeBlockContainer_I0IT language-bash theme-code-block"><div class="codeBlockContent_wNvx" style="color:#000000;background-color:#ffffff"><pre tabindex="0" class="prism-code language-bash codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#000000"><span class="token plain">clickhouse-keeper-converter --zookeeper-logs-dir /var/lib/zookeeper/version-2 --zookeeper-snapshots-dir /var/lib/zookeeper/version-2 --output-dir /path/to/clickhouse/keeper/snapshots</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_eDfN clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><ol start="4"><li>å°†å¿«ç…§å¤åˆ¶åˆ°é…ç½®äº†â€œkeeperâ€çš„ClickHouseæœåŠ¡å™¨èŠ‚ç‚¹ï¼Œæˆ–è€…å¯åŠ¨ClickHouse keeperè€Œä¸æ˜¯ZooKeeperã€‚å¿«ç…§å¿…é¡»åœ¨æ‰€æœ‰èŠ‚ç‚¹ä¸ŠæŒä¹…ä¿å­˜ï¼Œå¦åˆ™ï¼Œç©ºèŠ‚ç‚¹å¯èƒ½æ›´å¿«ï¼Œå…¶ä¸­ä¸€ä¸ªèŠ‚ç‚¹å¯èƒ½æˆä¸ºleader.</li></ol><p><a href="https://clickhouse.com/docs/en/operations/clickhouse-keeper/" target="_blank" rel="noopener noreferrer">Original article</a> </p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/ClickHouse/ClickHouse/tree/master/docs/zh/operations/clickhouse-keeper.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_dcUD" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_foO9"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/docs/zh/operations/caches"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Caches</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/docs/zh/operations/storing-data"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">External Disks for Storing Data</div></a></div></nav></div></div><div class="col col--3"><div class="tableOfContents_cNA8 thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#implementation-details" class="table-of-contents__link toc-highlight">å®ç°ç»†èŠ‚</a></li><li><a href="#configuration" class="table-of-contents__link toc-highlight">é…ç½®</a></li><li><a href="#how-to-run" class="table-of-contents__link toc-highlight">å¦‚ä½•è¿è¡Œ</a></li><li><a href="#four-letter-word-commands" class="table-of-contents__link toc-highlight">å››å­—æ¯å‘½ä»¤</a></li><li><a href="#migration-from-zookeeper" class="table-of-contents__link toc-highlight">å®ç° ä»ZooKeeperè¿ç§»</a></li></ul></div></div></div></div></main></div></div><footer class="footer"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">ClickHouse</div><ul class="footer__items"><li class="footer__item"><a href="https://clickhouse.com/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Company</a></li><li class="footer__item"><a href="https://clickhouse.com/cloud/" target="_blank" rel="noopener noreferrer" class="footer__link-item">ClickHouse as a Service</a></li><li class="footer__item"><a href="https://clickhouse.com/careers/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Careers</a></li><li class="footer__item"><a href="https://clickhouse.com/learn/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Learn ClickHouse</a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items"><li class="footer__item"><a href="https://github.com/ClickHouse/ClickHouse" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_I5OW"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://clickhouse.com/blog/en/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Blog<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_I5OW"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://www.youtube.com/c/ClickHouseDB" target="_blank" rel="noopener noreferrer" class="footer__link-item">YouTube<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_I5OW"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://twitter.com/ClickHouseDB" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitter<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_I5OW"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://join.slack.com/t/clickhousedb/shared_invite/zt-rxm3rdrk-lIUmhLC3V8WTaL0TGxsOmg" target="_blank" rel="noopener noreferrer" class="footer__link-item">Slack<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_I5OW"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">Policies</div><ul class="footer__items"><li class="footer__item"><a href="https://clickhouse.com/legal/trademark-policy/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Trademark Policy</a></li><li class="footer__item"><a href="https://clickhouse.com/legal/privacy-policy/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Privacy Policy</a></li><li class="footer__item"><a href="https://clickhouse.com/legal/cookie-policy/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Cookie Policy</a></li></ul></div></div><div class="footer__bottom text--center"><div class="margin-bottom--sm"><img src="/docs/img/clickhouse.svg" alt="ClickHouse Documentation" class="themedImage_W2Cr themedImage--light_TfLj footer__logo"><img src="/docs/img/clickhouse.svg" alt="ClickHouse Documentation" class="themedImage_W2Cr themedImage--dark_oUvU footer__logo"></div><div class="footer__copyright">Copyright &copy; 2016&ndash;2022 ClickHouse, Inc. ClickHouse Docs provided under the Creative Commons CC BY-NC-SA 4.0 license. ClickHouse&reg; is a registered trademark of ClickHouse, Inc.</div></div></div></footer></div>
<script src="/docs/assets/js/runtime~main.61e45850.js"></script>
<script src="/docs/assets/js/main.de332c73.js"></script>
</body>
</html>