<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-ru/operations/settings/settings">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.18">
<link rel="preconnect" href="https://www.google-analytics.com">
<link rel="preconnect" href="https://www.googletagmanager.com">
<script async src="https://www.googletagmanager.com/gtag/js?id=G-KF1LLRTQ5Q"></script>
<script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-KF1LLRTQ5Q",{})</script>
<link rel="search" type="application/opensearchdescription+xml" title="ClickHouse Docs" href="/docs/opensearch.xml">
<script src="https://docs-content.clickhouse.tech/docs/js/analytics.js"></script><title data-rh="true">Настройки | ClickHouse Docs</title><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://clickhouse.com/docs/img/logo.png"><meta data-rh="true" name="twitter:image" content="https://clickhouse.com/docs/img/logo.png"><meta data-rh="true" property="og:url" content="https://clickhouse.com/docs/ru/operations/settings/settings"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Настройки | ClickHouse Docs"><meta data-rh="true" name="description" content="settings}"><meta data-rh="true" property="og:description" content="settings}"><link data-rh="true" rel="icon" href="/docs/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://clickhouse.com/docs/ru/operations/settings/settings"><link data-rh="true" rel="alternate" href="https://clickhouse.com/docs/ru/operations/settings/settings" hreflang="en"><link data-rh="true" rel="alternate" href="https://clickhouse.com/docs/ru/operations/settings/settings" hreflang="x-default"><link rel="stylesheet" href="/docs/assets/css/styles.762d4b44.css">
<link rel="preload" href="/docs/assets/js/runtime~main.832195c1.js" as="script">
<link rel="preload" href="/docs/assets/js/main.0e6c66ce.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region"><a href="#" class="skipToContent_ZgBM">Skip to main content</a></div><nav class="navbar navbar--fixed-top navbarHideable_ObN2"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a href="https://clickhouse.com/" target="_blank" rel="noopener noreferrer" class="navbar__brand"><div class="navbar__logo"><img src="/docs/img/clickhouse.svg" alt="ClickHouse" class="themedImage_W2Cr themedImage--light_TfLj"><img src="/docs/img/clickhouse.svg" alt="ClickHouse" class="themedImage_W2Cr themedImage--dark_oUvU"></div><b class="navbar__title">ClickHouse</b></a><a class="navbar__item navbar__link" href="/docs/en/intro">Docs</a></div><div class="navbar__items navbar__items--right"><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link">Language</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/docs/en/intro">English</a></li><li><a aria-current="page" class="dropdown__link dropdown__link--active" href="/docs/ru">Russian</a></li><li><a class="dropdown__link" href="/docs/zh">Chinese</a></li></ul></div><div class="navbar__search"><span aria-label="expand searchbar" role="button" class="search-icon" tabindex="0"></span><input type="search" id="search_input_react" placeholder="Loading..." aria-label="Search" class="navbar__search-input search-bar" disabled=""></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper"><div class="docPage_P2Lg"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_RiI4" type="button"></button><aside class="theme-doc-sidebar-container docSidebarContainer_rKC_"><div class="sidebar_RiAD sidebarWithHideableNavbar_d0QC"><a href="https://clickhouse.com/" target="_blank" rel="noopener noreferrer" tabindex="-1" class="sidebarLogo_YUvz"><img src="/docs/img/clickhouse.svg" alt="ClickHouse" class="themedImage_W2Cr themedImage--light_TfLj"><img src="/docs/img/clickhouse.svg" alt="ClickHouse" class="themedImage_W2Cr themedImage--dark_oUvU"><b>ClickHouse</b></a><nav class="menu thin-scrollbar menu_izAj"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/ru/">Что такое ClickHouse</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/category/введение">Введение</a><button aria-label="Toggle the collapsible sidebar category &#x27;Введение&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/ru/getting-started/">Начало работы</a><button aria-label="Toggle the collapsible sidebar category &#x27;Начало работы&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/ru/interfaces/">Интерфейсы</a><button aria-label="Toggle the collapsible sidebar category &#x27;Интерфейсы&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/category/engines">Engines</a><button aria-label="Toggle the collapsible sidebar category &#x27;Engines&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/ru/sql-reference/">Справка по SQL</a><button aria-label="Toggle the collapsible sidebar category &#x27;Справка по SQL&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/ru/guides/">Руководства</a><button aria-label="Toggle the collapsible sidebar category &#x27;Руководства&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" href="/docs/ru/operations/">Эксплуатация</a><button aria-label="Toggle the collapsible sidebar category &#x27;Эксплуатация&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/ru/operations/requirements">Требования</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/ru/operations/monitoring">Мониторинг</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/ru/operations/troubleshooting">Устранение неисправностей</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/ru/operations/update">Обновление ClickHouse</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/ru/operations/access-rights">Управление доступом</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs/ru/operations/external-authenticators/">Внешние аутентификаторы пользователей и каталоги</a><button aria-label="Toggle the collapsible sidebar category &#x27;Внешние аутентификаторы пользователей и каталоги&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/ru/operations/backup">Резервное копирование данных</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/ru/operations/configuration-files">Конфигурационные файлы</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/ru/operations/quotas">Квоты</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs/ru/operations/optimizing-performance/">Optimizing Performance</a><button aria-label="Toggle the collapsible sidebar category &#x27;Optimizing Performance&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs/ru/operations/system-tables/">Системные таблицы</a><button aria-label="Toggle the collapsible sidebar category &#x27;Системные таблицы&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/ru/operations/performance-test">Testing Hardware</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs/ru/operations/server-configuration-parameters/">Конфигурационные параметры сервера</a><button aria-label="Toggle the collapsible sidebar category &#x27;Конфигурационные параметры сервера&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" tabindex="0" href="/docs/ru/operations/settings/">Settings</a><button aria-label="Toggle the collapsible sidebar category &#x27;Settings&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/ru/operations/settings/permissions-for-queries">Разрешения для запросов</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/ru/operations/settings/query-complexity">Ограничения на сложность запроса</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/ru/operations/settings/settings">Настройки</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/ru/operations/settings/settings-profiles">Профили настроек</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/ru/operations/settings/constraints-on-settings">Ограничения на изменение настроек</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/ru/operations/settings/settings-users">Настройки пользователей</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/ru/operations/settings/merge-tree-settings">Настройки MergeTree таблиц</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs/ru/operations/utilities/">Утилиты</a><button aria-label="Toggle the collapsible sidebar category &#x27;Утилиты&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/ru/operations/tips">Usage Recommendations</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/ru/operations/opentelemetry">Поддержка OpenTelemetry</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/ru/operations/caches">Кеши</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/ru/operations/clickhouse-keeper">ClickHouse Keeper</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/ru/operations/storing-data">Хранение данных на внешних дисках</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/ru/operations/named-collections">Именованные соединения</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/category/инструкция-для-разработчиков">Инструкция для разработчиков</a><button aria-label="Toggle the collapsible sidebar category &#x27;Инструкция для разработчиков&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/ru/commercial/">Коммерческие услуги</a><button aria-label="Toggle the collapsible sidebar category &#x27;Коммерческие услуги&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/ru/faq/">F.A.Q.</a><button aria-label="Toggle the collapsible sidebar category &#x27;F.A.Q.&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/ru/whats-new/">Что нового?</a><button aria-label="Toggle the collapsible sidebar category &#x27;Что нового?&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/ru/about-us/support">about-us</a></div></li></ul></nav></div></aside><main class="docMainContainer_TCnq"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_DM6M"><div class="docItemContainer_vinB"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Xlws" aria-label="breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a class="breadcrumbs__link" href="/docs/">🏠</a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/docs/ru/operations/"><span itemprop="name">Эксплуатация</span></a><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/docs/ru/operations/settings/"><span itemprop="name">Settings</span></a><meta itemprop="position" content="2"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="item name">Настройки</span><meta itemprop="position" content="3"></li></ul></nav><div class="tocCollapsible_jdIR theme-doc-toc-mobile tocMobile_TmEX"><button type="button" class="clean-btn tocCollapsibleButton_Fzxq">On this page</button></div><div class="theme-doc-markdown markdown"><h1>Настройки</h1><h2 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="distributed-product-mode">distributed_product_mode<a class="hash-link" href="#distributed-product-mode" title="Direct link to heading">​</a></h2><p>Изменяет поведение <a href="/docs/ru/sql-reference/operators/">распределенных подзапросов</a>.</p><p>ClickHouse применяет настройку в тех случаях, когда запрос содержит произведение распределённых таблиц, т.е. когда запрос к распределенной таблице содержит не-GLOBAL подзапрос к также распределенной таблице.</p><p>Условия применения:</p><ul><li>Только подзапросы для IN, JOIN.</li><li>Только если в секции FROM используется распределённая таблица, содержащая более одного шарда.</li><li>Если подзапрос касается распределенной таблицы, содержащей более одного шарда.</li><li>Не используется в случае табличной функции <a href="/docs/ru/sql-reference/table-functions/remote">remote</a>.</li></ul><p>Возможные значения:</p><ul><li><code>deny</code> — значение по умолчанию. Запрещает использование таких подзапросов (При попытке использование вернет исключение «Double-distributed IN/JOIN subqueries is denied»);</li><li><code>local</code> — заменяет базу данных и таблицу в подзапросе на локальные для конечного сервера (шарда), оставив обычный <code>IN</code>/<code>JOIN.</code></li><li><code>global</code> — заменяет запрос <code>IN</code>/<code>JOIN</code> на <code>GLOBAL IN</code>/<code>GLOBAL JOIN.</code></li><li><code>allow</code> — разрешает использование таких подзапросов.</li></ul><h2 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="prefer-global-in-and-join">prefer_global_in_and_join<a class="hash-link" href="#prefer-global-in-and-join" title="Direct link to heading">​</a></h2><p>Заменяет запрос <code>IN</code>/<code>JOIN</code> на <code>GLOBAL IN</code>/<code>GLOBAL JOIN</code>.</p><p>Возможные значения:</p><ul><li>0 — выключена. Операторы <code>IN</code>/<code>JOIN</code> не заменяются на <code>GLOBAL IN</code>/<code>GLOBAL JOIN</code>.</li><li>1 — включена. Операторы <code>IN</code>/<code>JOIN</code> заменяются на <code>GLOBAL IN</code>/<code>GLOBAL JOIN</code>.</li></ul><p>Значение по умолчанию: <code>0</code>.</p><p><strong>Использование</strong></p><p>Настройка <code>SET distributed_product_mode=global</code> меняет поведение запросов для распределенных таблиц, но она не подходит для локальных таблиц или таблиц из внешних источников. В этих случаях удобно использовать настройку <code>prefer_global_in_and_join</code>.</p><p>Например, если нужно объединить все данные из локальных таблиц, которые находятся на разных узлах — для распределенной обработки необходим <code>GLOBAL JOIN</code>.</p><p>Другой вариант использования настройки <code>prefer_global_in_and_join</code> — регулирование обращений к таблицам из внешних источников.
Эта настройка помогает уменьшить количество обращений к внешним ресурсам при объединении внешних таблиц: только один вызов на весь распределенный запрос.</p><p><strong>См. также:</strong></p><ul><li><a href="/docs/ru/sql-reference/operators/in#select-distributed-subqueries">Распределенные подзапросы</a> <code>GLOBAL IN</code>/<code>GLOBAL JOIN</code></li></ul><h2 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="enable-optimize-predicate-expression">enable_optimize_predicate_expression<a class="hash-link" href="#enable-optimize-predicate-expression" title="Direct link to heading">​</a></h2><p>Включает пробрасывание предикатов в подзапросы для запросов <code>SELECT</code>.</p><p>Пробрасывание предикатов может существенно уменьшить сетевой трафик для распределенных запросов.</p><p>Возможные значения:</p><ul><li>0 — выключена.</li><li>1 — включена.</li></ul><p>Значение по умолчанию: 1.</p><p>Использование</p><p>Рассмотрим следующие запросы:</p><ol><li><code>SELECT count() FROM test_table WHERE date = &#x27;2018-10-10&#x27;</code></li><li><code>SELECT count() FROM (SELECT * FROM test_table) WHERE date = &#x27;2018-10-10&#x27;</code></li></ol><p>Если <code>enable_optimize_predicate_expression = 1</code>, то время выполнения запросов одинаковое, так как ClickHouse применяет <code>WHERE</code> к подзапросу сразу при его обработке.</p><p>Если <code>enable_optimize_predicate_expression = 0</code>, то время выполнения второго запроса намного больше, потому что секция <code>WHERE</code> применяется к данным уже после завершения подзапроса.</p><h2 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="settings-fallback_to_stale_replicas_for_distributed_queries">fallback_to_stale_replicas_for_distributed_queries<a class="hash-link" href="#settings-fallback_to_stale_replicas_for_distributed_queries" title="Direct link to heading">​</a></h2><p>Форсирует запрос в устаревшую реплику в случае, если актуальные данные недоступны. См. <a href="/docs/ru/engines/table-engines/mergetree-family/replication">Репликация</a>.</p><p>Из устаревших реплик таблицы ClickHouse выбирает наиболее актуальную.</p><p>Используется при выполнении <code>SELECT</code> из распределенной таблицы, которая указывает на реплицированные таблицы.</p><p>По умолчанию - 1 (включена).</p><h2 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="settings-force_index_by_date">force_index_by_date<a class="hash-link" href="#settings-force_index_by_date" title="Direct link to heading">​</a></h2><p>Запрещает выполнение запросов, если использовать индекс по дате невозможно.</p><p>Работает с таблицами семейства MergeTree.</p><p>При <code>force_index_by_date=1</code> ClickHouse проверяет, есть ли в запросе условие на ключ даты, которое может использоваться для отсечения диапазонов данных. Если подходящего условия нет - кидается исключение. При этом не проверяется, действительно ли условие уменьшает объём данных для чтения. Например, условие <code>Date != &#x27;2000-01-01&#x27;</code> подходит даже в том случае, когда соответствует всем данным в таблице (т.е. для выполнения запроса требуется full scan). Подробнее про диапазоны данных в таблицах MergeTree читайте в разделе <a href="/docs/ru/engines/table-engines/mergetree-family/mergetree">MergeTree</a>.</p><h2 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="settings-force_primary_key">force_primary_key<a class="hash-link" href="#settings-force_primary_key" title="Direct link to heading">​</a></h2><p>Запрещает выполнение запросов, если использовать индекс по первичному ключу невозможно.</p><p>Работает с таблицами семейства MergeTree.</p><p>При <code>force_primary_key=1</code> ClickHouse проверяет, есть ли в запросе условие на первичный ключ, которое может использоваться для отсечения диапазонов данных. Если подходящего условия нет - кидается исключение. При этом не проверяется, действительно ли условие уменьшает объём данных для чтения. Подробнее про диапазоны данных в таблицах MergeTree читайте в разделе <a href="/docs/ru/engines/table-engines/mergetree-family/mergetree">MergeTree</a>.</p><h2 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="format-schema">format_schema<a class="hash-link" href="#format-schema" title="Direct link to heading">​</a></h2><p>Параметр применяется в том случае, когда используются форматы, требующие определения схемы, например <a href="https://capnproto.org/" target="_blank" rel="noopener noreferrer">Cap’n Proto</a> или <a href="https://developers.google.com/protocol-buffers/" target="_blank" rel="noopener noreferrer">Protobuf</a>. Значение параметра зависит от формата.</p><h2 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="fsync-metadata">fsync_metadata<a class="hash-link" href="#fsync-metadata" title="Direct link to heading">​</a></h2><p>Включает или отключает <a href="http://pubs.opengroup.org/onlinepubs/9699919799/functions/fsync.html" target="_blank" rel="noopener noreferrer">fsync</a> при записи <code>.sql</code> файлов. По умолчанию включено.</p><p>Имеет смысл выключать, если на сервере миллионы мелких таблиц-чанков, которые постоянно создаются и уничтожаются.</p><h2 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="settings-function_range_max_elements_in_block">function_range_max_elements_in_block<a class="hash-link" href="#settings-function_range_max_elements_in_block" title="Direct link to heading">​</a></h2><p>Устанавливает порог безопасности для объема данных, создаваемого функцией <a href="/docs/ru/sql-reference/functions/array-functions#range">range</a>. Задаёт максимальное количество значений, генерируемых функцией на блок данных (сумма размеров массивов для каждой строки в блоке).</p><p>Возможные значения:</p><ul><li>Положительное целое.</li></ul><p>Значение по умолчанию: <code>500 000 000</code>.</p><p><strong>См. также</strong></p><ul><li><a href="#setting-max_block_size">max_block_size</a></li><li><a href="#min-insert-block-size-rows">min_insert_block_size_rows</a></li></ul><h2 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="settings-enable_http_compression">enable_http_compression<a class="hash-link" href="#settings-enable_http_compression" title="Direct link to heading">​</a></h2><p>Включает или отключает сжатие данных в ответе на HTTP-запрос.</p><p>Для получения дополнительной информации, читайте <a href="/docs/ru/interfaces/http">Описание интерфейса HTTP</a>.</p><p>Возможные значения:</p><ul><li>0 — выключена.</li><li>1 — включена.</li></ul><p>Значение по умолчанию: 0.</p><h2 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="settings-http_zlib_compression_level">http_zlib_compression_level<a class="hash-link" href="#settings-http_zlib_compression_level" title="Direct link to heading">​</a></h2><p>Задаёт уровень сжатия данных в ответе на HTTP-запрос, если <a href="#settings-enable_http_compression">enable_http_compression = 1</a>.</p><p>Возможные значения: числа от 1 до 9.</p><p>Значение по умолчанию: 3.</p><h2 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="settings-http_native_compression_disable_checksumming_on_decompress">http_native_compression_disable_checksumming_on_decompress<a class="hash-link" href="#settings-http_native_compression_disable_checksumming_on_decompress" title="Direct link to heading">​</a></h2><p>Включает или отключает проверку контрольной суммы при распаковке данных HTTP POST от клиента. Используется только для собственного (<code>Navite</code>) формата сжатия ClickHouse (ни <code>gzip</code>, ни <code>deflate</code>).</p><p>Для получения дополнительной информации, читайте <a href="/docs/ru/interfaces/http">Описание интерфейса HTTP</a>.</p><p>Возможные значения:</p><ul><li>0 — выключена.</li><li>1 — включена.</li></ul><p>Значение по умолчанию: 0.</p><h2 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="http-max-uri-size">http_max_uri_size<a class="hash-link" href="#http-max-uri-size" title="Direct link to heading">​</a></h2><p>Устанавливает максимальную длину URI в HTTP-запросе.</p><p>Возможные значения:</p><ul><li>Положительное целое.</li></ul><p>Значение по умолчанию: 1048576.</p><h2 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="table_function_remote_max_addresses">table_function_remote_max_addresses<a class="hash-link" href="#table_function_remote_max_addresses" title="Direct link to heading">​</a></h2><p>Задает максимальное количество адресов, которые могут быть сгенерированы из шаблонов для функции <a href="/docs/ru/sql-reference/table-functions/remote">remote</a>.</p><p>Возможные значения:</p><ul><li>Положительное целое.</li></ul><p>Значение по умолчанию: <code>1000</code>.</p><h2 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="glob_expansion_max_elements--glob_expansion_max_elements-">glob_expansion_max_elements  {#glob_expansion_max_elements }<a class="hash-link" href="#glob_expansion_max_elements--glob_expansion_max_elements-" title="Direct link to heading">​</a></h2><p>Задает максимальное количество адресов, которые могут быть сгенерированы из шаблонов при использовании внешних хранилищ и при вызове табличных функциях (например, <a href="/docs/ru/sql-reference/table-functions/url">url</a>), кроме функции <code>remote</code>.</p><p>Возможные значения:</p><ul><li>Положительное целое.</li></ul><p>Значение по умолчанию: <code>1000</code>.</p><h2 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="settings-send_progress_in_http_headers">send_progress_in_http_headers<a class="hash-link" href="#settings-send_progress_in_http_headers" title="Direct link to heading">​</a></h2><p>Включает или отключает HTTP-заголовки <code>X-ClickHouse-Progress</code> в ответах <code>clickhouse-server</code>.</p><p>Для получения дополнительной информации, читайте <a href="/docs/ru/interfaces/http">Описание интерфейса HTTP</a>.</p><p>Возможные значения:</p><ul><li>0 — выключена.</li><li>1 — включена.</li></ul><p>Значение по умолчанию: 0.</p><h2 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="setting-max_http_get_redirects">max_http_get_redirects<a class="hash-link" href="#setting-max_http_get_redirects" title="Direct link to heading">​</a></h2><p>Ограничивает максимальное количество переходов по редиректам в таблицах с движком <a href="/docs/ru/engines/table-engines/special/url">URL</a> при выполнении HTTP запросов методом GET. Настройка применяется для обоих типов таблиц: созданных запросом <a href="/docs/ru/sql-reference/statements/create/table#create-table-query">CREATE TABLE</a> и с помощью табличной функции <a href="/docs/ru/sql-reference/table-functions/url">url</a>.</p><p>Возможные значения:</p><ul><li>Положительное целое число переходов.</li><li>0 — переходы запрещены.</li></ul><p>Значение по умолчанию: 0.</p><h2 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="input-format-allow-errors-num">input_format_allow_errors_num<a class="hash-link" href="#input-format-allow-errors-num" title="Direct link to heading">​</a></h2><p>Устанавливает максимальное количество допустимых ошибок при чтении из текстовых форматов (CSV, TSV и т.п.).</p><p>Значение по умолчанию: 0.</p><p>Используйте обязательно в паре с <code>input_format_allow_errors_ratio</code>. Для пропуска ошибок, значения обеих настроек должны быть больше 0.</p><p>Если при чтении строки возникла ошибка, но при этом счетчик ошибок меньше <code>input_format_allow_errors_num</code>, то ClickHouse игнорирует строку и переходит к следующей.</p><p>В случае превышения <code>input_format_allow_errors_num</code> ClickHouse генерирует исключение.</p><h2 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="input-format-allow-errors-ratio">input_format_allow_errors_ratio<a class="hash-link" href="#input-format-allow-errors-ratio" title="Direct link to heading">​</a></h2><p>Устанавливает максимальную долю допустимых ошибок при чтении из текстовых форматов (CSV, TSV и т.п.).
Доля ошибок задаётся в виде числа с плавающей запятой от 0 до 1.</p><p>Значение по умолчанию: 0.</p><p>Используйте обязательно в паре с <code>input_format_allow_errors_num</code>. Для пропуска ошибок, значения обеих настроек должны быть больше 0.</p><p>Если при чтении строки возникла ошибка, но при этом текущая доля ошибок меньше <code>input_format_allow_errors_ratio</code>, то ClickHouse игнорирует строку и переходит к следующей.</p><p>В случае превышения <code>input_format_allow_errors_ratio</code> ClickHouse генерирует исключение.</p><h2 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="input_format_parquet_import_nested">input_format_parquet_import_nested<a class="hash-link" href="#input_format_parquet_import_nested" title="Direct link to heading">​</a></h2><p>Включает или отключает возможность вставки данных в колонки типа <a href="/docs/ru/sql-reference/data-types/nested-data-structures/nested">Nested</a> в виде массива структур  в формате ввода <a href="/docs/ru/interfaces/formats#data-format-parquet">Parquet</a>.</p><p>Возможные значения:</p><ul><li>0 — данные не могут быть вставлены в колонки типа <code>Nested</code> в виде массива структур.</li><li>0 — данные могут быть вставлены в колонки типа <code>Nested</code> в виде массива структур.</li></ul><p>Значение по умолчанию: <code>0</code>.</p><h2 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="input_format_arrow_import_nested">input_format_arrow_import_nested<a class="hash-link" href="#input_format_arrow_import_nested" title="Direct link to heading">​</a></h2><p>Включает или отключает возможность вставки данных в колонки типа <a href="/docs/ru/sql-reference/data-types/nested-data-structures/nested">Nested</a> в виде массива структур в формате ввода <a href="/docs/ru/interfaces/formats#data_types-matching-arrow">Arrow</a>.</p><p>Возможные значения:</p><ul><li>0 — данные не могут быть вставлены в колонки типа <code>Nested</code> в виде массива структур.</li><li>0 — данные могут быть вставлены в колонки типа <code>Nested</code> в виде массива структур.</li></ul><p>Значение по умолчанию: <code>0</code>.</p><h2 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="input_format_orc_import_nested">input_format_orc_import_nested<a class="hash-link" href="#input_format_orc_import_nested" title="Direct link to heading">​</a></h2><p>Включает или отключает возможность вставки данных в колонки типа <a href="/docs/ru/sql-reference/data-types/nested-data-structures/nested">Nested</a> в виде массива структур в формате ввода <a href="/docs/ru/interfaces/formats#data-format-orc">ORC</a>.</p><p>Возможные значения:</p><ul><li>0 — данные не могут быть вставлены в колонки типа <code>Nested</code> в виде массива структур.</li><li>0 — данные могут быть вставлены в колонки типа <code>Nested</code> в виде массива структур.</li></ul><p>Значение по умолчанию: <code>0</code>.</p><h2 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="settings-input_format_values_interpret_expressions">input_format_values_interpret_expressions<a class="hash-link" href="#settings-input_format_values_interpret_expressions" title="Direct link to heading">​</a></h2><p>Включает или отключает парсер SQL, если потоковый парсер не может проанализировать данные. Этот параметр используется только для формата <a href="/docs/ru/interfaces/formats#data-format-values">Values</a> при вставке данных. Дополнительные сведения о парсерах читайте в разделе <a href="/docs/ru/sql-reference/syntax">Синтаксис</a>.</p><p>Возможные значения:</p><ul><li><p>0 — выключена.</p><div class="codeBlockContainer_I0IT theme-code-block"><div class="codeBlockContent_wNvx" style="color:#000000;background-color:#ffffff"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#000000"><span class="token plain">В этом случае необходимо вставлять форматированные данные. Смотрите раздел [Форматы](/docs/ru/interfaces/formats).</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_eDfN clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></li><li><p>1 — включена.</p><div class="codeBlockContainer_I0IT theme-code-block"><div class="codeBlockContent_wNvx" style="color:#000000;background-color:#ffffff"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#000000"><span class="token plain">В этом случае вы можете использовать выражение SQL в качестве значения, но вставка данных намного медленнее. Если вы вставляете только форматированные данные, ClickHouse ведет себя так, как будто значение параметра равно 0.</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_eDfN clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></li></ul><p>Значение по умолчанию: 1.</p><p>Пример использования:</p><p>Вставим значение типа <a href="/docs/ru/sql-reference/data-types/datetime">DateTime</a> при разных значения настройки.</p><div class="codeBlockContainer_I0IT language-sql theme-code-block"><div class="codeBlockContent_wNvx" style="color:#000000;background-color:#ffffff"><pre tabindex="0" class="prism-code language-sql codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#000000"><span class="token keyword" style="color:rgb(0, 0, 255)">SET</span><span class="token plain"> input_format_values_interpret_expressions </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">0</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">INSERT</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">INTO</span><span class="token plain"> datetime_t </span><span class="token keyword" style="color:rgb(0, 0, 255)">VALUES</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token function" style="color:rgb(0, 0, 255)">now</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_eDfN clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><div class="codeBlockContainer_I0IT language-text theme-code-block"><div class="codeBlockContent_wNvx" style="color:#000000;background-color:#ffffff"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#000000"><span class="token plain">Exception on client:</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">Code: 27. DB::Exception: Cannot parse input: expected ) before: now()): (at row 1)</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_eDfN clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><div class="codeBlockContainer_I0IT language-sql theme-code-block"><div class="codeBlockContent_wNvx" style="color:#000000;background-color:#ffffff"><pre tabindex="0" class="prism-code language-sql codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#000000"><span class="token keyword" style="color:rgb(0, 0, 255)">SET</span><span class="token plain"> input_format_values_interpret_expressions </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">1</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">INSERT</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">INTO</span><span class="token plain"> datetime_t </span><span class="token keyword" style="color:rgb(0, 0, 255)">VALUES</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token function" style="color:rgb(0, 0, 255)">now</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_eDfN clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><div class="codeBlockContainer_I0IT language-text theme-code-block"><div class="codeBlockContent_wNvx" style="color:#000000;background-color:#ffffff"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#000000"><span class="token plain">Ok.</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_eDfN clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><p>Последний запрос эквивалентен следующему:</p><div class="codeBlockContainer_I0IT language-sql theme-code-block"><div class="codeBlockContent_wNvx" style="color:#000000;background-color:#ffffff"><pre tabindex="0" class="prism-code language-sql codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#000000"><span class="token keyword" style="color:rgb(0, 0, 255)">SET</span><span class="token plain"> input_format_values_interpret_expressions </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">0</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">INSERT</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">INTO</span><span class="token plain"> datetime_t </span><span class="token keyword" style="color:rgb(0, 0, 255)">SELECT</span><span class="token plain"> </span><span class="token function" style="color:rgb(0, 0, 255)">now</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_eDfN clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><div class="codeBlockContainer_I0IT language-text theme-code-block"><div class="codeBlockContent_wNvx" style="color:#000000;background-color:#ffffff"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#000000"><span class="token plain">Ok.</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_eDfN clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><h2 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="settings-input_format_values_deduce_templates_of_expressions">input_format_values_deduce_templates_of_expressions<a class="hash-link" href="#settings-input_format_values_deduce_templates_of_expressions" title="Direct link to heading">​</a></h2><p>Включает или отключает попытку вычисления шаблона для выражений SQL в формате <a href="/docs/ru/interfaces/formats#data-format-values">Values</a>. Это позволяет гораздо быстрее парсить и интерпретировать выражения в <code>Values</code>, если выражения в последовательных строках имеют одинаковую структуру. ClickHouse пытается вычислить шаблон выражения, распарсить следующие строки с помощью этого шаблона и вычислить выражение в пачке успешно проанализированных строк.</p><p>Возможные значения:</p><ul><li>0 — Выключена.</li><li>1 — Включена.</li></ul><p>Значение по умолчанию: 1.</p><p>Для следующего запроса:</p><div class="codeBlockContainer_I0IT language-sql theme-code-block"><div class="codeBlockContent_wNvx" style="color:#000000;background-color:#ffffff"><pre tabindex="0" class="prism-code language-sql codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#000000"><span class="token keyword" style="color:rgb(0, 0, 255)">INSERT</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">INTO</span><span class="token plain"> test </span><span class="token keyword" style="color:rgb(0, 0, 255)">VALUES</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">lower</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token string" style="color:rgb(163, 21, 21)">&#x27;Hello&#x27;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">lower</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token string" style="color:rgb(163, 21, 21)">&#x27;world&#x27;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">lower</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token string" style="color:rgb(163, 21, 21)">&#x27;INSERT&#x27;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">upper</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token string" style="color:rgb(163, 21, 21)">&#x27;Values&#x27;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_eDfN clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><ul><li>Если <code>input_format_values_interpret_expressions=1</code> и <code>format_values_deduce_templates_of_expressions=0</code>, выражения интерпретируются отдельно для каждой строки (это очень медленно для большого количества строк).</li><li>Если <code>input_format_values_interpret_expressions=0</code> и <code>format_values_deduce_templates_of_expressions=1</code>, выражения в первой, второй и третьей строках парсятся с помощью шаблона <code>lower(String)</code> и интерпретируется вместе, выражение в четвертой строке парсится с другим шаблоном (<code>upper(String)</code>).</li><li>Если <code>input_format_values_interpret_expressions=1</code> и <code>format_values_deduce_templates_of_expressions=1</code>, то же самое, что и в предыдущем случае, но также позволяет выполнять резервную интерпретацию выражений отдельно, если невозможно вычислить шаблон.</li></ul><h2 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="settings-input-format-values-accurate-types-of-literals">input_format_values_accurate_types_of_literals<a class="hash-link" href="#settings-input-format-values-accurate-types-of-literals" title="Direct link to heading">​</a></h2><p>Эта настройка используется, только когда <code>input_format_values_deduce_templates_of_expressions = 1</code>. Выражения для некоторых столбцов могут иметь одинаковую структуру, но содержат числовые литералы разных типов, например:</p><div class="codeBlockContainer_I0IT language-sql theme-code-block"><div class="codeBlockContent_wNvx" style="color:#000000;background-color:#ffffff"><pre tabindex="0" class="prism-code language-sql codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#000000"><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> abs</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token number" style="color:rgb(9, 134, 88)">0</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain">             </span><span class="token comment" style="color:rgb(0, 128, 0)">-- UInt64 literal</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> abs</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token number" style="color:rgb(9, 134, 88)">3.141592654</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain">   </span><span class="token comment" style="color:rgb(0, 128, 0)">-- Float64 literal</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> abs</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token operator" style="color:rgb(0, 0, 0)">-</span><span class="token number" style="color:rgb(9, 134, 88)">1</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain">            </span><span class="token comment" style="color:rgb(0, 128, 0)">-- Int64 literal</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_eDfN clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><p>Возможные значения:</p><ul><li><p>0 — Выключена.</p><p>В этом случае, ClickHouse может использовать более общий тип для некоторых литералов (например, <code>Float64</code> или <code>Int64</code> вместо <code>UInt64</code> для <code>42</code>), но это может привести к переполнению и проблемам с точностью.</p></li><li><p>1 — Включена.</p><p>В этом случае, ClickHouse проверяет фактический тип литерала и использует шаблон выражения соответствующего типа. В некоторых случаях это может значительно замедлить оценку выажения в <code>Values</code>.</p></li></ul><p>Значение по умолчанию: 1.</p><h2 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="session_settings-input_format_defaults_for_omitted_fields">input_format_defaults_for_omitted_fields<a class="hash-link" href="#session_settings-input_format_defaults_for_omitted_fields" title="Direct link to heading">​</a></h2><p>При вставке данных запросом <code>INSERT</code>, заменяет пропущенные поля значениям по умолчанию для типа данных столбца.</p><p>Поддерживаемые форматы вставки:</p><ul><li><p><a href="/docs/ru/interfaces/formats#jsoneachrow">JSONEachRow</a></p></li><li><p><a href="/docs/ru/interfaces/formats#csv">CSV</a></p></li><li><p><a href="/docs/ru/interfaces/formats#tabseparated">TabSeparated</a></p><div class="codeBlockContainer_I0IT theme-code-block"><div class="codeBlockContent_wNvx" style="color:#000000;background-color:#ffffff"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#000000"><span class="token plain">:::note &quot;Примечание&quot;</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">Когда опция включена, сервер отправляет клиенту расширенные метаданные. Это требует дополнительных вычислительных ресурсов на сервере и может снизить производительность.</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">:::</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_eDfN clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><p>Возможные значения:</p></li><li><p>0 — выключена.</p></li><li><p>1 — включена.</p></li></ul><p>Значение по умолчанию: 1.</p><h2 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="settings-input-format-tsv-empty-as-default">input_format_tsv_empty_as_default<a class="hash-link" href="#settings-input-format-tsv-empty-as-default" title="Direct link to heading">​</a></h2><p>Если эта настройка включена, все пустые поля во входящем TSV заменяются значениями по умолчанию. Для сложных выражений по умолчанию также должна быть включена настройка <code>input_format_defaults_for_omitted_fields</code>.</p><p>По умолчанию отключена.</p><h2 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="settings-input_format_tsv_enum_as_number">input_format_tsv_enum_as_number<a class="hash-link" href="#settings-input_format_tsv_enum_as_number" title="Direct link to heading">​</a></h2><p>Включает или отключает парсинг значений перечислений как порядковых номеров.</p><p>Если режим включен, то во входящих данных в формате <code>TCV</code> значения перечисления (тип <code>ENUM</code>) всегда трактуются как порядковые номера, а не как элементы перечисления. Эту настройку рекомендуется включать для оптимизации парсинга, если данные типа <code>ENUM</code> содержат только порядковые номера, а не сами элементы перечисления.</p><p>Возможные значения:</p><ul><li>0 — входящие значения типа <code>ENUM</code> сначала сопоставляются с элементами перечисления, а если совпадений не найдено, то трактуются как порядковые номера.</li><li>1 — входящие значения типа <code>ENUM</code> сразу трактуются как порядковые номера.</li></ul><p>Значение по умолчанию: 0.</p><p><strong>Пример</strong></p><p>Рассмотрим таблицу:</p><div class="codeBlockContainer_I0IT language-sql theme-code-block"><div class="codeBlockContent_wNvx" style="color:#000000;background-color:#ffffff"><pre tabindex="0" class="prism-code language-sql codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#000000"><span class="token keyword" style="color:rgb(0, 0, 255)">CREATE</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">TABLE</span><span class="token plain"> table_with_enum_column_for_tsv_insert </span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">Id Int32</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token keyword" style="color:rgb(0, 0, 255)">Value</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">Enum</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token string" style="color:rgb(163, 21, 21)">&#x27;first&#x27;</span><span class="token plain"> </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">1</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(163, 21, 21)">&#x27;second&#x27;</span><span class="token plain"> </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">2</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">ENGINE</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain">Memory</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_eDfN clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><p>При включенной настройке <code>input_format_tsv_enum_as_number</code>:</p><p>Запрос:</p><div class="codeBlockContainer_I0IT language-sql theme-code-block"><div class="codeBlockContent_wNvx" style="color:#000000;background-color:#ffffff"><pre tabindex="0" class="prism-code language-sql codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#000000"><span class="token keyword" style="color:rgb(0, 0, 255)">SET</span><span class="token plain"> input_format_tsv_enum_as_number </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">1</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">INSERT</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">INTO</span><span class="token plain"> table_with_enum_column_for_tsv_insert FORMAT TSV </span><span class="token number" style="color:rgb(9, 134, 88)">102</span><span class="token plain">    </span><span class="token number" style="color:rgb(9, 134, 88)">2</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">SELECT</span><span class="token plain"> </span><span class="token operator" style="color:rgb(0, 0, 0)">*</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">FROM</span><span class="token plain"> table_with_enum_column_for_tsv_insert</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_eDfN clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><p>Результат:</p><div class="codeBlockContainer_I0IT language-text theme-code-block"><div class="codeBlockContent_wNvx" style="color:#000000;background-color:#ffffff"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#000000"><span class="token plain">┌──Id─┬─Value──┐</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">│ 102 │ second │</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">└─────┴────────┘</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_eDfN clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><p>Запрос:</p><div class="codeBlockContainer_I0IT language-sql theme-code-block"><div class="codeBlockContent_wNvx" style="color:#000000;background-color:#ffffff"><pre tabindex="0" class="prism-code language-sql codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#000000"><span class="token keyword" style="color:rgb(0, 0, 255)">SET</span><span class="token plain"> input_format_tsv_enum_as_number </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">1</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">INSERT</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">INTO</span><span class="token plain"> table_with_enum_column_for_tsv_insert FORMAT TSV </span><span class="token number" style="color:rgb(9, 134, 88)">103</span><span class="token plain">    </span><span class="token string" style="color:rgb(163, 21, 21)">&#x27;first&#x27;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_eDfN clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><p>сгенерирует исключение.</p><p>При отключенной настройке <code>input_format_tsv_enum_as_number</code>:</p><p>Запрос:</p><div class="codeBlockContainer_I0IT language-sql theme-code-block"><div class="codeBlockContent_wNvx" style="color:#000000;background-color:#ffffff"><pre tabindex="0" class="prism-code language-sql codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#000000"><span class="token keyword" style="color:rgb(0, 0, 255)">SET</span><span class="token plain"> input_format_tsv_enum_as_number </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">0</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">INSERT</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">INTO</span><span class="token plain"> table_with_enum_column_for_tsv_insert FORMAT TSV </span><span class="token number" style="color:rgb(9, 134, 88)">102</span><span class="token plain">    </span><span class="token number" style="color:rgb(9, 134, 88)">2</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">INSERT</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">INTO</span><span class="token plain"> table_with_enum_column_for_tsv_insert FORMAT TSV </span><span class="token number" style="color:rgb(9, 134, 88)">103</span><span class="token plain">    </span><span class="token string" style="color:rgb(163, 21, 21)">&#x27;first&#x27;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">SELECT</span><span class="token plain"> </span><span class="token operator" style="color:rgb(0, 0, 0)">*</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">FROM</span><span class="token plain"> table_with_enum_column_for_tsv_insert</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_eDfN clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><p>Результат:</p><div class="codeBlockContainer_I0IT language-text theme-code-block"><div class="codeBlockContent_wNvx" style="color:#000000;background-color:#ffffff"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#000000"><span class="token plain">┌──Id─┬─Value──┐</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">│ 102 │ second │</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">└─────┴────────┘</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">┌──Id─┬─Value──┐</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">│ 103 │ first  │</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">└─────┴────────┘</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_eDfN clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><h2 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="settings-input-format-null-as-default">input_format_null_as_default<a class="hash-link" href="#settings-input-format-null-as-default" title="Direct link to heading">​</a></h2><p>Включает или отключает инициализацию <a href="/docs/ru/sql-reference/statements/create/table#create-default-values">значениями по умолчанию</a> ячеек с <a href="/docs/ru/sql-reference/syntax#null-literal">NULL</a>, если тип данных столбца не позволяет <a href="/docs/ru/sql-reference/data-types/nullable#data_type-nullable">хранить NULL</a>.
Если столбец не позволяет хранить <code>NULL</code> и эта настройка отключена, то вставка <code>NULL</code> приведет к возникновению исключения. Если столбец позволяет хранить <code>NULL</code>, то значения <code>NULL</code> вставляются независимо от этой настройки.</p><p>Эта настройка используется для запросов <a href="/docs/ru/sql-reference/statements/insert-into">INSERT ... VALUES</a> для текстовых входных форматов.</p><p>Возможные значения:</p><ul><li>0 — вставка <code>NULL</code> в столбец, не позволяющий хранить <code>NULL</code>, приведет к возникновению исключения.</li><li>1 — ячейки с <code>NULL</code> инициализируются значением столбца по умолчанию.</li></ul><p>Значение по умолчанию: <code>1</code>.</p><h2 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="insert_null_as_default">insert_null_as_default<a class="hash-link" href="#insert_null_as_default" title="Direct link to heading">​</a></h2><p>Включает или отключает вставку <a href="/docs/ru/sql-reference/statements/create/table#create-default-values">значений по умолчанию</a> вместо <a href="/docs/ru/sql-reference/syntax#null-literal">NULL</a> в столбцы, которые не позволяют <a href="/docs/ru/sql-reference/data-types/nullable#data_type-nullable">хранить NULL</a>.
Если столбец не позволяет хранить <code>NULL</code> и эта настройка отключена, то вставка <code>NULL</code> приведет к возникновению исключения. Если столбец позволяет хранить <code>NULL</code>, то значения <code>NULL</code> вставляются независимо от этой настройки.</p><p>Эта настройка используется для запросов <a href="/docs/ru/sql-reference/statements/insert-into#insert_query_insert-select">INSERT ... SELECT</a>. При этом подзапросы <code>SELECT</code> могут объединяться с помощью <code>UNION ALL</code>.</p><p>Возможные значения:</p><ul><li>0 — вставка <code>NULL</code> в столбец, не позволяющий хранить <code>NULL</code>, приведет к возникновению исключения.</li><li>1 — вместо <code>NULL</code> вставляется значение столбца по умолчанию.</li></ul><p>Значение по умолчанию: <code>1</code>.</p><h2 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="settings-input-format-skip-unknown-fields">input_format_skip_unknown_fields<a class="hash-link" href="#settings-input-format-skip-unknown-fields" title="Direct link to heading">​</a></h2><p>Включает или отключает пропускание вставки неизвестных данных.</p><p>При записи данных, если входные данные содержат столбцы, которых нет в целевой таблице, ClickHouse генерирует исключение. Если пропускание вставки включено, ClickHouse не вставляет неизвестные данные и не генерирует исключение.</p><p>Поддерживаемые форматы:</p><ul><li><a href="/docs/ru/interfaces/formats#jsoneachrow">JSONEachRow</a></li><li><a href="/docs/ru/interfaces/formats#csvwithnames">CSVWithNames</a></li><li><a href="/docs/ru/interfaces/formats#tabseparatedwithnames">TabSeparatedWithNames</a></li><li><a href="/docs/ru/interfaces/formats#tskv">TSKV</a></li></ul><p>Возможные значения:</p><ul><li>0 — выключена.</li><li>1 — включена.</li></ul><p>Значение по умолчанию: 0.</p><h2 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="settings-input_format_import_nested_json">input_format_import_nested_json<a class="hash-link" href="#settings-input_format_import_nested_json" title="Direct link to heading">​</a></h2><p>Включает или отключает вставку данных JSON с вложенными объектами.</p><p>Поддерживаемые форматы:</p><ul><li><a href="/docs/ru/interfaces/formats#jsoneachrow">JSONEachRow</a></li></ul><p>Возможные значения:</p><ul><li>0 — выключена.</li><li>1 — включена.</li></ul><p>Значение по умолчанию: 0.</p><p>См. также:</p><ul><li><a href="/docs/ru/interfaces/formats#jsoneachrow-nested">Использование вложенных структур</a> with the <code>JSONEachRow</code> format.</li></ul><h2 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="settings-input-format-with-names-use-header">input_format_with_names_use_header<a class="hash-link" href="#settings-input-format-with-names-use-header" title="Direct link to heading">​</a></h2><p>Включает или отключает проверку порядка столбцов при вставке данных.</p><p>Чтобы повысить эффективность вставки данных, рекомендуем отключить эту проверку, если вы уверены, что порядок столбцов входных данных такой же, как в целевой таблице.</p><p>Поддерживаемые форматы:</p><ul><li><a href="/docs/ru/interfaces/formats#csvwithnames">CSVWithNames</a></li><li><a href="/docs/ru/interfaces/formats#tabseparatedwithnames">TabSeparatedWithNames</a></li></ul><p>Возможные значения:</p><ul><li>0 — выключена.</li><li>1 — включена.</li></ul><p>Значение по умолчанию: 1.</p><h2 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="settings-date_time_input_format">date_time_input_format<a class="hash-link" href="#settings-date_time_input_format" title="Direct link to heading">​</a></h2><p>Выбор парсера для текстового представления дат и времени при обработке входного формата.</p><p>Настройка не применяется к <a href="/docs/ru/sql-reference/functions/date-time-functions">функциям для работы с датой и временем</a>.</p><p>Возможные значения:</p><ul><li><code>best_effort</code> — включает расширенный парсинг.</li></ul><p>ClickHouse может парсить базовый формат <code>YYYY-MM-DD HH:MM:SS</code> и все форматы <a href="https://en.wikipedia.org/wiki/ISO_8601" target="_blank" rel="noopener noreferrer">ISO 8601</a>. Например, <code>2018-06-08T01:02:03.000Z</code>.</p><ul><li><code>basic</code> — используется базовый парсер.</li></ul><p>ClickHouse может парсить только базовый формат <code>YYYY-MM-DD HH:MM:SS</code> или <code>YYYY-MM-DD</code>. Например, <code>2019-08-20 10:18:56</code> или <code>2019-08-20</code>.</p><p>Значение по умолчанию: <code>basic</code>.</p><p>См. также:</p><ul><li><a href="/docs/ru/sql-reference/data-types/datetime">Тип данных DateTime.</a></li><li><a href="/docs/ru/sql-reference/functions/date-time-functions">Функции для работы с датой и временем.</a></li></ul><h2 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="settings-date_time_output_format">date_time_output_format<a class="hash-link" href="#settings-date_time_output_format" title="Direct link to heading">​</a></h2><p>Позволяет выбрать разные выходные форматы текстового представления даты и времени.</p><p>Возможные значения:</p><ul><li><p><code>simple</code> - простой выходной формат.</p><p>Выходные дата и время Clickhouse в формате <code>YYYY-MM-DD hh:mm:ss</code>. Например, <code>2019-08-20 10:18:56</code>. Расчет выполняется в соответствии с часовым поясом типа данных (если он есть) или часовым поясом сервера.</p></li><li><p><code>iso</code> - выходной формат ISO.</p><p>Выходные дата и время Clickhouse в формате <a href="https://en.wikipedia.org/wiki/ISO_8601" target="_blank" rel="noopener noreferrer">ISO 8601</a> <code>YYYY-MM-DDThh:mm:ssZ</code>. Например, <code>2019-08-20T10:18:56Z</code>. Обратите внимание, что выходные данные отображаются в формате UTC (<code>Z</code> означает UTC).</p></li><li><p><code>unix_timestamp</code> - выходной формат Unix.</p><p>Выходные дата и время в формате <a href="https://en.wikipedia.org/wiki/Unix_time" target="_blank" rel="noopener noreferrer">Unix</a>. Например <code>1566285536</code>.</p></li></ul><p>Значение по умолчанию: <code>simple</code>.</p><p>См. также:</p><ul><li><a href="/docs/ru/sql-reference/data-types/datetime">Тип данных DateTime</a></li><li><a href="/docs/ru/sql-reference/functions/date-time-functions">Функции для работы с датой и временем</a></li></ul><h2 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="settings-join_default_strictness">join_default_strictness<a class="hash-link" href="#settings-join_default_strictness" title="Direct link to heading">​</a></h2><p>Устанавливает строгость по умолчанию для <a href="/docs/ru/sql-reference/statements/select/join#select-join">JOIN</a>.</p><p>Возможные значения:</p><ul><li><code>ALL</code> — если в правой таблице несколько совпадающих строк, данные умножаются на количество этих строк. Это нормальное поведение <code>JOIN</code> как в стандартном SQL.</li><li><code>ANY</code> — если в правой таблице несколько соответствующих строк, то соединяется только первая найденная. Если в «правой» таблице есть не более одной подходящей строки, то результаты <code>ANY</code> и <code>ALL</code> совпадают.</li><li><code>Пустая строка</code> — если <code>ALL</code> или <code>ANY</code> не указаны в запросе, то ClickHouse генерирует исключение.</li></ul><p>Значение по умолчанию: <code>ALL</code>.</p><h2 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="settings-join_algorithm">join_algorithm<a class="hash-link" href="#settings-join_algorithm" title="Direct link to heading">​</a></h2><p>Определяет алгоритм выполнения запроса <a href="/docs/ru/sql-reference/statements/select/join">JOIN</a>.</p><p>Возможные значения:</p><ul><li><code>hash</code> — используется <a href="https://ru.wikipedia.org/wiki/%D0%90%D0%BB%D0%B3%D0%BE%D1%80%D0%B8%D1%82%D0%BC_%D1%81%D0%BE%D0%B5%D0%B4%D0%B8%D0%BD%D0%B5%D0%BD%D0%B8%D1%8F_%D1%85%D0%B5%D1%88%D0%B8%D1%80%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D0%B5%D0%BC" target="_blank" rel="noopener noreferrer">алгоритм соединения хешированием</a>.</li><li><code>partial_merge</code> — используется <a href="https://ru.wikipedia.org/wiki/%D0%90%D0%BB%D0%B3%D0%BE%D1%80%D0%B8%D1%82%D0%BC_%D1%81%D0%BE%D0%B5%D0%B4%D0%B8%D0%BD%D0%B5%D0%BD%D0%B8%D1%8F_%D1%81%D0%BB%D0%B8%D1%8F%D0%BD%D0%B8%D0%B5%D0%BC_%D1%81%D0%BE%D1%80%D1%82%D0%B8%D1%80%D0%BE%D0%B2%D0%B0%D0%BD%D0%BD%D1%8B%D1%85_%D1%81%D0%BF%D0%B8%D1%81%D0%BA%D0%BE%D0%B2" target="_blank" rel="noopener noreferrer">алгоритм соединения слиянием сортированных списков</a>.</li><li><code>prefer_partial_merge</code> — используется алгоритм соединения слиянием сортированных списков, когда это возможно.</li><li><code>auto</code> — сервер ClickHouse пытается на лету заменить алгоритм <code>hash</code> на <code>merge</code>, чтобы избежать переполнения памяти.</li></ul><p>Значение по умолчанию: <code>hash</code>.</p><p>При использовании алгоритма <code>hash</code> правая часть <code>JOIN</code> загружается в оперативную память.</p><p>При использовании алгоритма <code>partial_merge</code> сервер сортирует данные и сбрасывает их на диск. Работа алгоритма <code>merge</code> в ClickHouse немного отличается от классической реализации. Сначала ClickHouse сортирует правую таблицу по блокам на основе <a href="/docs/ru/sql-reference/statements/select/join#select-join">ключей соединения</a> и для отсортированных блоков строит индексы min-max. Затем он сортирует куски левой таблицы на основе ключей соединения и объединяет их с правой таблицей операцией <code>JOIN</code>. Созданные min-max индексы используются для пропуска тех блоков из правой таблицы, которые не участвуют в данной операции <code>JOIN</code>.</p><h2 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="settings-join_any_take_last_row">join_any_take_last_row<a class="hash-link" href="#settings-join_any_take_last_row" title="Direct link to heading">​</a></h2><p>Изменяет поведение операций, выполняемых со строгостью <code>ANY</code>.</p><div class="admonition admonition-danger alert alert--danger"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="16" viewBox="0 0 12 16"><path fill-rule="evenodd" d="M5.05.31c.81 2.17.41 3.38-.52 4.31C3.55 5.67 1.98 6.45.9 7.98c-1.45 2.05-1.7 6.53 3.53 7.7-2.2-1.16-2.67-4.52-.3-6.61-.61 2.03.53 3.33 1.94 2.86 1.39-.47 2.3.53 2.27 1.67-.02.78-.31 1.44-1.13 1.81 3.42-.59 4.78-3.42 4.78-5.56 0-2.84-2.53-3.22-1.25-5.61-1.52.13-2.03 1.13-1.89 2.75.09 1.08-1.02 1.8-1.86 1.33-.67-.41-.66-1.19-.06-1.78C8.18 5.31 8.68 2.45 5.05.32L5.03.3l.02.01z"></path></svg></span>&quot;Внимание&quot;</h5></div><div class="admonition-content"><div class="codeBlockContainer_I0IT theme-code-block"><div class="codeBlockContent_wNvx" style="color:#000000;background-color:#ffffff"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#000000"><span class="token plain">Настройка применяется только для операций `JOIN`, выполняемых над таблицами с движком [Join](/docs/ru/engines/table-engines/special/join).</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_eDfN clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><p>Возможные значения:</p><ul><li>0 — если в правой таблице несколько соответствующих строк, то присоединяется только первая найденная строка.</li><li>1 — если в правой таблице несколько соответствующих строк, то присоединяется только последняя найденная строка.</li></ul><p>Значение по умолчанию: 0.</p><p>См. также:</p><ul><li><a href="/docs/ru/sql-reference/statements/select/join#select-join">Секция JOIN</a></li><li><a href="/docs/ru/engines/table-engines/special/join">Движок таблиц Join</a></li><li><a href="#settings-join_default_strictness">join_default_strictness</a></li></ul><h2 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="join_use_nulls">join_use_nulls<a class="hash-link" href="#join_use_nulls" title="Direct link to heading">​</a></h2><p>Устанавливает тип поведения <a href="/docs/ru/sql-reference/statements/select/join">JOIN</a>. При объединении таблиц могут появиться пустые ячейки. ClickHouse заполняет их по-разному в зависимости от настроек.</p><p>Возможные значения:</p><ul><li>0 — пустые ячейки заполняются значением по умолчанию соответствующего типа поля.</li><li>1 — <code>JOIN</code> ведёт себя как в стандартном SQL. Тип соответствующего поля преобразуется в <a href="/docs/ru/sql-reference/data-types/nullable#data_type-nullable">Nullable</a>, а пустые ячейки заполняются значениями <a href="/docs/ru/sql-reference/syntax">NULL</a>.</li></ul><h2 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="partial_merge_join_optimizations">partial_merge_join_optimizations<a class="hash-link" href="#partial_merge_join_optimizations" title="Direct link to heading">​</a></h2><p>Отключает все оптимизации для запросов <a href="/docs/ru/sql-reference/statements/select/join">JOIN</a> с частичным MergeJoin алгоритмом.</p><p>По умолчанию оптимизации включены, что может привести к неправильным результатам. Если вы видите подозрительные результаты в своих запросах, отключите оптимизацию с помощью этого параметра. В различных версиях сервера ClickHouse, оптимизация может отличаться.</p><p>Возможные значения:</p><ul><li>0 — Оптимизация отключена.</li><li>1 — Оптимизация включена.</li></ul><p>Значение по умолчанию: 1.</p><h2 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="partial_merge_join_rows_in_right_blocks">partial_merge_join_rows_in_right_blocks<a class="hash-link" href="#partial_merge_join_rows_in_right_blocks" title="Direct link to heading">​</a></h2><p>Устанавливает предельные размеры блоков данных «правого» соединения, для запросов <a href="/docs/ru/sql-reference/statements/select/join">JOIN</a> с частичным MergeJoin алгоритмом.</p><p>Сервер ClickHouse:</p><ol><li>Разделяет данные правого соединения на блоки с заданным числом строк.</li><li>Индексирует для каждого блока минимальное и максимальное значение.</li><li>Выгружает подготовленные блоки на диск, если это возможно.</li></ol><p>Возможные значения:</p><ul><li>Положительное целое число. Рекомендуемый диапазон значений <!-- -->[1000, 100000]<!-- -->.</li></ul><p>Значение по умолчанию: 65536.</p><h2 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="join_on_disk_max_files_to_merge">join_on_disk_max_files_to_merge<a class="hash-link" href="#join_on_disk_max_files_to_merge" title="Direct link to heading">​</a></h2><p>Устанавливет количество файлов, разрешенных для параллельной сортировки, при выполнении операций MergeJoin на диске.</p><p>Чем больше значение параметра, тем больше оперативной памяти используется и тем меньше используется диск (I/O).</p><p>Возможные значения:</p><ul><li>Положительное целое число, больше 2.</li></ul><p>Значение по умолчанию: 64.</p><h2 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="temporary_files_codec">temporary_files_codec<a class="hash-link" href="#temporary_files_codec" title="Direct link to heading">​</a></h2><p>Устанавливает метод сжатия для временных файлов на диске, используемых при сортировки и объединения.</p><p>Возможные значения:</p><ul><li>LZ4 — применять сжатие, используя алгоритм <a href="https://ru.wikipedia.org/wiki/LZ4" target="_blank" rel="noopener noreferrer">LZ4</a></li><li>NONE — не применять сжатие.</li></ul><p>Значение по умолчанию: LZ4.</p><h2 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="any_join_distinct_right_table_keys">any_join_distinct_right_table_keys<a class="hash-link" href="#any_join_distinct_right_table_keys" title="Direct link to heading">​</a></h2><p>Включает устаревшее поведение сервера ClickHouse при выполнении операций <code>ANY INNER|LEFT JOIN</code>.</p><div class="codeBlockContainer_I0IT theme-code-block"><div class="codeBlockContent_wNvx" style="color:#000000;background-color:#ffffff"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#000000"><span class="token plain">:::note &quot;Внимание&quot;</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">Используйте этот параметр только в целях обратной совместимости, если ваши варианты использования требуют устаревшего поведения `JOIN`.</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">:::</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_eDfN clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><p>Когда включено устаревшее поведение:</p><ul><li>Результаты операций &quot;t1 ANY LEFT JOIN t2&quot; и &quot;t2 ANY RIGHT JOIN t1&quot; не равны, поскольку ClickHouse использует логику с сопоставлением ключей таблицы &quot;многие к одному слева направо&quot;.</li><li>Результаты операций <code>ANY INNER JOIN</code> содержат все строки из левой таблицы, аналогично операции <code>SEMI LEFT JOIN</code>.</li></ul><p>Когда устаревшее поведение отключено:</p><ul><li>Результаты операций <code>t1 ANY LEFT JOIN t2</code> и <code>t2 ANY RIGHT JOIN t1</code> равно, потому что ClickHouse использует логику сопоставления ключей один-ко-многим в операциях <code>ANY RIGHT JOIN</code>.</li><li>Результаты операций <code>ANY INNER JOIN</code> содержат по одной строке на ключ из левой и правой таблиц.</li></ul><p>Возможные значения:</p><ul><li>0 — Устаревшее поведение отключено.</li><li>1 — Устаревшее поведение включено.</li></ul><p>Значение по умолчанию: 0.</p><p>См. также:</p><ul><li><a href="/docs/ru/sql-reference/statements/select/join#join-settings">JOIN strictness</a></li></ul><h2 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="setting-max_block_size">max_block_size<a class="hash-link" href="#setting-max_block_size" title="Direct link to heading">​</a></h2><p>Данные в ClickHouse обрабатываются по блокам (наборам кусочков столбцов). Внутренние циклы обработки для одного блока достаточно эффективны, но есть заметные издержки на каждый блок. Настройка <code>max_block_size</code> — это рекомендация, какой размер блока (в количестве строк) загружать из таблиц. Размер блока не должен быть слишком маленьким, чтобы затраты на каждый блок были заметны, но не слишком велики, чтобы запрос с LIMIT, который завершается после первого блока, обрабатывался быстро. Цель состоит в том, чтобы не использовалось слишком много оперативки при вынимании большого количества столбцов в несколько потоков; чтобы оставалась хоть какая-нибудь кэш-локальность.</p><p>Значение по умолчанию: 65,536.</p><p>Из таблицы не всегда загружаются блоки размера <code>max_block_size</code>. Если ясно, что нужно прочитать меньше данных, то будет считан блок меньшего размера.</p><h2 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="preferred-block-size-bytes">preferred_block_size_bytes<a class="hash-link" href="#preferred-block-size-bytes" title="Direct link to heading">​</a></h2><p>Служит для тех же целей что и <code>max_block_size</code>, но задает рекомендуемый размер блоков в байтах, выбирая адаптивное количество строк в блоке.
При этом размер блока не может быть более <code>max_block_size</code> строк.
По умолчанию: 1,000,000. Работает только при чтении из MergeTree-движков.</p><h2 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="setting-merge-tree-uniform-read-distribution">merge_tree_uniform_read_distribution<a class="hash-link" href="#setting-merge-tree-uniform-read-distribution" title="Direct link to heading">​</a></h2><p>При чтении из таблиц <a href="/docs/ru/engines/table-engines/mergetree-family/mergetree">MergeTree</a> ClickHouse использует несколько потоков. Этот параметр включает/выключает равномерное распределение заданий по рабочим потокам. Алгоритм равномерного распределения стремится сделать время выполнения всех потоков примерно равным для одного запроса <code>SELECT</code>.</p><p>Возможные значения:</p><ul><li>0 — не использовать равномерное распределение заданий на чтение.</li><li>1 — использовать равномерное распределение заданий на чтение.</li></ul><p>Значение по умолчанию: 1.</p><h2 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="setting-merge-tree-min-rows-for-concurrent-read">merge_tree_min_rows_for_concurrent_read<a class="hash-link" href="#setting-merge-tree-min-rows-for-concurrent-read" title="Direct link to heading">​</a></h2><p>Если количество строк, считываемых из файла таблицы <a href="/docs/ru/engines/table-engines/mergetree-family/mergetree">MergeTree</a> превышает <code>merge_tree_min_rows_for_concurrent_read</code>, то ClickHouse пытается выполнить одновременное чтение из этого файла в несколько потоков.</p><p>Возможные значения:</p><ul><li>Положительное целое число.</li></ul><p>Значение по умолчанию: <code>163840</code>.</p><h2 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="merge-tree-min-rows-for-concurrent-read-for-remote-filesystem">merge_tree_min_rows_for_concurrent_read_for_remote_filesystem<a class="hash-link" href="#merge-tree-min-rows-for-concurrent-read-for-remote-filesystem" title="Direct link to heading">​</a></h2><p>Минимальное количество строк для чтения из одного файла, прежде чем движок <a href="/docs/ru/engines/table-engines/mergetree-family/mergetree">MergeTree</a> может выполнять параллельное чтение из удаленной файловой системы.</p><p>Возможные значения:</p><ul><li>Положительное целое число.</li></ul><p>Значение по умолчанию: <code>163840</code>.</p><h2 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="setting-merge-tree-min-bytes-for-concurrent-read">merge_tree_min_bytes_for_concurrent_read<a class="hash-link" href="#setting-merge-tree-min-bytes-for-concurrent-read" title="Direct link to heading">​</a></h2><p>Если число байтов, которое должно быть прочитано из одного файла таблицы с движком <a href="/docs/ru/engines/table-engines/mergetree-family/mergetree">MergeTree</a>, превышает значение <code>merge_tree_min_bytes_for_concurrent_read</code>, то ClickHouse выполняет одновременное чтение в несколько потоков из этого файла.</p><p>Возможное значение:</p><ul><li>Положительное целое число.</li></ul><p>Значение по умолчанию: <code>251658240</code>.</p><h2 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="merge-tree-min-bytes-for-concurrent-read-for-remote-filesystem">merge_tree_min_bytes_for_concurrent_read_for_remote_filesystem<a class="hash-link" href="#merge-tree-min-bytes-for-concurrent-read-for-remote-filesystem" title="Direct link to heading">​</a></h2><p>Минимальное количество байтов для чтения из одного файла, прежде чем движок <a href="/docs/ru/engines/table-engines/mergetree-family/mergetree">MergeTree</a> может выполнять параллельное чтение из удаленной файловой системы.</p><p>Возможное значение:</p><ul><li>Положительное целое число.</li></ul><p>Значение по умолчанию: <code>251658240</code>.</p><h2 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="setting-merge-tree-min-rows-for-seek">merge_tree_min_rows_for_seek<a class="hash-link" href="#setting-merge-tree-min-rows-for-seek" title="Direct link to heading">​</a></h2><p>Если расстояние между двумя блоками данных для чтения в одном файле меньше, чем <code>merge_tree_min_rows_for_seek</code> строк, то ClickHouse не перескакивает (seek) через блоки, а считывает данные последовательно.</p><p>Возможные значения:</p><ul><li>Положительное целое число.</li></ul><p>Значение по умолчанию: 0.</p><h2 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="setting-merge-tree-min-bytes-for-seek">merge_tree_min_bytes_for_seek<a class="hash-link" href="#setting-merge-tree-min-bytes-for-seek" title="Direct link to heading">​</a></h2><p>Если расстояние между двумя блоками данных для чтения в одном файле меньше, чем <code>merge_tree_min_bytes_for_seek</code> байтов, то ClickHouse не перескакивает (seek) через блоки, а считывает данные последовательно.</p><p>Возможные значения:</p><ul><li>Положительное целое число.</li></ul><p>Значение по умолчанию: 0.</p><h2 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="setting-merge-tree-coarse-index-granularity">merge_tree_coarse_index_granularity<a class="hash-link" href="#setting-merge-tree-coarse-index-granularity" title="Direct link to heading">​</a></h2><p>При поиске данных ClickHouse проверяет засечки данных в файле индекса. Если ClickHouse обнаруживает, что требуемые ключи находятся в некотором диапазоне, он делит этот диапазон на <code>merge_tree_coarse_index_granularity</code> поддиапазонов и выполняет в них рекурсивный поиск нужных ключей.</p><p>Возможные значения:</p><ul><li>Положительное целое число.</li></ul><p>Значение по умолчанию: 8.</p><h2 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="setting-merge-tree-max-rows-to-use-cache">merge_tree_max_rows_to_use_cache<a class="hash-link" href="#setting-merge-tree-max-rows-to-use-cache" title="Direct link to heading">​</a></h2><p>Если требуется прочитать более, чем <code>merge_tree_max_rows_to_use_cache</code> строк в одном запросе, ClickHouse не используют кэш несжатых блоков.</p><p>Кэш несжатых блоков хранит данные, извлечённые при выполнении запросов. ClickHouse использует этот кэш для ускорения ответов на повторяющиеся небольшие запросы. Настройка защищает кэш от замусоривания запросами, для выполнения которых необходимо извлечь большое количество данных. Настройка сервера <a href="/docs/ru/operations/server-configuration-parameters/settings#server-settings-uncompressed_cache_size">uncompressed_cache_size</a> определяет размер кэша несжатых блоков.</p><p>Возможные значения:</p><ul><li>Положительное целое число.</li></ul><p>Значение по умолчанию: 128 ✕ 8192.</p><h2 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="setting-merge-tree-max-bytes-to-use-cache">merge_tree_max_bytes_to_use_cache<a class="hash-link" href="#setting-merge-tree-max-bytes-to-use-cache" title="Direct link to heading">​</a></h2><p>Если требуется прочитать более, чем <code>merge_tree_max_bytes_to_use_cache</code> байтов в одном запросе, ClickHouse не используют кэш несжатых блоков.</p><p>Кэш несжатых блоков хранит данные, извлечённые при выполнении запросов. ClickHouse использует кэш для ускорения ответов на повторяющиеся небольшие запросы. Настройка защищает кэш от переполнения. Настройка сервера <a href="/docs/ru/operations/server-configuration-parameters/settings#server-settings-uncompressed_cache_size">uncompressed_cache_size</a> определяет размер кэша несжатых блоков.</p><p>Возможные значения:</p><ul><li>Положительное целое число.</li></ul><p>Значение по умолчанию: 2013265920.</p><h2 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="settings-min-bytes-to-use-direct-io">min_bytes_to_use_direct_io<a class="hash-link" href="#settings-min-bytes-to-use-direct-io" title="Direct link to heading">​</a></h2><p>Минимальный объём данных, необходимый для прямого (небуферизованного) чтения/записи (direct I/O) на диск.</p><p>ClickHouse использует этот параметр при чтении данных из таблиц. Если общий объём хранения всех данных для чтения превышает <code>min_bytes_to_use_direct_io</code> байт, тогда ClickHouse использует флаг <code>O_DIRECT</code> при чтении данных с диска.</p><p>Возможные значения:</p><ul><li>0 — прямой ввод-вывод отключен.</li><li>Положительное целое число.</li></ul><p>Значение по умолчанию: 0.</p><h2 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="network_compression_method">network_compression_method<a class="hash-link" href="#network_compression_method" title="Direct link to heading">​</a></h2><p>Устанавливает метод сжатия данных, который используется для обмена данными между серверами и между сервером и <a href="/docs/ru/interfaces/cli">clickhouse-client</a>.</p><p>Возможные значения:</p><ul><li><code>LZ4</code> — устанавливает метод сжатия LZ4.</li><li><code>ZSTD</code> — устанавливает метод сжатия ZSTD.</li></ul><p>Значение по умолчанию: <code>LZ4</code>.</p><p><strong>См. также</strong></p><ul><li><a href="#network_zstd_compression_level">network_zstd_compression_level</a></li></ul><h2 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="network_zstd_compression_level">network_zstd_compression_level<a class="hash-link" href="#network_zstd_compression_level" title="Direct link to heading">​</a></h2><p>Регулирует уровень сжатия ZSTD. Используется только тогда, когда <a href="#network_compression_method">network_compression_method</a> установлен на <code>ZSTD</code>.</p><p>Возможные значения:</p><ul><li>Положительное целое число от 1 до 15.</li></ul><p>Значение по умолчанию: <code>1</code>.</p><h2 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="settings-log-queries">log_queries<a class="hash-link" href="#settings-log-queries" title="Direct link to heading">​</a></h2><p>Установка логирования запроса.</p><p>Запросы, переданные в ClickHouse с этой настройкой, логируются согласно правилам конфигурационного параметра сервера <a href="/docs/ru/operations/server-configuration-parameters/settings#server_configuration_parameters-query-log">query_log</a>.</p><p>Пример:</p><div class="codeBlockContainer_I0IT language-text theme-code-block"><div class="codeBlockContent_wNvx" style="color:#000000;background-color:#ffffff"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#000000"><span class="token plain">log_queries=1</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_eDfN clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><h2 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="settings-log-queries-min-query-duration-ms">log_queries_min_query_duration_ms<a class="hash-link" href="#settings-log-queries-min-query-duration-ms" title="Direct link to heading">​</a></h2><p>Минимальное время выполнения запроса для логгирования в системные таблицы:</p><ul><li><code>system.query_log</code></li><li><code>system.query_thread_log</code></li></ul><p>В случае ненулевого порога <code>log_queries_min_query_duration_ms</code>, в лог будут записываться лишь события об окончании выполнения запроса:</p><ul><li><p><code>QUERY_FINISH</code></p></li><li><p><code>EXCEPTION_WHILE_PROCESSING</code></p></li><li><p>Тип: milliseconds</p></li><li><p>Значение по умолчанию: 0 (логгировать все запросы)</p></li></ul><h2 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="settings-log-queries-min-type">log_queries_min_type<a class="hash-link" href="#settings-log-queries-min-type" title="Direct link to heading">​</a></h2><p>Задаёт минимальный уровень логирования в <code>query_log</code>.</p><p>Возможные значения:</p><ul><li><code>QUERY_START</code> (<code>=1</code>)</li><li><code>QUERY_FINISH</code> (<code>=2</code>)</li><li><code>EXCEPTION_BEFORE_START</code> (<code>=3</code>)</li><li><code>EXCEPTION_WHILE_PROCESSING</code> (<code>=4</code>)</li></ul><p>Значение по умолчанию: <code>QUERY_START</code>.</p><p>Можно использовать для ограничения того, какие объекты будут записаны в <code>query_log</code>, например, если вас интересуют ошибки, тогда вы можете использовать <code>EXCEPTION_WHILE_PROCESSING</code>:</p><div class="codeBlockContainer_I0IT language-text theme-code-block"><div class="codeBlockContent_wNvx" style="color:#000000;background-color:#ffffff"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#000000"><span class="token plain">log_queries_min_type=&#x27;EXCEPTION_WHILE_PROCESSING&#x27;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_eDfN clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><h2 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="settings-log-query-threads">log_query_threads<a class="hash-link" href="#settings-log-query-threads" title="Direct link to heading">​</a></h2><p>Управляет логированием информации о потоках выполнения запросов.</p><p>Информация о потоках выполнения запросов сохраняется в системной таблице <a href="/docs/ru/operations/system-tables/query_thread_log">system.query_thread_log</a>. Работает только в том случае, если включена настройка <a href="#settings-log-queries">log_queries</a>. Лог информации о потоках выполнения запросов, переданных в ClickHouse с этой установкой, записывается согласно правилам конфигурационного параметра сервера <a href="/docs/ru/operations/server-configuration-parameters/settings#server_configuration_parameters-query_thread_log">query_thread_log</a>.</p><p>Возможные значения:</p><ul><li>0 — отключено.</li><li>1 — включено.</li></ul><p>Значение по умолчанию: <code>1</code>.</p><p><strong>Пример</strong></p><div class="codeBlockContainer_I0IT language-text theme-code-block"><div class="codeBlockContent_wNvx" style="color:#000000;background-color:#ffffff"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#000000"><span class="token plain">log_query_threads=1</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_eDfN clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><h2 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="settings-log-formatted-queries">log_formatted_queries<a class="hash-link" href="#settings-log-formatted-queries" title="Direct link to heading">​</a></h2><p>Позволяет регистрировать отформатированные запросы в системной таблице <a href="/docs/ru/operations/system-tables/query_log">system.query_log</a>.</p><p>Возможные значения:</p><ul><li>0 — отформатированные запросы не регистрируются в системной таблице.</li><li>1 — отформатированные запросы регистрируются в системной таблице.</li></ul><p>Значение по умолчанию: <code>0</code>.</p><h2 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="settings-log-comment">log_comment<a class="hash-link" href="#settings-log-comment" title="Direct link to heading">​</a></h2><p>Задаёт значение поля <code>log_comment</code> таблицы <a href="/docs/ru/operations/system-tables/query_log">system.query_log</a> и текст комментария в логе сервера.</p><p>Может быть использована для улучшения читабельности логов сервера. Кроме того, помогает быстро выделить связанные с тестом запросы из <code>system.query_log</code> после запуска <a href="/docs/ru/development/tests">clickhouse-test</a>.</p><p>Возможные значения:</p><ul><li>Любая строка не длиннее <a href="#settings-max_query_size">max_query_size</a>. При превышении длины сервер сгенерирует исключение.</li></ul><p>Значение по умолчанию: пустая строка.</p><p><strong>Пример</strong></p><p>Запрос:</p><div class="codeBlockContainer_I0IT language-sql theme-code-block"><div class="codeBlockContent_wNvx" style="color:#000000;background-color:#ffffff"><pre tabindex="0" class="prism-code language-sql codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#000000"><span class="token keyword" style="color:rgb(0, 0, 255)">SET</span><span class="token plain"> log_comment </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> </span><span class="token string" style="color:rgb(163, 21, 21)">&#x27;log_comment test&#x27;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> log_queries </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">1</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">SELECT</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">1</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">SYSTEM FLUSH LOGS</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">SELECT</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">type</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> query </span><span class="token keyword" style="color:rgb(0, 0, 255)">FROM</span><span class="token plain"> system</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token plain">query_log </span><span class="token keyword" style="color:rgb(0, 0, 255)">WHERE</span><span class="token plain"> log_comment </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> </span><span class="token string" style="color:rgb(163, 21, 21)">&#x27;log_comment test&#x27;</span><span class="token plain"> </span><span class="token operator" style="color:rgb(0, 0, 0)">AND</span><span class="token plain"> event_date </span><span class="token operator" style="color:rgb(0, 0, 0)">&gt;=</span><span class="token plain"> yesterday</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">ORDER</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">BY</span><span class="token plain"> event_time </span><span class="token keyword" style="color:rgb(0, 0, 255)">DESC</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">LIMIT</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">2</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_eDfN clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><p>Результат:</p><div class="codeBlockContainer_I0IT language-text theme-code-block"><div class="codeBlockContent_wNvx" style="color:#000000;background-color:#ffffff"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#000000"><span class="token plain">┌─type────────┬─query─────┐</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">│ QueryStart  │ SELECT 1; │</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">│ QueryFinish │ SELECT 1; │</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">└─────────────┴───────────┘</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_eDfN clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><h2 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="settings-max_insert_block_size">max_insert_block_size<a class="hash-link" href="#settings-max_insert_block_size" title="Direct link to heading">​</a></h2><p>Формировать блоки указанного размера, при вставке в таблицу.
Эта настройка действует только в тех случаях, когда сервер сам формирует такие блоки.
Например, при INSERT-е через HTTP интерфейс, сервер парсит формат данных, и формирует блоки указанного размера.
А при использовании clickhouse-client, клиент сам парсит данные, и настройка max_insert_block_size на сервере не влияет на размер вставляемых блоков.
При использовании INSERT SELECT, настройка так же не имеет смысла, так как данные будут вставляться теми блоками, которые вышли после SELECT-а.</p><p>Значение по умолчанию: 1,048,576.</p><p>Это значение намного больше, чем <code>max_block_size</code>. Это сделано, потому что некоторые движки таблиц (<code>*MergeTree</code>) будут на каждый вставляемый блок формировать кусок данных на диске, что является довольно большой сущностью. Также, в таблицах типа <code>*MergeTree</code>, данные сортируются при вставке, и достаточно большой размер блока позволяет отсортировать больше данных в оперативке.</p><h2 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="min-insert-block-size-rows">min_insert_block_size_rows<a class="hash-link" href="#min-insert-block-size-rows" title="Direct link to heading">​</a></h2><p>Устанавливает минимальное количество строк в блоке, который может быть вставлен в таблицу запросом <code>INSERT</code>. Блоки меньшего размера склеиваются в блоки большего размера.</p><p>Возможные значения:</p><ul><li>Целое положительное число.</li><li>0 — Склейка блоков выключена.</li></ul><p>Значение по умолчанию: 1048576.</p><h2 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="min-insert-block-size-bytes">min_insert_block_size_bytes<a class="hash-link" href="#min-insert-block-size-bytes" title="Direct link to heading">​</a></h2><p>Устанавливает минимальное количество байтов в блоке, который может быть вставлен в таблицу запросом <code>INSERT</code>. Блоки меньшего размера склеиваются в блоки большего размера.</p><p>Возможные значения:</p><ul><li>Целое положительное число.</li><li>0 — Склейка блоков выключена.</li></ul><p>Значение по умолчанию: 268435456.</p><h2 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="settings-max_replica_delay_for_distributed_queries">max_replica_delay_for_distributed_queries<a class="hash-link" href="#settings-max_replica_delay_for_distributed_queries" title="Direct link to heading">​</a></h2><p>Отключает отстающие реплики при распределенных запросах. См. <a href="/docs/ru/engines/table-engines/mergetree-family/replication">Репликация</a>.</p><p>Устанавливает время в секундах. Если отставание реплики больше установленного значения, то реплика не используется.</p><p>Значение по умолчанию: 300.</p><p>Используется при выполнении <code>SELECT</code> из распределенной таблицы, которая указывает на реплицированные таблицы.</p><h2 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="settings-max_threads">max_threads<a class="hash-link" href="#settings-max_threads" title="Direct link to heading">​</a></h2><p>Максимальное количество потоков обработки запроса без учёта потоков для чтения данных с удалённых серверов (смотрите параметр max_distributed_connections).</p><p>Этот параметр относится к потокам, которые выполняют параллельно одни стадии конвейера выполнения запроса.
Например, при чтении из таблицы, если есть возможность вычислять выражения с функциями, фильтровать с помощью WHERE и предварительно агрегировать для GROUP BY параллельно, используя хотя бы количество потоков max_threads, то используются max_threads.</p><p>Значение по умолчанию: количество процессорных ядер без учёта Hyper-Threading.</p><p>Для запросов, которые быстро завершаются из-за LIMIT-а, имеет смысл выставить max_threads поменьше. Например, если нужное количество записей находится в каждом блоке, то при max_threads = 8 будет считано 8 блоков, хотя достаточно было прочитать один.</p><p>Чем меньше <code>max_threads</code>, тем меньше будет использоваться оперативки.</p><h2 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="settings-max-insert-threads">max_insert_threads<a class="hash-link" href="#settings-max-insert-threads" title="Direct link to heading">​</a></h2><p>Максимальное количество потоков для выполнения запроса <code>INSERT SELECT</code>.</p><p>Возможные значения:</p><ul><li>0 (или 1) — <code>INSERT SELECT</code> не выполняется параллельно.</li><li>Положительное целое число, больше 1.</li></ul><p>Значение по умолчанию: 0.</p><p>Параллельный <code>INSERT SELECT</code> действует только в том случае, если часть SELECT выполняется параллельно, см. настройку <a href="#settings-max_threads">max_threads</a>.
Чем больше значение <code>max_insert_threads</code>, тем больше потребление оперативной памяти.</p><h2 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="max-compress-block-size">max_compress_block_size<a class="hash-link" href="#max-compress-block-size" title="Direct link to heading">​</a></h2><p>Максимальный размер блоков несжатых данных перед сжатием при записи в таблицу. По умолчанию - 1 048 576 (1 MiB). При уменьшении размера, незначительно уменьшается коэффициент сжатия, незначительно возрастает скорость сжатия и разжатия за счёт кэш-локальности, и уменьшается потребление оперативной памяти.</p><div class="codeBlockContainer_I0IT theme-code-block"><div class="codeBlockContent_wNvx" style="color:#000000;background-color:#ffffff"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#000000"><span class="token plain">:::note &quot;Предупреждение&quot;</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">Эта настройка экспертного уровня, не используйте ее, если вы только начинаете работать с Clickhouse.</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">:::</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_eDfN clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><p>Не путайте блоки для сжатия (кусок памяти, состоящий из байт) и блоки для обработки запроса (пачка строк из таблицы).</p><h2 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="min-compress-block-size">min_compress_block_size<a class="hash-link" href="#min-compress-block-size" title="Direct link to heading">​</a></h2><p>Для таблиц типа <a href="/docs/ru/engines/table-engines/mergetree-family/mergetree">MergeTree</a>. В целях уменьшения задержек при обработке запросов, блок сжимается при записи следующей засечки, если его размер не меньше <code>min_compress_block_size</code>. По умолчанию - 65 536.</p><p>Реальный размер блока, если несжатых данных меньше <code>max_compress_block_size</code>, будет не меньше этого значения и не меньше объёма данных на одну засечку.</p><p>Рассмотрим пример. Пусть <code>index_granularity</code>, указанная при создании таблицы - 8192.</p><p>Пусть мы записываем столбец типа UInt32 (4 байта на значение). При записи 8192 строк, будет всего 32 КБ данных. Так как <code>min_compress_block_size</code> = 65 536, сжатый блок будет сформирован на каждые две засечки.</p><p>Пусть мы записываем столбец URL типа String (средний размер - 60 байт на значение). При записи 8192 строк, будет, в среднем, чуть меньше 500 КБ данных. Так как это больше 65 536 строк, то сжатый блок будет сформирован на каждую засечку. В этом случае, при чтении с диска данных из диапазона в одну засечку, не будет разжато лишних данных.</p><div class="codeBlockContainer_I0IT theme-code-block"><div class="codeBlockContent_wNvx" style="color:#000000;background-color:#ffffff"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#000000"><span class="token plain">:::note &quot;Предупреждение&quot;</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">Эта настройка экспертного уровня, не используйте ее, если вы только начинаете работать с Clickhouse.</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">:::</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_eDfN clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><h2 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="settings-max_query_size">max_query_size<a class="hash-link" href="#settings-max_query_size" title="Direct link to heading">​</a></h2><p>Максимальный кусок запроса, который будет считан в оперативку для разбора парсером языка SQL.
Запрос INSERT также содержит данные для INSERT-а, которые обрабатываются отдельным, потоковым парсером (расходующим O(1) оперативки), и не учитываются в этом ограничении.</p><p>Значение по умолчанию: 256 Кб.</p><h2 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="max_parser_depth">max_parser_depth<a class="hash-link" href="#max_parser_depth" title="Direct link to heading">​</a></h2><p>Ограничивает максимальную глубину рекурсии в парсере рекурсивного спуска. Позволяет контролировать размер стека.</p><p>Возможные значения:</p><ul><li>Положительное целое число.</li><li>0 — Глубина рекурсии не ограничена.</li></ul><p>Значение по умолчанию: 1000.</p><h2 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="interactive-delay">interactive_delay<a class="hash-link" href="#interactive-delay" title="Direct link to heading">​</a></h2><p>Интервал в микросекундах для проверки, не запрошена ли остановка выполнения запроса, и отправки прогресса.</p><p>Значение по умолчанию: 100,000 (проверять остановку запроса и отправлять прогресс десять раз в секунду).</p><h2 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="connect-timeout-receive-timeout-send-timeout">connect_timeout, receive_timeout, send_timeout<a class="hash-link" href="#connect-timeout-receive-timeout-send-timeout" title="Direct link to heading">​</a></h2><p>Таймауты в секундах на сокет, по которому идёт общение с клиентом.</p><p>Значение по умолчанию: 10, 300, 300.</p><h2 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="cancel-http-readonly-queries-on-client-close">cancel_http_readonly_queries_on_client_close<a class="hash-link" href="#cancel-http-readonly-queries-on-client-close" title="Direct link to heading">​</a></h2><p>Отменяет HTTP readonly запросы (например, SELECT), когда клиент обрывает соединение до завершения получения данных.</p><p>Значение по умолчанию: 0</p><h2 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="poll-interval">poll_interval<a class="hash-link" href="#poll-interval" title="Direct link to heading">​</a></h2><p>Блокироваться в цикле ожидания запроса в сервере на указанное количество секунд.</p><p>Значение по умолчанию: 10.</p><h2 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="max-distributed-connections">max_distributed_connections<a class="hash-link" href="#max-distributed-connections" title="Direct link to heading">​</a></h2><p>Максимальное количество одновременных соединений с удалёнными серверами при распределённой обработке одного запроса к одной таблице типа Distributed. Рекомендуется выставлять не меньше, чем количество серверов в кластере.</p><p>Значение по умолчанию: 1024.</p><p>Следующие параметры имеют значение только на момент создания таблицы типа Distributed (и при запуске сервера), поэтому их не имеет смысла менять в рантайме.</p><h2 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="distributed-connections-pool-size">distributed_connections_pool_size<a class="hash-link" href="#distributed-connections-pool-size" title="Direct link to heading">​</a></h2><p>Максимальное количество одновременных соединений с удалёнными серверами при распределённой обработке всех запросов к одной таблице типа Distributed. Рекомендуется выставлять не меньше, чем количество серверов в кластере.</p><p>Значение по умолчанию: 1024.</p><h2 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="max-distributed-depth">max_distributed_depth<a class="hash-link" href="#max-distributed-depth" title="Direct link to heading">​</a></h2><p>Ограничивает максимальную глубину рекурсивных запросов для <a href="/docs/ru/engines/table-engines/special/distributed">Distributed</a> таблиц.</p><p>Если значение превышено, сервер генерирует исключение.</p><p>Возможные значения:</p><ul><li>Положительное целое число.</li><li>0 — глубина не ограничена.</li></ul><p>Значение по умолчанию: <code>5</code>.</p><h2 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="max_replicated_fetches_network_bandwidth_for_server">max_replicated_fetches_network_bandwidth_for_server<a class="hash-link" href="#max_replicated_fetches_network_bandwidth_for_server" title="Direct link to heading">​</a></h2><p>Ограничивает максимальную скорость обмена данными в сети (в байтах в секунду) для синхронизации между <a href="/docs/ru/engines/table-engines/mergetree-family/replication">репликами</a>. Применяется только при запуске сервера. Можно также ограничить скорость для конкретной таблицы с помощью настройки <a href="/docs/ru/operations/settings/merge-tree-settings#max_replicated_fetches_network_bandwidth">max_replicated_fetches_network_bandwidth</a>.</p><p>Значение настройки соблюдается неточно.</p><p>Возможные значения:</p><ul><li>Любое целое положительное число.</li><li>0 — Скорость не ограничена.</li></ul><p>Значение по умолчанию: <code>0</code>.</p><p><strong>Использование</strong></p><p>Может быть использована для ограничения скорости сети при репликации данных для добавления или замены новых узлов.</p><div class="codeBlockContainer_I0IT theme-code-block"><div class="codeBlockContent_wNvx" style="color:#000000;background-color:#ffffff"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#000000"><span class="token plain">:::note</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">60000000 байт/с примерно соответствует 457 Мбит/с (60000000 / 1024 / 1024 * 8).</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">:::</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_eDfN clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><h2 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="max_replicated_sends_network_bandwidth_for_server">max_replicated_sends_network_bandwidth_for_server<a class="hash-link" href="#max_replicated_sends_network_bandwidth_for_server" title="Direct link to heading">​</a></h2><p>Ограничивает максимальную скорость обмена данными в сети (в байтах в секунду) для <a href="/docs/ru/engines/table-engines/mergetree-family/replication">репликационных</a> отправок. Применяется только при запуске сервера. Можно также ограничить скорость для конкретной таблицы с помощью настройки <a href="/docs/ru/operations/settings/merge-tree-settings#max_replicated_sends_network_bandwidth">max_replicated_sends_network_bandwidth</a>.</p><p>Значение настройки соблюдается неточно.</p><p>Возможные значения:</p><ul><li>Любое целое положительное число.</li><li>0 — Скорость не ограничена.</li></ul><p>Значение по умолчанию: <code>0</code>.</p><p><strong>Использование</strong></p><p>Может быть использована для ограничения скорости сети при репликации данных для добавления или замены новых узлов.</p><div class="codeBlockContainer_I0IT theme-code-block"><div class="codeBlockContent_wNvx" style="color:#000000;background-color:#ffffff"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#000000"><span class="token plain">:::note</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">60000000 байт/с примерно соответствует 457 Мбит/с (60000000 / 1024 / 1024 * 8).</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">:::</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_eDfN clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><h2 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="connect-timeout-with-failover-ms">connect_timeout_with_failover_ms<a class="hash-link" href="#connect-timeout-with-failover-ms" title="Direct link to heading">​</a></h2><p>Таймаут в миллисекундах на соединение с удалённым сервером, для движка таблиц Distributed, если используются секции shard и replica в описании кластера.
В случае неуспеха, делается несколько попыток соединений с разными репликами.</p><p>Значение по умолчанию: 50.</p><h2 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="connection-pool-max-wait-ms">connection_pool_max_wait_ms<a class="hash-link" href="#connection-pool-max-wait-ms" title="Direct link to heading">​</a></h2><p>Время ожидания соединения в миллисекундах, когда пул соединений заполнен.</p><p>Возможные значения:</p><ul><li>Положительное целое число.</li><li>0 — Бесконечный таймаут.</li></ul><p>Значение по умолчанию: 0.</p><h2 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="connections-with-failover-max-tries">connections_with_failover_max_tries<a class="hash-link" href="#connections-with-failover-max-tries" title="Direct link to heading">​</a></h2><p>Максимальное количество попыток соединения с каждой репликой, для движка таблиц Distributed.</p><p>Значение по умолчанию: 3.</p><h2 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="extremes">extremes<a class="hash-link" href="#extremes" title="Direct link to heading">​</a></h2><p>Считать ли экстремальные значения (минимумы и максимумы по столбцам результата запроса). Принимает 0 или 1. По умолчанию - 0 (выключено).
Подробнее смотрите раздел «Экстремальные значения».</p><h2 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="kafka-max-wait-ms">kafka_max_wait_ms<a class="hash-link" href="#kafka-max-wait-ms" title="Direct link to heading">​</a></h2><p>Время ожидания в миллисекундах для чтения сообщений из <a href="/docs/ru/engines/table-engines/integrations/kafka#kafka">Kafka</a> перед повторной попыткой.</p><p>Возможные значения:</p><ul><li>Положительное целое число.</li><li>0 — Бесконечный таймаут.</li></ul><p>Значение по умолчанию: 5000.</p><p>См. также:</p><ul><li><a href="https://kafka.apache.org/" target="_blank" rel="noopener noreferrer">Apache Kafka</a></li></ul><h2 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="setting-use_uncompressed_cache">use_uncompressed_cache<a class="hash-link" href="#setting-use_uncompressed_cache" title="Direct link to heading">​</a></h2><p>Использовать ли кэш разжатых блоков. Принимает 0 или 1. По умолчанию - 0 (выключено).</p><p>Использование кэша несжатых блоков (только для таблиц семейства MergeTree) может существенно сократить задержку и увеличить пропускную способность при работе с большим количеством коротких запросов. Включите эту настройку для пользователей, от которых идут частые короткие запросы. Также обратите внимание на конфигурационный параметр <a href="/docs/ru/operations/server-configuration-parameters/settings#server-settings-uncompressed_cache_size">uncompressed_cache_size</a> (настраивается только в конфигурационном файле) – размер кэша разжатых блоков. По умолчанию - 8 GiB. Кэш разжатых блоков заполняется по мере надобности, а наиболее невостребованные данные автоматически удаляются.</p><p>Для запросов, читающих хоть немного приличный объём данных (миллион строк и больше), кэш разжатых блоков автоматически выключается, чтобы оставить место для действительно мелких запросов. Поэтому, можно держать настройку <code>use_uncompressed_cache</code> всегда выставленной в 1.</p><h2 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="replace-running-query">replace_running_query<a class="hash-link" href="#replace-running-query" title="Direct link to heading">​</a></h2><p>При использовании интерфейса HTTP может быть передан параметр query_id. Это любая строка, которая служит идентификатором запроса.
Если в этот момент, уже существует запрос от того же пользователя с тем же query_id, то поведение определяется параметром replace_running_query.</p><p><code>0</code> - (по умолчанию) кинуть исключение (не давать выполнить запрос, если запрос с таким же query_id уже выполняется);</p><p><code>1</code> - отменить старый запрос и начать выполнять новый.</p><p>Эта настройка, выставленная в 1, используется в Яндекс.Метрике для реализации suggest-а значений для условий сегментации. После ввода очередного символа, если старый запрос ещё не выполнился, его следует отменить.</p><h2 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="replace-running-query-max-wait-ms">replace_running_query_max_wait_ms<a class="hash-link" href="#replace-running-query-max-wait-ms" title="Direct link to heading">​</a></h2><p>Время ожидания завершения выполнения запроса с тем же <code>query_id</code>, когда активирована настройка <a href="#replace-running-query">replace_running_query</a>.</p><p>Возможные значения:</p><ul><li>Положительное целое число.</li><li>0 — Создание исключения, которое не позволяет выполнить новый запрос, если сервер уже выполняет запрос с тем же <code>query_id</code>.</li></ul><p>Значение по умолчанию: 5000.</p><h2 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="stream-flush-interval-ms">stream_flush_interval_ms<a class="hash-link" href="#stream-flush-interval-ms" title="Direct link to heading">​</a></h2><p>Работает для таблиц со стриммингом в случае тайм-аута, или когда поток генерирует <a href="#settings-max_insert_block_size">max_insert_block_size</a> строк.</p><p>Значение по умолчанию: 7500.</p><p>Чем меньше значение, тем чаще данные сбрасываются в таблицу. Установка слишком низкого значения приводит к снижению производительности.</p><h2 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="settings-load_balancing">load_balancing<a class="hash-link" href="#settings-load_balancing" title="Direct link to heading">​</a></h2><p>Задает алгоритм выбора реплик, используемый при обработке распределенных запросов.</p><p>ClickHouse поддерживает следующие алгоритмы выбора реплик:</p><ul><li><a href="#load_balancing-random">Random</a> (by default)</li><li><a href="#load_balancing-nearest_hostname">Nearest hostname</a></li><li><a href="#load_balancing-in_order">In order</a></li><li><a href="#load_balancing-first_or_random">First or random</a></li><li><a href="#load_balancing-round_robin">Round robin</a></li></ul><p>См. также:</p><ul><li><a href="#settings-distributed_replica_max_ignored_errors">distributed_replica_max_ignored_errors</a></li></ul><h3 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="load_balancing-random">Random (by Default)<a class="hash-link" href="#load_balancing-random" title="Direct link to heading">​</a></h3><div class="codeBlockContainer_I0IT language-sql theme-code-block"><div class="codeBlockContent_wNvx" style="color:#000000;background-color:#ffffff"><pre tabindex="0" class="prism-code language-sql codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#000000"><span class="token plain">load_balancing </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> random</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_eDfN clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><p>Для каждой реплики считается количество ошибок. Запрос отправляется на реплику с минимальным числом ошибок, а если таких несколько, то на случайную из них.
Недостатки: не учитывается близость серверов; если на репликах оказались разные данные, то вы будете получать так же разные данные.</p><h3 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="load_balancing-nearest_hostname">Nearest Hostname<a class="hash-link" href="#load_balancing-nearest_hostname" title="Direct link to heading">​</a></h3><div class="codeBlockContainer_I0IT language-sql theme-code-block"><div class="codeBlockContent_wNvx" style="color:#000000;background-color:#ffffff"><pre tabindex="0" class="prism-code language-sql codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#000000"><span class="token plain">load_balancing </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> nearest_hostname</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_eDfN clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><p>Для каждой реплики считается количество ошибок. Каждые 5 минут, число ошибок целочисленно делится на 2. Таким образом, обеспечивается расчёт числа ошибок за недавнее время с экспоненциальным сглаживанием. Если есть одна реплика с минимальным числом ошибок (то есть, на других репликах недавно были ошибки) - запрос отправляется на неё. Если есть несколько реплик с одинаковым минимальным числом ошибок, то запрос отправляется на реплику, имя хоста которой в конфигурационном файле минимально отличается от имени хоста сервера (по количеству отличающихся символов на одинаковых позициях, до минимальной длины обеих имён хостов).</p><p>Для примера, example01-01-1 и example01-01-2.yandex.ru отличаются в одной позиции, а example01-01-1 и example01-02-2 - в двух.
Этот метод может показаться примитивным, но он не требует внешних данных о топологии сети и не сравнивает IP-адреса, что было бы сложно для наших IPv6-адресов.</p><p>Таким образом, если есть равнозначные реплики, предпочитается ближайшая по имени.
Также можно сделать предположение, что при отправке запроса на один и тот же сервер, в случае отсутствия сбоев, распределённый запрос будет идти тоже на одни и те же серверы. То есть, даже если на репликах расположены разные данные, запрос будет возвращать в основном одинаковые результаты.</p><h3 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="load_balancing-in_order">In Order<a class="hash-link" href="#load_balancing-in_order" title="Direct link to heading">​</a></h3><div class="codeBlockContainer_I0IT language-sql theme-code-block"><div class="codeBlockContent_wNvx" style="color:#000000;background-color:#ffffff"><pre tabindex="0" class="prism-code language-sql codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#000000"><span class="token plain">load_balancing </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> in_order</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_eDfN clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><p>Реплики с одинаковым количеством ошибок опрашиваются в порядке, определённом конфигурацией.
Этот способ подходит для тех случаев, когда вы точно знаете, какая реплика предпочтительнее.</p><h3 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="load_balancing-first_or_random">First or Random<a class="hash-link" href="#load_balancing-first_or_random" title="Direct link to heading">​</a></h3><div class="codeBlockContainer_I0IT language-sql theme-code-block"><div class="codeBlockContent_wNvx" style="color:#000000;background-color:#ffffff"><pre tabindex="0" class="prism-code language-sql codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#000000"><span class="token plain">load_balancing </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> first_or_random</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_eDfN clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><p>Алгоритм выбирает первую реплику или случайную реплику, если первая недоступна. Он эффективен в топологиях с перекрестной репликацией, но бесполезен в других конфигурациях.</p><p>Алгоритм <code>first or random</code> решает проблему алгоритма <code>in order</code>. При использовании <code>in order</code>, если одна реплика перестаёт отвечать, то следующая за ней принимает двойную нагрузку, в то время как все остальные обрабатываю свой обычный трафик. Алгоритм <code>first or random</code> равномерно распределяет нагрузку между репликами.</p><h3 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="load_balancing-round_robin">Round Robin<a class="hash-link" href="#load_balancing-round_robin" title="Direct link to heading">​</a></h3><div class="codeBlockContainer_I0IT language-sql theme-code-block"><div class="codeBlockContent_wNvx" style="color:#000000;background-color:#ffffff"><pre tabindex="0" class="prism-code language-sql codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#000000"><span class="token plain">load_balancing </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> round_robin</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_eDfN clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><p>Этот алгоритм использует циклический перебор реплик с одинаковым количеством ошибок (учитываются только запросы с алгоритмом <code>round_robin</code>).</p><h2 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="settings-prefer-localhost-replica">prefer_localhost_replica<a class="hash-link" href="#settings-prefer-localhost-replica" title="Direct link to heading">​</a></h2><p>Включает или выключает предпочтительное использование localhost реплики при обработке распределенных запросов.</p><p>Возможные значения:</p><ul><li>1 — ClickHouse всегда отправляет запрос на localhost реплику, если она существует.</li><li>0 — ClickHouse использует балансировку, заданную настройкой <a href="#settings-load_balancing">load_balancing</a>.</li></ul><p>Значение по умолчанию: 1.</p></div></div><div class="codeBlockContainer_I0IT theme-code-block"><div class="codeBlockContent_wNvx" style="color:#000000;background-color:#ffffff"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#000000"><span class="token plain">Отключайте эту настройку при использовании [max_parallel_replicas](#settings-max_parallel_replicas).</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_eDfN clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><h2 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="totals-mode">totals_mode<a class="hash-link" href="#totals-mode" title="Direct link to heading">​</a></h2><p>Каким образом вычислять TOTALS при наличии HAVING, а также при наличии max_rows_to_group_by и group_by_overflow_mode = ‘any’.
Смотрите раздел «Модификатор WITH TOTALS».</p><h2 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="totals-auto-threshold">totals_auto_threshold<a class="hash-link" href="#totals-auto-threshold" title="Direct link to heading">​</a></h2><p>Порог для <code>totals_mode = &#x27;auto&#x27;</code>.
Смотрите раздел «Модификатор WITH TOTALS».</p><h2 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="settings-max_parallel_replicas">max_parallel_replicas<a class="hash-link" href="#settings-max_parallel_replicas" title="Direct link to heading">​</a></h2><p>Максимальное количество используемых реплик каждого шарда при выполнении запроса.</p><p>Возможные значения:</p><ul><li>Целое положительное число.</li></ul><p><strong>Дополнительная информация</strong></p><p>Эта настройка полезна для реплицируемых таблиц с ключом сэмплирования. Запрос может обрабатываться быстрее, если он выполняется на нескольких серверах параллельно. Однако производительность обработки запроса, наоборот, может упасть в следующих ситуациях:</p><ul><li>Позиция ключа сэмплирования в ключе партиционирования не позволяет выполнять эффективное сканирование.</li><li>Добавление ключа сэмплирования в таблицу делает фильтрацию по другим столбцам менее эффективной.</li><li>Ключ сэмплирования является выражением, которое сложно вычисляется.</li><li>У распределения сетевых задержек в кластере длинный «хвост», из-за чего при параллельных запросах к нескольким серверам увеличивается среднее время задержки.</li></ul><div class="admonition admonition-danger alert alert--danger"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="16" viewBox="0 0 12 16"><path fill-rule="evenodd" d="M5.05.31c.81 2.17.41 3.38-.52 4.31C3.55 5.67 1.98 6.45.9 7.98c-1.45 2.05-1.7 6.53 3.53 7.7-2.2-1.16-2.67-4.52-.3-6.61-.61 2.03.53 3.33 1.94 2.86 1.39-.47 2.3.53 2.27 1.67-.02.78-.31 1.44-1.13 1.81 3.42-.59 4.78-3.42 4.78-5.56 0-2.84-2.53-3.22-1.25-5.61-1.52.13-2.03 1.13-1.89 2.75.09 1.08-1.02 1.8-1.86 1.33-.67-.41-.66-1.19-.06-1.78C8.18 5.31 8.68 2.45 5.05.32L5.03.3l.02.01z"></path></svg></span>&quot;Предупреждение&quot;</h5></div><div class="admonition-content"><div class="codeBlockContainer_I0IT theme-code-block"><div class="codeBlockContent_wNvx" style="color:#000000;background-color:#ffffff"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#000000"><span class="token plain">Параллельное выполнение запроса может привести к неверному результату, если в запросе есть объединение или подзапросы и при этом таблицы не удовлетворяют определенным требованиям. Подробности смотрите в разделе [Распределенные подзапросы и max_parallel_replicas](/docs/ru/sql-reference/operators/in#max_parallel_replica-subqueries).</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_eDfN clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><h2 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="compile-expressions">compile_expressions<a class="hash-link" href="#compile-expressions" title="Direct link to heading">​</a></h2><p>Включает или выключает компиляцию часто используемых функций и операторов. Компиляция производится в нативный код платформы с помощью LLVM во время выполнения.</p><p>Возможные значения:</p><ul><li>0 — компиляция выключена.</li><li>1 — компиляция включена.</li></ul><p>Значение по умолчанию: <code>1</code>.</p><h2 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="min-count-to-compile-expression">min_count_to_compile_expression<a class="hash-link" href="#min-count-to-compile-expression" title="Direct link to heading">​</a></h2><p>Минимальное количество выполнений одного и того же выражения до его компиляции.</p><p>Значение по умолчанию: <code>3</code>.</p><h2 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="compile_aggregate_expressions">compile_aggregate_expressions<a class="hash-link" href="#compile_aggregate_expressions" title="Direct link to heading">​</a></h2><p>Включает или отключает компиляцию агрегатных функций в нативный код во время выполнения запроса. Включение этой настройки может улучшить производительность выполнения запросов.</p><p>Возможные значения:</p><ul><li>0 — агрегатные функции не компилируются в нативный код.</li><li>1 — агрегатные функции компилируются в нативный код в процессе выполнения запроса.</li></ul><p>Значение по умолчанию: <code>1</code>.</p><p><strong>См. также</strong></p><ul><li><a href="#min_count_to_compile_aggregate_expression">min_count_to_compile_aggregate_expression</a></li></ul><h2 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="min_count_to_compile_aggregate_expression">min_count_to_compile_aggregate_expression<a class="hash-link" href="#min_count_to_compile_aggregate_expression" title="Direct link to heading">​</a></h2><p>Минимальное количество вызовов агрегатной функции с одинаковым выражением, при котором функция будет компилироваться в нативный код в ходе выполнения запроса. Работает только если включена настройка <a href="#compile_aggregate_expressions">compile_aggregate_expressions</a>.</p><p>Возможные значения:</p><ul><li>Целое положительное число.</li><li>0 — агрегатные функциии всегда компилируются в ходе выполнения запроса.</li></ul><p>Значение по умолчанию: <code>3</code>.</p><h2 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="input-format-skip-unknown-fields">input_format_skip_unknown_fields<a class="hash-link" href="#input-format-skip-unknown-fields" title="Direct link to heading">​</a></h2><p>Если значение равно true, то при выполнении INSERT входные данные из столбцов с неизвестными именами будут пропущены. В противном случае эта ситуация создаст исключение.
Работает для форматов JSONEachRow и TSKV.</p><h2 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="session_settings-output_format_json_quote_64bit_integers">output_format_json_quote_64bit_integers<a class="hash-link" href="#session_settings-output_format_json_quote_64bit_integers" title="Direct link to heading">​</a></h2><p>Управляет кавычками при выводе 64-битных или более <a href="/docs/ru/sql-reference/data-types/int-uint">целых чисел</a> (например, <code>UInt64</code> или <code>Int128</code>) в формате <a href="/docs/ru/interfaces/formats#json">JSON</a>.
По умолчанию такие числа заключаются в кавычки. Это поведение соответствует большинству реализаций JavaScript.</p><p>Возможные значения:</p><ul><li>0 — числа выводятся без кавычек.</li><li>1 — числа выводятся в кавычках.</li></ul><p>Значение по умолчанию: 1.</p><h2 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="settings-output_format_json_quote_denormals">output_format_json_quote_denormals<a class="hash-link" href="#settings-output_format_json_quote_denormals" title="Direct link to heading">​</a></h2><p>При выводе данных в формате <a href="/docs/ru/interfaces/formats#json">JSON</a> включает отображение значений <code>+nan</code>, <code>-nan</code>, <code>+inf</code>, <code>-inf</code>.</p><p>Возможные значения:</p><ul><li>0 — выключена.</li><li>1 — включена.</li></ul><p>Значение по умолчанию: 0.</p><p><strong>Пример</strong></p><p>Рассмотрим следующую таблицу <code>account_orders</code>:</p><div class="codeBlockContainer_I0IT language-text theme-code-block"><div class="codeBlockContent_wNvx" style="color:#000000;background-color:#ffffff"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#000000"><span class="token plain">┌─id─┬─name───┬─duration─┬─period─┬─area─┐</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">│  1 │ Andrew │       20 │      0 │  400 │</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">│  2 │ John   │       40 │      0 │    0 │</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">│  3 │ Bob    │       15 │      0 │ -100 │</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">└────┴────────┴──────────┴────────┴──────┘</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_eDfN clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><p>Когда <code>output_format_json_quote_denormals = 0</code>, следующий запрос возвращает значения <code>null</code>.</p><div class="codeBlockContainer_I0IT language-sql theme-code-block"><div class="codeBlockContent_wNvx" style="color:#000000;background-color:#ffffff"><pre tabindex="0" class="prism-code language-sql codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#000000"><span class="token keyword" style="color:rgb(0, 0, 255)">SELECT</span><span class="token plain"> area</span><span class="token operator" style="color:rgb(0, 0, 0)">/</span><span class="token plain">period </span><span class="token keyword" style="color:rgb(0, 0, 255)">FROM</span><span class="token plain"> account_orders FORMAT JSON</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_eDfN clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><div class="codeBlockContainer_I0IT language-json theme-code-block"><div class="codeBlockContent_wNvx" style="color:#000000;background-color:#ffffff"><pre tabindex="0" class="prism-code language-json codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#000000"><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token property">&quot;meta&quot;</span><span class="token operator" style="color:rgb(0, 0, 0)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">                </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">                        </span><span class="token property">&quot;name&quot;</span><span class="token operator" style="color:rgb(0, 0, 0)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(163, 21, 21)">&quot;divide(area, period)&quot;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">                        </span><span class="token property">&quot;type&quot;</span><span class="token operator" style="color:rgb(0, 0, 0)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(163, 21, 21)">&quot;Float64&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">                </span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token property">&quot;data&quot;</span><span class="token operator" style="color:rgb(0, 0, 0)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">                </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">                        </span><span class="token property">&quot;divide(area, period)&quot;</span><span class="token operator" style="color:rgb(0, 0, 0)">:</span><span class="token plain"> </span><span class="token null keyword" style="color:rgb(0, 0, 255)">null</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">                </span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">                </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">                        </span><span class="token property">&quot;divide(area, period)&quot;</span><span class="token operator" style="color:rgb(0, 0, 0)">:</span><span class="token plain"> </span><span class="token null keyword" style="color:rgb(0, 0, 255)">null</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">                </span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">                </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">                        </span><span class="token property">&quot;divide(area, period)&quot;</span><span class="token operator" style="color:rgb(0, 0, 0)">:</span><span class="token plain"> </span><span class="token null keyword" style="color:rgb(0, 0, 255)">null</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">                </span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token property">&quot;rows&quot;</span><span class="token operator" style="color:rgb(0, 0, 0)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">3</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token property">&quot;statistics&quot;</span><span class="token operator" style="color:rgb(0, 0, 0)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">                </span><span class="token property">&quot;elapsed&quot;</span><span class="token operator" style="color:rgb(0, 0, 0)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">0.003648093</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">                </span><span class="token property">&quot;rows_read&quot;</span><span class="token operator" style="color:rgb(0, 0, 0)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">3</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">                </span><span class="token property">&quot;bytes_read&quot;</span><span class="token operator" style="color:rgb(0, 0, 0)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">24</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_eDfN clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><p>Если <code>output_format_json_quote_denormals = 1</code>, то запрос вернет:</p><div class="codeBlockContainer_I0IT language-json theme-code-block"><div class="codeBlockContent_wNvx" style="color:#000000;background-color:#ffffff"><pre tabindex="0" class="prism-code language-json codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#000000"><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token property">&quot;meta&quot;</span><span class="token operator" style="color:rgb(0, 0, 0)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">                </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">                        </span><span class="token property">&quot;name&quot;</span><span class="token operator" style="color:rgb(0, 0, 0)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(163, 21, 21)">&quot;divide(area, period)&quot;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">                        </span><span class="token property">&quot;type&quot;</span><span class="token operator" style="color:rgb(0, 0, 0)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(163, 21, 21)">&quot;Float64&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">                </span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token property">&quot;data&quot;</span><span class="token operator" style="color:rgb(0, 0, 0)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">                </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">                        </span><span class="token property">&quot;divide(area, period)&quot;</span><span class="token operator" style="color:rgb(0, 0, 0)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(163, 21, 21)">&quot;inf&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">                </span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">                </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">                        </span><span class="token property">&quot;divide(area, period)&quot;</span><span class="token operator" style="color:rgb(0, 0, 0)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(163, 21, 21)">&quot;-nan&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">                </span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">                </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">                        </span><span class="token property">&quot;divide(area, period)&quot;</span><span class="token operator" style="color:rgb(0, 0, 0)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(163, 21, 21)">&quot;-inf&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">                </span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token property">&quot;rows&quot;</span><span class="token operator" style="color:rgb(0, 0, 0)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">3</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token property">&quot;statistics&quot;</span><span class="token operator" style="color:rgb(0, 0, 0)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">                </span><span class="token property">&quot;elapsed&quot;</span><span class="token operator" style="color:rgb(0, 0, 0)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">0.000070241</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">                </span><span class="token property">&quot;rows_read&quot;</span><span class="token operator" style="color:rgb(0, 0, 0)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">3</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">                </span><span class="token property">&quot;bytes_read&quot;</span><span class="token operator" style="color:rgb(0, 0, 0)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">24</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_eDfN clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><h2 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="settings-format_csv_delimiter">format_csv_delimiter<a class="hash-link" href="#settings-format_csv_delimiter" title="Direct link to heading">​</a></h2><p>Символ, интерпретируемый как разделитель в данных формата CSV. По умолчанию — <code>,</code>.</p><h2 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="settings-input_format_csv_unquoted_null_literal_as_null">input_format_csv_unquoted_null_literal_as_null<a class="hash-link" href="#settings-input_format_csv_unquoted_null_literal_as_null" title="Direct link to heading">​</a></h2><p>Для формата CSV включает или выключает парсинг неэкранированной строки <code>NULL</code> как литерала (синоним для <code>\N</code>)</p><h2 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="settings-input_format_csv_enum_as_number">input_format_csv_enum_as_number<a class="hash-link" href="#settings-input_format_csv_enum_as_number" title="Direct link to heading">​</a></h2><p>Включает или отключает парсинг значений перечислений как порядковых номеров.
Если режим включен, то во входящих данных в формате <code>CSV</code> значения перечисления (тип <code>ENUM</code>) всегда трактуются как порядковые номера, а не как элементы перечисления. Эту настройку рекомендуется включать для оптимизации парсинга, если данные типа <code>ENUM</code> содержат только порядковые номера, а не сами элементы перечисления.</p><p>Возможные значения:</p><ul><li>0 — входящие значения типа <code>ENUM</code> сначала сопоставляются с элементами перечисления, а если совпадений не найдено, то трактуются как порядковые номера.</li><li>1 — входящие значения типа <code>ENUM</code> сразу трактуются как порядковые номера.</li></ul><p>Значение по умолчанию: 0.</p><p><strong>Пример</strong></p><p>Рассмотрим таблицу:</p><div class="codeBlockContainer_I0IT language-sql theme-code-block"><div class="codeBlockContent_wNvx" style="color:#000000;background-color:#ffffff"><pre tabindex="0" class="prism-code language-sql codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#000000"><span class="token keyword" style="color:rgb(0, 0, 255)">CREATE</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">TABLE</span><span class="token plain"> table_with_enum_column_for_csv_insert </span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">Id Int32</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token keyword" style="color:rgb(0, 0, 255)">Value</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">Enum</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token string" style="color:rgb(163, 21, 21)">&#x27;first&#x27;</span><span class="token plain"> </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">1</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(163, 21, 21)">&#x27;second&#x27;</span><span class="token plain"> </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">2</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">ENGINE</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain">Memory</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_eDfN clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><p>При включенной настройке <code>input_format_csv_enum_as_number</code>:</p><p>Запрос:</p><div class="codeBlockContainer_I0IT language-sql theme-code-block"><div class="codeBlockContent_wNvx" style="color:#000000;background-color:#ffffff"><pre tabindex="0" class="prism-code language-sql codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#000000"><span class="token keyword" style="color:rgb(0, 0, 255)">SET</span><span class="token plain"> input_format_csv_enum_as_number </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">1</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">INSERT</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">INTO</span><span class="token plain"> table_with_enum_column_for_csv_insert FORMAT CSV </span><span class="token number" style="color:rgb(9, 134, 88)">102</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token number" style="color:rgb(9, 134, 88)">2</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_eDfN clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><p>Результат:</p><div class="codeBlockContainer_I0IT language-text theme-code-block"><div class="codeBlockContent_wNvx" style="color:#000000;background-color:#ffffff"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#000000"><span class="token plain">┌──Id─┬─Value──┐</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">│ 102 │ second │</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">└─────┴────────┘</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_eDfN clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><p>Запрос:</p><div class="codeBlockContainer_I0IT language-sql theme-code-block"><div class="codeBlockContent_wNvx" style="color:#000000;background-color:#ffffff"><pre tabindex="0" class="prism-code language-sql codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#000000"><span class="token keyword" style="color:rgb(0, 0, 255)">SET</span><span class="token plain"> input_format_csv_enum_as_number </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">1</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">INSERT</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">INTO</span><span class="token plain"> table_with_enum_column_for_csv_insert FORMAT CSV </span><span class="token number" style="color:rgb(9, 134, 88)">103</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token string" style="color:rgb(163, 21, 21)">&#x27;first&#x27;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_eDfN clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><p>сгенерирует исключение.</p><p>При отключенной настройке <code>input_format_csv_enum_as_number</code>:</p><p>Запрос:</p><div class="codeBlockContainer_I0IT language-sql theme-code-block"><div class="codeBlockContent_wNvx" style="color:#000000;background-color:#ffffff"><pre tabindex="0" class="prism-code language-sql codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#000000"><span class="token keyword" style="color:rgb(0, 0, 255)">SET</span><span class="token plain"> input_format_csv_enum_as_number </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">0</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">INSERT</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">INTO</span><span class="token plain"> table_with_enum_column_for_csv_insert FORMAT CSV </span><span class="token number" style="color:rgb(9, 134, 88)">102</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token number" style="color:rgb(9, 134, 88)">2</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">INSERT</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">INTO</span><span class="token plain"> table_with_enum_column_for_csv_insert FORMAT CSV </span><span class="token number" style="color:rgb(9, 134, 88)">103</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token string" style="color:rgb(163, 21, 21)">&#x27;first&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">SELECT</span><span class="token plain"> </span><span class="token operator" style="color:rgb(0, 0, 0)">*</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">FROM</span><span class="token plain"> table_with_enum_column_for_csv_insert</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_eDfN clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><p>Результат:</p><div class="codeBlockContainer_I0IT language-text theme-code-block"><div class="codeBlockContent_wNvx" style="color:#000000;background-color:#ffffff"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#000000"><span class="token plain">┌──Id─┬─Value──┐</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">│ 102 │ second │</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">└─────┴────────┘</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">┌──Id─┬─Value─┐</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">│ 103 │ first │</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">└─────┴───────┘</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_eDfN clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><h2 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="settings-output-format-csv-crlf-end-of-line">output_format_csv_crlf_end_of_line<a class="hash-link" href="#settings-output-format-csv-crlf-end-of-line" title="Direct link to heading">​</a></h2><p>Использовать в качестве разделителя строк для CSV формата CRLF (DOS/Windows стиль) вместо LF (Unix стиль).</p><h2 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="settings-output-format-tsv-crlf-end-of-line">output_format_tsv_crlf_end_of_line<a class="hash-link" href="#settings-output-format-tsv-crlf-end-of-line" title="Direct link to heading">​</a></h2><p>Использовать в качестве разделителя строк для TSV формата CRLF (DOC/Windows стиль) вместо LF (Unix стиль).</p><h2 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="settings-insert_quorum">insert_quorum<a class="hash-link" href="#settings-insert_quorum" title="Direct link to heading">​</a></h2><p>Включает кворумную запись.</p><ul><li>Если <code>insert_quorum &lt; 2</code>, то кворумная запись выключена.</li><li>Если <code>insert_quorum &gt;= 2</code>, то кворумная запись включена.</li></ul><p>Значение по умолчанию: 0.</p><p>Кворумная запись</p><p><code>INSERT</code> завершается успешно только в том случае, когда ClickHouse смог без ошибки записать данные в <code>insert_quorum</code> реплик за время <code>insert_quorum_timeout</code>. Если по любой причине количество реплик с успешной записью не достигнет <code>insert_quorum</code>, то запись считается не состоявшейся и ClickHouse удалит вставленный блок из всех реплик, куда уже успел записать данные.</p><p>Когда <code>insert_quorum_parallel</code> выключена, все реплики кворума консистентны, то есть содержат данные всех предыдущих запросов <code>INSERT</code> (последовательность <code>INSERT</code> линеаризуется). При чтении с диска данных, записанных с помощью <code>insert_quorum</code> и при выключенной <code>insert_quorum_parallel</code>, можно включить последовательную консистентность для запросов <code>SELECT</code> с помощью <a href="#settings-select_sequential_consistency">select_sequential_consistency</a>.</p><p>ClickHouse генерирует исключение:</p><ul><li><p>Если количество доступных реплик на момент запроса меньше <code>insert_quorum</code>.</p></li><li><p>При попытке записать данные в момент, когда предыдущий блок ещё не вставлен в <code>insert_quorum</code> реплик. Эта ситуация может возникнуть, если пользователь вызвал <code>INSERT</code> прежде, чем завершился предыдущий с <code>insert_quorum</code>.</p></li><li><p>При выключенной <code>insert_quorum_parallel</code> и при попытке записать данные в момент, когда предыдущий блок еще не вставлен в <code>insert_quorum</code> реплик (несколько параллельных <code>INSERT</code>-запросов). Эта ситуация может возникнуть при попытке пользователя выполнить очередной запрос <code>INSERT</code> к той же таблице, прежде чем завершится предыдущий с <code>insert_quorum</code>.</p></li></ul><p>См. также:</p><ul><li><a href="#settings-insert_quorum_timeout">insert_quorum_timeout</a></li><li><a href="#settings-insert_quorum_parallel">insert_quorum_parallel</a></li><li><a href="#settings-select_sequential_consistency">select_sequential_consistency</a></li></ul><h2 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="settings-insert_quorum_timeout">insert_quorum_timeout<a class="hash-link" href="#settings-insert_quorum_timeout" title="Direct link to heading">​</a></h2><p>Время ожидания кворумной записи в миллисекундах. Если время прошло, а запись так не состоялась, то ClickHouse сгенерирует исключение и клиент должен повторить запрос на запись того же блока на эту же или любую другую реплику.</p><p>Значение по умолчанию: 600 000 миллисекунд (10 минут).</p><p>См. также:</p><ul><li><a href="#settings-insert_quorum">insert_quorum</a></li><li><a href="#settings-insert_quorum_parallel">insert_quorum_parallel</a></li><li><a href="#settings-select_sequential_consistency">select_sequential_consistency</a></li></ul><h2 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="settings-insert_quorum_parallel">insert_quorum_parallel<a class="hash-link" href="#settings-insert_quorum_parallel" title="Direct link to heading">​</a></h2><p>Включает и выключает параллелизм для кворумных вставок (<code>INSERT</code>-запросы). Когда опция включена, возможно выполнять несколько кворумных <code>INSERT</code>-запросов одновременно, при этом запросы не дожидаются окончания друг друга . Когда опция выключена, одновременные записи с кворумом в одну и ту же таблицу будут отклонены (будет выполнена только одна из них).</p><p>Возможные значения:</p><ul><li>0 — Выключена.</li><li>1 — Включена.</li></ul><p>Значение по умолчанию: 1.</p><p>См. также:</p><ul><li><a href="#settings-insert_quorum">insert_quorum</a></li><li><a href="#settings-insert_quorum_timeout">insert_quorum_timeout</a></li><li><a href="#settings-select_sequential_consistency">select_sequential_consistency</a></li></ul><h2 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="settings-select_sequential_consistency">select_sequential_consistency<a class="hash-link" href="#settings-select_sequential_consistency" title="Direct link to heading">​</a></h2><p>Включает или выключает последовательную консистентность для запросов <code>SELECT</code>. Необходимо, чтобы <code>insert_quorum_parallel</code> была выключена (по умолчанию включена), а опция <code>insert_quorum</code> включена.</p><p>Возможные значения:</p><ul><li>0 — выключена.</li><li>1 — включена.</li></ul><p>Значение по умолчанию: 0.</p><p>Использование</p><p>Когда последовательная консистентность включена, то ClickHouse позволит клиенту выполнить запрос <code>SELECT</code> только к тем репликам, которые содержат данные всех предыдущих запросов <code>INSERT</code>, выполненных с <code>insert_quorum</code>. Если клиент обратится к неполной реплике, то ClickHouse сгенерирует исключение. В запросе SELECT не будут участвовать данные, которые ещё не были записаны на кворум реплик.</p><p>Если <code>insert_quorum_parallel</code> включена (по умолчанию это так), тогда <code>select_sequential_consistency</code> не будет работать. Причина в том, что параллельные запросы <code>INSERT</code> можно записать в разные наборы реплик кворума, поэтому нет гарантии того, что в отдельно взятую реплику будут сделаны все записи.</p><p>См. также:</p><ul><li><a href="#settings-insert_quorum">insert_quorum</a></li><li><a href="#settings-insert_quorum_timeout">insert_quorum_timeout</a></li><li><a href="#settings-insert_quorum_parallel">insert_quorum_parallel</a></li></ul><h2 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="settings-insert-deduplicate">insert_deduplicate<a class="hash-link" href="#settings-insert-deduplicate" title="Direct link to heading">​</a></h2><p>Включает и выключает дедупликацию для запросов <code>INSERT</code> (для Replicated<!-- -->*<!-- --> таблиц).</p><p>Возможные значения:</p><ul><li>0 — выключена.</li><li>1 — включена.</li></ul><p>Значение по умолчанию: 1.</p><p>По умолчанию блоки, вставляемые в реплицируемые таблицы оператором <code>INSERT</code>, дедуплицируются (см. <a href="/docs/ru/engines/table-engines/mergetree-family/replication">Репликация данных</a>).</p><h2 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="settings-deduplicate-blocks-in-dependent-materialized-views">deduplicate_blocks_in_dependent_materialized_views<a class="hash-link" href="#settings-deduplicate-blocks-in-dependent-materialized-views" title="Direct link to heading">​</a></h2><p>Включает и выключает проверку дедупликации для материализованных представлений, которые получают данные из Replicated<!-- -->*<!-- --> таблиц.</p><p>Возможные значения:</p><ul><li>0 — выключена.</li><li>1 — включена.</li></ul><p>Значение по умолчанию: 0.</p><p>По умолчанию проверка дедупликации у материализованных представлений не производится, а наследуется от Replicated<!-- -->*<!-- --> (основной) таблицы, за которой «следит» материализованное представление.
Т.е. если <code>INSERT</code> в основную таблицу д.б. пропущен (сдедуплицирован), то автоматически не будет вставки и в материализованные представления. Это имплементировано для того, чтобы работали материализованные представления, которые сильно группируют данные основных <code>INSERT</code>, до такой степени что блоки вставляемые в материализованные представления получаются одинаковыми для разных <code>INSERT</code> в основную таблицу.
Одновременно это «ломает» идемпотентность вставки в материализованные представления. Т.е. если <code>INSERT</code> был успешен в основную таблицу и неуспешен в таблицу материализованного представления (напр. из-за сетевого сбоя при коммуникации с Zookeeper), клиент получит ошибку и попытается повторить <code>INSERT</code>. Но вставки в материализованные представления произведено не будет, потому что дедупликация сработает на основной таблице. Настройка <code>deduplicate_blocks_in_dependent_materialized_views</code> позволяет это изменить. Т.е. при повторном <code>INSERT</code> будет произведена дедупликация на таблице материализованного представления, и повторный инсерт вставит данные в таблицу материализованного представления, которые не удалось вставить из-за сбоя первого <code>INSERT</code>.</p><h2 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="insert_deduplication_token">insert_deduplication_token<a class="hash-link" href="#insert_deduplication_token" title="Direct link to heading">​</a></h2><p>Этот параметр позволяет пользователю указать собственную семантику дедупликации в MergeTree/ReplicatedMergeTree.
Например, предоставляя уникальное значение параметра в каждом операторе INSERT,
пользователь может избежать дедупликации одних и тех же вставленных данных.</p><p>Возможные значения:</p><ul><li>Любая строка</li></ul><p>Значение по умолчанию: пустая строка (выключено).</p><p><code>insert_deduplication_token</code> используется для дедупликации <em>только</em> когда значение не пустое</p><p>Example:</p><div class="codeBlockContainer_I0IT language-sql theme-code-block"><div class="codeBlockContent_wNvx" style="color:#000000;background-color:#ffffff"><pre tabindex="0" class="prism-code language-sql codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#000000"><span class="token keyword" style="color:rgb(0, 0, 255)">CREATE</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">TABLE</span><span class="token plain"> test_table</span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain"> A Int64 </span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">ENGINE</span><span class="token plain"> </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> MergeTree</span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">ORDER</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">BY</span><span class="token plain"> A</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">SETTINGS non_replicated_deduplication_window </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">100</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">INSERT</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">INTO</span><span class="token plain"> test_table </span><span class="token keyword" style="color:rgb(0, 0, 255)">Values</span><span class="token plain"> SETTINGS insert_deduplication_token </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> </span><span class="token string" style="color:rgb(163, 21, 21)">&#x27;test&#x27;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token number" style="color:rgb(9, 134, 88)">1</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token comment" style="color:rgb(0, 128, 0)">-- следующая вставка не будет дедуплицирована, потому что insert_deduplication_token отличается</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">INSERT</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">INTO</span><span class="token plain"> test_table </span><span class="token keyword" style="color:rgb(0, 0, 255)">Values</span><span class="token plain"> SETTINGS insert_deduplication_token </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> </span><span class="token string" style="color:rgb(163, 21, 21)">&#x27;test1&#x27;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token number" style="color:rgb(9, 134, 88)">1</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token comment" style="color:rgb(0, 128, 0)">-- следующая вставка будет дедуплицирована, потому что insert_deduplication_token</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token comment" style="color:rgb(0, 128, 0)">-- тот же самый, что и один из предыдущих</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">INSERT</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">INTO</span><span class="token plain"> test_table </span><span class="token keyword" style="color:rgb(0, 0, 255)">Values</span><span class="token plain"> SETTINGS insert_deduplication_token </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> </span><span class="token string" style="color:rgb(163, 21, 21)">&#x27;test&#x27;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token number" style="color:rgb(9, 134, 88)">2</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">SELECT</span><span class="token plain"> </span><span class="token operator" style="color:rgb(0, 0, 0)">*</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">FROM</span><span class="token plain"> test_table</span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">┌─A─┐</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">│ </span><span class="token number" style="color:rgb(9, 134, 88)">1</span><span class="token plain"> │</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">└───┘</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">┌─A─┐</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">│ </span><span class="token number" style="color:rgb(9, 134, 88)">1</span><span class="token plain"> │</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">└───┘</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_eDfN clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><h2 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="settings-count_distinct_implementation">count_distinct_implementation<a class="hash-link" href="#settings-count_distinct_implementation" title="Direct link to heading">​</a></h2><p>Задаёт, какая из функций <code>uniq*</code> используется при выполнении конструкции <a href="/docs/ru/sql-reference/aggregate-functions/reference/count#agg_function-count">COUNT(DISTINCT …)</a>.</p><p>Возможные значения:</p><ul><li><a href="/docs/ru/sql-reference/aggregate-functions/reference/uniq#agg_function-uniq">uniq</a></li><li><a href="/docs/ru/sql-reference/aggregate-functions/reference/uniqcombined#agg_function-uniqcombined">uniqCombined</a></li><li><a href="/docs/ru/sql-reference/aggregate-functions/reference/uniqcombined64#agg_function-uniqcombined64">uniqCombined64</a></li><li><a href="/docs/ru/sql-reference/aggregate-functions/reference/uniqhll12#agg_function-uniqhll12">uniqHLL12</a></li><li><a href="/docs/ru/sql-reference/aggregate-functions/reference/uniqexact#agg_function-uniqexact">uniqExact</a></li></ul><p>Значение по умолчанию: <code>uniqExact</code>.</p><h2 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="settings-max-network-bytes">max_network_bytes<a class="hash-link" href="#settings-max-network-bytes" title="Direct link to heading">​</a></h2><p>Ограничивает объём данных (в байтах), который принимается или передается по сети при выполнении запроса. Параметр применяется к каждому отдельному запросу.</p><p>Возможные значения:</p><ul><li>Положительное целое число.</li><li>0 — контроль объёма данных отключен.</li></ul><p>Значение по умолчанию: 0.</p><h2 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="settings-max-network-bandwidth">max_network_bandwidth<a class="hash-link" href="#settings-max-network-bandwidth" title="Direct link to heading">​</a></h2><p>Ограничивает скорость обмена данными по сети в байтах в секунду. Параметр применяется к каждому отдельному запросу.</p><p>Возможные значения:</p><ul><li>Положительное целое число.</li><li>0 — контроль скорости передачи данных отключен.</li></ul><p>Значение по умолчанию: 0.</p><h2 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="settings-max-network-bandwidth-for-user">max_network_bandwidth_for_user<a class="hash-link" href="#settings-max-network-bandwidth-for-user" title="Direct link to heading">​</a></h2><p>Ограничивает скорость обмена данными по сети в байтах в секунду. Этот параметр применяется ко всем одновременно выполняемым запросам, запущенным одним пользователем.</p><p>Возможные значения:</p><ul><li>Положительное целое число.</li><li>0 — управление скоростью передачи данных отключено.</li></ul><p>Значение по умолчанию: 0.</p><h2 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="settings-max-network-bandwidth-for-all-users">max_network_bandwidth_for_all_users<a class="hash-link" href="#settings-max-network-bandwidth-for-all-users" title="Direct link to heading">​</a></h2><p>Ограничивает скорость обмена данными по сети в байтах в секунду. Этот параметр применяется ко всем одновременно выполняемым запросам на сервере.</p><p>Возможные значения:</p><ul><li>Положительное целое число.</li><li>0 — управление скоростью передачи данных отключено.</li></ul><p>Значение по умолчанию: 0.</p><h2 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="settings-skip_unavailable_shards">skip_unavailable_shards<a class="hash-link" href="#settings-skip_unavailable_shards" title="Direct link to heading">​</a></h2><p>Включает или отключает тихий пропуск недоступных шардов.</p><p>Шард считается недоступным, если все его реплики недоступны. Реплика недоступна в следующих случаях:</p><ul><li><p>ClickHouse не может установить соединение с репликой по любой причине.</p><div class="codeBlockContainer_I0IT theme-code-block"><div class="codeBlockContent_wNvx" style="color:#000000;background-color:#ffffff"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#000000"><span class="token plain">ClickHouse предпринимает несколько попыток подключиться к реплике. Если все попытки оказались неудачными, реплика считается недоступной.</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_eDfN clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></li><li><p>Реплика не может быть разрешена с помощью DNS.</p><div class="codeBlockContainer_I0IT theme-code-block"><div class="codeBlockContent_wNvx" style="color:#000000;background-color:#ffffff"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#000000"><span class="token plain">Если имя хоста реплики не может быть разрешено с помощью DNS, это может указывать на следующие ситуации:</span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">- Нет записи DNS для хоста. Это может происходить в системах с динамическим DNS, например, [Kubernetes](https://kubernetes.io), где отключенные ноды не разрешаться с помощью DNS и это не ошибка.</span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">- Ошибка конфигурации. Конфигурационный файл ClickHouse может содержать неправильное имя хоста.</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_eDfN clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></li></ul><p>Возможные значения:</p><ul><li><p>1 — пропуск включен.</p><div class="codeBlockContainer_I0IT theme-code-block"><div class="codeBlockContent_wNvx" style="color:#000000;background-color:#ffffff"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#000000"><span class="token plain">Если шард недоступен, то ClickHouse возвращает результат, основанный на неполных данных и не оповещает о проблемах с доступностью хостов.</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_eDfN clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></li><li><p>0 — пропуск выключен.</p><div class="codeBlockContainer_I0IT theme-code-block"><div class="codeBlockContent_wNvx" style="color:#000000;background-color:#ffffff"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#000000"><span class="token plain">Если шард недоступен, то ClickHouse генерирует исключение.</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_eDfN clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></li></ul><p>Значение по умолчанию: 0.</p><h2 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="distributed-push-down-limit">distributed_push_down_limit<a class="hash-link" href="#distributed-push-down-limit" title="Direct link to heading">​</a></h2><p>Включает или отключает <a href="#limit">LIMIT</a>, применяемый к каждому шарду по отдельности.</p><p>Это позволяет избежать:</p><ul><li>отправки дополнительных строк по сети;</li><li>обработки строк за пределами ограничения для инициатора.</li></ul><p>Начиная с версии 21.9 вы больше не сможете получить неточные результаты, так как <code>distributed_push_down_limit</code> изменяет выполнение запроса только в том случае, если выполнено хотя бы одно из условий:</p><ul><li><code>distributed_group_by_no_merge</code> &gt; 0.</li><li>запрос <strong>не содержит</strong> <code>GROUP BY</code>/<code>DISTINCT</code>/<code>LIMIT BY</code>, но содержит <code>ORDER BY</code>/<code>LIMIT</code>.</li><li>запрос <strong>содержит</strong> <code>GROUP BY</code>/<code>DISTINCT</code>/<code>LIMIT BY</code> с <code>ORDER BY</code>/<code>LIMIT</code> и:<ul><li>включена настройка <a href="#optimize-skip-unused-shards">optimize_skip_unused_shards</a>.</li><li>включена настройка <code>optimize_distributed_group_by_sharding_key</code>.</li></ul></li></ul><p>Возможные значения:</p><ul><li>0 — выключена.</li><li>1 — включена.</li></ul><p>Значение по умолчанию: <code>1</code>.</p><p>См. также:</p><ul><li><a href="#optimize-skip-unused-shards">optimize_skip_unused_shards</a></li></ul><h2 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="optimize-skip-unused-shards">optimize_skip_unused_shards<a class="hash-link" href="#optimize-skip-unused-shards" title="Direct link to heading">​</a></h2><p>Включает или отключает пропуск неиспользуемых шардов для запросов <a href="/docs/ru/sql-reference/statements/select/">SELECT</a> , в которых условие ключа шардирования задано в секции <code>WHERE/PREWHERE</code>. Предполагается, что данные распределены с помощью ключа шардирования, в противном случае запрос выдаст неверный результат.</p><p>Возможные значения:</p><ul><li>0 — Выключена.</li><li>1 — Включена.</li></ul><p>Значение по умолчанию: 0</p><h2 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="optimize-skip-unused-shards-nesting">optimize_skip_unused_shards_nesting<a class="hash-link" href="#optimize-skip-unused-shards-nesting" title="Direct link to heading">​</a></h2><p>Контролирует настройку <a href="#optimize-skip-unused-shards"><code>optimize_skip_unused_shards</code></a> (поэтому все еще требует <code>optimize_skip_unused_shards</code>) в зависимости от вложенности распределенного запроса (когда у вас есть <code>Distributed</code> таблица которая смотрит на другую <code>Distributed</code> таблицу).</p><p>Возможные значения:</p><ul><li>0 — Выключена, <code>optimize_skip_unused_shards</code> работает всегда.</li><li>1 — Включает <code>optimize_skip_unused_shards</code> только для 1-ого уровня вложенности.</li><li>2 — Включает <code>optimize_skip_unused_shards</code> для 1-ого и 2-ого уровня вложенности.</li></ul><p>Значение по умолчанию: 0</p><h2 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="settings-force_optimize_skip_unused_shards">force_optimize_skip_unused_shards<a class="hash-link" href="#settings-force_optimize_skip_unused_shards" title="Direct link to heading">​</a></h2><p>Разрешает или запрещает выполнение запроса, если настройка <a href="#optimize-skip-unused-shards">optimize_skip_unused_shards</a> включена, а пропуск неиспользуемых шардов невозможен. Если данная настройка включена и пропуск невозможен, ClickHouse генерирует исключение.</p><p>Возможные значения:</p><ul><li>0 — Выключена, <code>force_optimize_skip_unused_shards</code> работает всегда.</li><li>1 — Включает <code>force_optimize_skip_unused_shards</code> только для 1-ого уровня вложенности.</li><li>2 — Включает <code>force_optimize_skip_unused_shards</code> для 1-ого и 2-ого уровня вложенности.</li></ul><p>Значение по умолчанию: 0</p><h2 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="settings-force_optimize_skip_unused_shards_nesting">force_optimize_skip_unused_shards_nesting<a class="hash-link" href="#settings-force_optimize_skip_unused_shards_nesting" title="Direct link to heading">​</a></h2><p>Контролирует настройку <a href="#settings-force_optimize_skip_unused_shards"><code>force_optimize_skip_unused_shards</code></a> (поэтому все еще требует <code>optimize_skip_unused_shards</code>) в зависимости от вложенности распределенного запроса (когда у вас есть <code>Distributed</code> таблица которая смотрит на другую <code>Distributed</code> таблицу).</p><p>Возможные значения:</p><ul><li>0 - Выключена, <code>force_optimize_skip_unused_shards</code> работает всегда.</li><li>1 — Включает <code>force_optimize_skip_unused_shards</code> только для 1-ого уровня вложенности.</li><li>2 — Включает <code>force_optimize_skip_unused_shards</code> для 1-ого и 2-ого уровня вложенности.</li></ul><p>Значение по умолчанию: 0</p><h2 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="settings-force_optimize_skip_unused_shards_no_nested">force_optimize_skip_unused_shards_no_nested<a class="hash-link" href="#settings-force_optimize_skip_unused_shards_no_nested" title="Direct link to heading">​</a></h2><p>Сбрасывает <a href="#settings-force_optimize_skip_unused_shards"><code>optimize_skip_unused_shards</code></a> для вложенных <code>Distributed</code> таблиц.</p><p>Возможные значения:</p><ul><li>1 — Включена.</li><li>0 — Выключена.</li></ul><p>Значение по умолчанию: 0</p><h2 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="setting-optimize_throw_if_noop">optimize_throw_if_noop<a class="hash-link" href="#setting-optimize_throw_if_noop" title="Direct link to heading">​</a></h2><p>Включает или отключает генерирование исключения в случаях, когда запрос <a href="/docs/ru/sql-reference/statements/misc#misc_operations-optimize">OPTIMIZE</a> не выполняет мёрж.</p><p>По умолчанию, <code>OPTIMIZE</code> завершается успешно и в тех случаях, когда он ничего не сделал. Настройка позволяет отделить подобные случаи и включает генерирование исключения с поясняющим сообщением.</p><p>Возможные значения:</p><ul><li>1 — генерирование исключения включено.</li><li>0 — генерирование исключения выключено.</li></ul><p>Значение по умолчанию: 0.</p><h2 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="optimize-functions-to-subcolumns">optimize_functions_to_subcolumns<a class="hash-link" href="#optimize-functions-to-subcolumns" title="Direct link to heading">​</a></h2><p>Включает или отключает оптимизацию путем преобразования некоторых функций к чтению подстолбцов, таким образом уменьшая объем данных для чтения.</p><p>Могут быть преобразованы следующие функции:</p><ul><li><a href="/docs/ru/sql-reference/functions/array-functions#array_functions-length">length</a> к чтению подстолбца <a href="/docs/ru/sql-reference/data-types/array#array-size">size0</a> subcolumn.</li><li><a href="/docs/ru/sql-reference/functions/array-functions#function-empty">empty</a> к чтению подстолбца <a href="/docs/ru/sql-reference/data-types/array#array-size">size0</a> subcolumn.</li><li><a href="/docs/ru/sql-reference/functions/array-functions#function-notempty">notEmpty</a> к чтению подстолбца <a href="/docs/ru/sql-reference/data-types/array#array-size">size0</a>.</li><li><a href="/docs/ru/sql-reference/operators/#operator-is-null">isNull</a> к чтению подстолбца <a href="/docs/ru/sql-reference/data-types/nullable#finding-null">null</a>.</li><li><a href="/docs/ru/sql-reference/operators/#is-not-null">isNotNull</a> к чтению подстолбца <a href="/docs/ru/sql-reference/data-types/nullable#finding-null">null</a>.</li><li><a href="/docs/ru/sql-reference/aggregate-functions/reference/count">count</a> к чтению подстолбца <a href="/docs/ru/sql-reference/data-types/nullable#finding-null">null</a>.</li><li><a href="/docs/ru/sql-reference/functions/tuple-map-functions#mapkeys">mapKeys</a> к чтению подстолбца <a href="/docs/ru/sql-reference/data-types/map#map-subcolumns">keys</a>.</li><li><a href="/docs/ru/sql-reference/functions/tuple-map-functions#mapvalues">mapValues</a> к чтению подстолбца <a href="/docs/ru/sql-reference/data-types/map#map-subcolumns">values</a>.</li></ul><p>Возможные значения:</p><ul><li>0 — оптимизация отключена.</li><li>1 — оптимизация включена.</li></ul><p>Значение по умолчанию: <code>0</code>.</p><h2 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="optimize-trivial-count-query">optimize_trivial_count_query<a class="hash-link" href="#optimize-trivial-count-query" title="Direct link to heading">​</a></h2><p>Включает или отключает оптимизацию простого запроса <code>SELECT count() FROM table</code> с использованием метаданных MergeTree. Если вы хотите управлять безопасностью на уровне строк, отключите оптимизацию.</p><p>Возможные значения:</p><ul><li>0 — оптимизация отключена.</li><li>1 — оптимизация включена.</li></ul><p>Значение по умолчанию: <code>1</code>.</p><p>См. также:</p><ul><li><a href="#optimize-functions-to-subcolumns">optimize_functions_to_subcolumns</a></li></ul><h2 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="settings-distributed_replica_error_half_life">distributed_replica_error_half_life<a class="hash-link" href="#settings-distributed_replica_error_half_life" title="Direct link to heading">​</a></h2><ul><li>Тип: секунды</li><li>Значение по умолчанию: 60 секунд</li></ul><p>Управляет скоростью обнуления счетчика ошибок в распределенных таблицах. Предположим, реплика остается недоступна в течение какого-то времени, и за этот период накопилось 5 ошибок. Если настройка <code>distributed_replica_error_half_life</code> установлена в значение 1 секунда, то реплика снова будет считаться доступной через 3 секунды после последней ошибки.</p><p>См. также:</p><ul><li><a href="#load_balancing-round_robin">load_balancing</a></li><li><a href="/docs/ru/engines/table-engines/special/distributed">Table engine Distributed</a></li><li><a href="#settings-distributed_replica_error_cap">distributed_replica_error_cap</a></li><li><a href="#settings-distributed_replica_max_ignored_errors">distributed_replica_max_ignored_errors</a></li></ul><h2 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="settings-distributed_replica_error_cap">distributed_replica_error_cap<a class="hash-link" href="#settings-distributed_replica_error_cap" title="Direct link to heading">​</a></h2><ul><li>Тип: unsigned int</li><li>Значение по умолчанию: 1000</li></ul><p>Счетчик ошибок каждой реплики ограничен этим значением, чтобы одна реплика не накапливала слишком много ошибок.</p><p>См. также:</p><ul><li><a href="#load_balancing-round_robin">load_balancing</a></li><li><a href="/docs/ru/engines/table-engines/special/distributed">Table engine Distributed</a></li><li><a href="#settings-distributed_replica_error_half_life">distributed_replica_error_half_life</a></li><li><a href="#settings-distributed_replica_max_ignored_errors">distributed_replica_max_ignored_errors</a></li></ul><h2 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="settings-distributed_replica_max_ignored_errors">distributed_replica_max_ignored_errors<a class="hash-link" href="#settings-distributed_replica_max_ignored_errors" title="Direct link to heading">​</a></h2><ul><li>Тип: unsigned int</li><li>Значение по умолчанию: 0</li></ul><p>Количество ошибок, которые будут проигнорированы при выборе реплик (согласно алгоритму <code>load_balancing</code>).</p><p>См. также:</p><ul><li><a href="#load_balancing-round_robin">load_balancing</a></li><li><a href="/docs/ru/engines/table-engines/special/distributed">Table engine Distributed</a></li><li><a href="#settings-distributed_replica_error_cap">distributed_replica_error_cap</a></li><li><a href="#settings-distributed_replica_error_half_life">distributed_replica_error_half_life</a></li></ul><h2 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="distributed_directory_monitor_sleep_time_ms">distributed_directory_monitor_sleep_time_ms<a class="hash-link" href="#distributed_directory_monitor_sleep_time_ms" title="Direct link to heading">​</a></h2><p>Основной интервал отправки данных движком таблиц <a href="/docs/ru/engines/table-engines/special/distributed">Distributed</a>. Фактический интервал растёт экспоненциально при возникновении ошибок.</p><p>Возможные значения:</p><ul><li>Положительное целое количество миллисекунд.</li></ul><p>Значение по умолчанию: 100 миллисекунд.</p><h2 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="distributed_directory_monitor_max_sleep_time_ms">distributed_directory_monitor_max_sleep_time_ms<a class="hash-link" href="#distributed_directory_monitor_max_sleep_time_ms" title="Direct link to heading">​</a></h2><p>Максимальный интервал отправки данных движком таблиц <a href="/docs/ru/engines/table-engines/special/distributed">Distributed</a>. Ограничивает экпоненциальный рост интервала, установленого настройкой <a href="#distributed_directory_monitor_sleep_time_ms">distributed_directory_monitor_sleep_time_ms</a>.</p><p>Возможные значения:</p><ul><li>Положительное целое количество миллисекунд.</li></ul><p>Значение по умолчанию: 30000 миллисекунд (30 секунд).</p><h2 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="distributed_directory_monitor_batch_inserts">distributed_directory_monitor_batch_inserts<a class="hash-link" href="#distributed_directory_monitor_batch_inserts" title="Direct link to heading">​</a></h2><p>Включает/выключает пакетную отправку вставленных данных.</p><p>Если пакетная отправка включена, то движок таблиц <a href="/docs/ru/engines/table-engines/special/distributed">Distributed</a> вместо того, чтобы отправлять каждый файл со вставленными данными по отдельности, старается отправить их все за одну операцию. Пакетная отправка улучшает производительность кластера за счет более оптимального использования ресурсов сервера и сети.</p><p>Возможные значения:</p><ul><li>1 — включено.</li><li>0 — выключено.</li></ul><p>Значение по умолчанию: 0.</p><h2 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="setting-os-thread-priority">os_thread_priority<a class="hash-link" href="#setting-os-thread-priority" title="Direct link to heading">​</a></h2><p>Устанавливает приоритет (<a href="https://en.wikipedia.org/wiki/Nice_(Unix)" target="_blank" rel="noopener noreferrer">nice</a>) для потоков, исполняющих запросы. Планировщик ОС учитывает эти приоритеты при выборе следующего потока для исполнения на доступном ядре CPU.</p></div></div><div class="codeBlockContainer_I0IT theme-code-block"><div class="codeBlockContent_wNvx" style="color:#000000;background-color:#ffffff"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#000000"><span class="token plain">Для использования этой настройки необходимо установить свойство `CAP_SYS_NICE`. Пакет `clickhouse-server` устанавливает его во время инсталляции. Некоторые виртуальные окружения не позволяют установить `CAP_SYS_NICE`. В этом случае, `clickhouse-server` выводит сообщение при запуске.</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_eDfN clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><p>Допустимые значения:</p><ul><li>Любое значение из диапазона <code>[-20, 19]</code>.</li></ul><p>Более низкие значения означают более высокий приоритет. Потоки с низкими значениями приоритета <code>nice</code> выполняются чаще, чем потоки с более высокими значениями. Высокие значения предпочтительно использовать для долгих неинтерактивных запросов, поскольку это позволяет бысто выделить ресурс в пользу коротких интерактивных запросов.</p><p>Значение по умолчанию: 0.</p><h2 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="query_profiler_real_time_period_ns">query_profiler_real_time_period_ns<a class="hash-link" href="#query_profiler_real_time_period_ns" title="Direct link to heading">​</a></h2><p>Устанавливает период для таймера реального времени <a href="/docs/ru/operations/optimizing-performance/sampling-query-profiler">профилировщика запросов</a>. Таймер реального времени считает wall-clock time.</p><p>Возможные значения:</p><ul><li><p>Положительное целое число в наносекундах.</p><div class="codeBlockContainer_I0IT theme-code-block"><div class="codeBlockContent_wNvx" style="color:#000000;background-color:#ffffff"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#000000"><span class="token plain">Рекомендуемые значения:</span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    - 10000000 (100 раз в секунду) наносекунд и меньшее значение для одиночных запросов.</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    - 1000000000 (раз в секунду) для профилирования в масштабе кластера.</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_eDfN clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></li><li><p>0 для выключения таймера.</p></li></ul><p>Тип: <a href="/docs/ru/sql-reference/data-types/int-uint">UInt64</a>.</p><p>Значение по умолчанию: 1000000000 наносекунд (раз в секунду).</p><p>См. также:</p><ul><li>Системная таблица <a href="/docs/ru/operations/system-tables/trace_log#system_tables-trace_log">trace_log</a></li></ul><h2 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="query_profiler_cpu_time_period_ns">query_profiler_cpu_time_period_ns<a class="hash-link" href="#query_profiler_cpu_time_period_ns" title="Direct link to heading">​</a></h2><p>Устанавливает период для таймера CPU <a href="/docs/ru/operations/optimizing-performance/sampling-query-profiler">query profiler</a>. Этот таймер считает только время CPU.</p><p>Возможные значения:</p><ul><li><p>Положительное целое число в наносекундах.</p><div class="codeBlockContainer_I0IT theme-code-block"><div class="codeBlockContent_wNvx" style="color:#000000;background-color:#ffffff"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#000000"><span class="token plain">Рекомендуемые значения:</span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    - 10000000 (100 раз в секунду) наносекунд и большее значение для одиночных запросов.</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    - 1000000000 (раз в секунду) для профилирования в масштабе кластера.</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_eDfN clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></li><li><p>0 для выключения таймера.</p></li></ul><p>Тип: <a href="/docs/ru/sql-reference/data-types/int-uint">UInt64</a>.</p><p>Значение по умолчанию: 1000000000 наносекунд.</p><p>См. также:</p><ul><li>Системная таблица <a href="/docs/ru/operations/system-tables/trace_log#system_tables-trace_log">trace_log</a></li></ul><h2 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="settings-allow_introspection_functions">allow_introspection_functions<a class="hash-link" href="#settings-allow_introspection_functions" title="Direct link to heading">​</a></h2><p>Включает или отключает <a href="/docs/ru/sql-reference/functions/introspection">функции самоанализа</a> для профилирования запросов.</p><p>Возможные значения:</p><ul><li>1 — включены функции самоанализа.</li><li>0 — функции самоанализа отключены.</li></ul><p>Значение по умолчанию: 0.</p><p><strong>См. также</strong></p><ul><li><a href="/docs/ru/operations/optimizing-performance/sampling-query-profiler">Sampling Query Profiler</a></li><li>Системная таблица <a href="/docs/ru/operations/system-tables/trace_log#system_tables-trace_log">trace_log</a></li></ul><h2 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="input-format-parallel-parsing">input_format_parallel_parsing<a class="hash-link" href="#input-format-parallel-parsing" title="Direct link to heading">​</a></h2><p>Включает или отключает режим, при котором входящие данные разбиваются на части, парсинг каждой из которых осуществляется параллельно с сохранением исходного порядка. Поддерживается только для форматов <a href="/docs/ru/interfaces/formats#tabseparated">TSV</a>, <a href="/docs/ru/interfaces/formats#tskv">TKSV</a>, <a href="/docs/ru/interfaces/formats#csv">CSV</a> и <a href="/docs/ru/interfaces/formats#jsoneachrow">JSONEachRow</a>.</p><p>Возможные значения:</p><ul><li>1 — включен режим параллельного разбора.</li><li>0 — отключен режим параллельного разбора.</li></ul><p>Значение по умолчанию: <code>1</code>.</p><h2 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="output-format-parallel-formatting">output_format_parallel_formatting<a class="hash-link" href="#output-format-parallel-formatting" title="Direct link to heading">​</a></h2><p>Включает или отключает режим, при котором исходящие данные форматируются параллельно с сохранением исходного порядка. Поддерживается только для форматов <a href="/docs/ru/interfaces/formats#tabseparated">TSV</a>, <a href="/docs/ru/interfaces/formats#tskv">TKSV</a>, <a href="/docs/ru/interfaces/formats#csv">CSV</a> и <a href="/docs/ru/interfaces/formats#jsoneachrow">JSONEachRow</a>.</p><p>Возможные значения:</p><ul><li>1 — включен режим параллельного форматирования.</li><li>0 — отключен режим параллельного форматирования.</li></ul><p>Значение по умолчанию: <code>1</code>.</p><h2 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="min-chunk-bytes-for-parallel-parsing">min_chunk_bytes_for_parallel_parsing<a class="hash-link" href="#min-chunk-bytes-for-parallel-parsing" title="Direct link to heading">​</a></h2><ul><li>Тип: unsigned int</li><li>Значение по умолчанию: 1 MiB</li></ul><p>Минимальный размер блока в байтах, который каждый поток будет анализировать параллельно.</p><h2 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="settings-output_format_avro_codec">output_format_avro_codec<a class="hash-link" href="#settings-output_format_avro_codec" title="Direct link to heading">​</a></h2><p>Устанавливает кодек сжатия, используемый для вывода файла Avro.</p><p>Тип: строка</p><p>Возможные значения:</p><ul><li><code>null</code> — без сжатия</li><li><code>deflate</code> — сжать с помощью Deflate (zlib)</li><li><code>snappy</code> — сжать с помощью <a href="https://google.github.io/snappy/" target="_blank" rel="noopener noreferrer">Snappy</a></li></ul><p>Значение по умолчанию: <code>snappy</code> (если доступно) или <code>deflate</code>.</p><h2 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="settings-output_format_avro_sync_interval">output_format_avro_sync_interval<a class="hash-link" href="#settings-output_format_avro_sync_interval" title="Direct link to heading">​</a></h2><p>Устанавливает минимальный размер данных (в байтах) между маркерами синхронизации для выходного файла Avro.</p><p>Тип: unsigned int</p><p>Возможные значения: 32 (32 байта) - 1073741824 (1 GiB)</p><p>Значение по умолчанию: 32768 (32 KiB)</p><h2 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="merge_selecting_sleep_ms">merge_selecting_sleep_ms<a class="hash-link" href="#merge_selecting_sleep_ms" title="Direct link to heading">​</a></h2><p>Время ожидания для слияния выборки, если ни один кусок не выбран. Снижение времени ожидания приводит к частому выбору задач в пуле <code>background_schedule_pool</code> и увеличению количества запросов к Zookeeper в крупных кластерах.</p><p>Возможные значения:</p><ul><li>Положительное целое число.</li></ul><p>Значение по умолчанию: <code>5000</code>.</p><h2 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="parallel_distributed_insert_select">parallel_distributed_insert_select<a class="hash-link" href="#parallel_distributed_insert_select" title="Direct link to heading">​</a></h2><p>Включает параллельную обработку распределённых запросов <code>INSERT ... SELECT</code>.</p><p>Если при выполнении запроса <code>INSERT INTO distributed_table_a SELECT ... FROM distributed_table_b</code> оказывается, что обе таблицы находятся в одном кластере, то независимо от того <a href="/docs/ru/engines/table-engines/mergetree-family/replication">реплицируемые</a> они или нет, запрос  выполняется локально на каждом шарде.</p><p>Допустимые значения:</p><ul><li>0 — выключена.</li><li>1 — включена.</li></ul><p>Значение по умолчанию: 0.</p><h2 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="insert_distributed_sync">insert_distributed_sync<a class="hash-link" href="#insert_distributed_sync" title="Direct link to heading">​</a></h2><p>Включает или отключает режим синхронного добавления данных в распределенные таблицы (таблицы с движком <a href="/docs/ru/engines/table-engines/special/distributed#distributed">Distributed</a>).</p><p>По умолчанию ClickHouse вставляет данные в распределённую таблицу в асинхронном режиме. Если <code>insert_distributed_sync=1</code>, то данные вставляются сихронно, а запрос <code>INSERT</code> считается выполненным успешно, когда данные записаны на все шарды (по крайней мере на одну реплику для каждого шарда, если <code>internal_replication = true</code>).</p><p>Возможные значения:</p><ul><li>0 — Данные добавляются в асинхронном режиме.</li><li>1 — Данные добавляются в синхронном режиме.</li></ul><p>Значение по умолчанию: <code>0</code>.</p><p><strong>См. также</strong></p><ul><li><a href="/docs/ru/engines/table-engines/special/distributed#distributed">Движок Distributed</a></li><li><a href="/docs/ru/sql-reference/statements/system#query-language-system-distributed">Управление распределёнными таблицами</a></li></ul><h2 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="insert_distributed_one_random_shard">insert_distributed_one_random_shard<a class="hash-link" href="#insert_distributed_one_random_shard" title="Direct link to heading">​</a></h2><p>Включает или отключает режим вставки данных в <a href="/docs/ru/engines/table-engines/special/distributed#distributed">Distributed</a>) таблицу в случайный шард при отсутствии ключ шардирования.</p><p>По умолчанию при вставке данных в <code>Distributed</code> таблицу с несколькими шардами и при отсутствии ключа шардирования сервер ClickHouse будет отклонять любой запрос на вставку данных. Когда <code>insert_distributed_one_random_shard = 1</code>, вставки принимаются, а данные записываются в случайный шард.</p><p>Возможные значения:</p><ul><li>0 — если у таблицы несколько шардов, но ключ шардирования отсутствует, вставка данных отклоняется.</li><li>1 — если ключ шардирования отсутствует, то вставка данных осуществляется в случайный шард среди всех доступных шардов.</li></ul><p>Значение по умолчанию: <code>0</code>.</p><h2 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="insert_shard_id">insert_shard_id<a class="hash-link" href="#insert_shard_id" title="Direct link to heading">​</a></h2><p>Если не <code>0</code>, указывает, в какой шард <a href="/docs/ru/engines/table-engines/special/distributed#distributed">Distributed</a> таблицы данные будут вставлены синхронно.</p><p>Если значение настройки <code>insert_shard_id</code> указано неверно, сервер выдаст ошибку.</p><p>Узнать количество шардов <code>shard_num</code> на кластере <code>requested_cluster</code> можно из конфигурации сервера, либо используя запрос:</p><div class="codeBlockContainer_I0IT language-sql theme-code-block"><div class="codeBlockContent_wNvx" style="color:#000000;background-color:#ffffff"><pre tabindex="0" class="prism-code language-sql codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#000000"><span class="token keyword" style="color:rgb(0, 0, 255)">SELECT</span><span class="token plain"> uniq</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">shard_num</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">FROM</span><span class="token plain"> system</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token plain">clusters </span><span class="token keyword" style="color:rgb(0, 0, 255)">WHERE</span><span class="token plain"> cluster </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> </span><span class="token string" style="color:rgb(163, 21, 21)">&#x27;requested_cluster&#x27;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_eDfN clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><p>Возможные значения:</p><ul><li>0 — выключено.</li><li>Любое число от <code>1</code> до <code>shards_num</code> соответствующей <a href="/docs/ru/engines/table-engines/special/distributed#distributed">Distributed</a> таблицы.</li></ul><p>Значение по умолчанию: <code>0</code>.</p><p><strong>Пример</strong></p><p>Запрос:</p><div class="codeBlockContainer_I0IT language-sql theme-code-block"><div class="codeBlockContent_wNvx" style="color:#000000;background-color:#ffffff"><pre tabindex="0" class="prism-code language-sql codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#000000"><span class="token keyword" style="color:rgb(0, 0, 255)">CREATE</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">TABLE</span><span class="token plain"> x </span><span class="token keyword" style="color:rgb(0, 0, 255)">AS</span><span class="token plain"> system</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token plain">numbers </span><span class="token keyword" style="color:rgb(0, 0, 255)">ENGINE</span><span class="token plain"> </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> MergeTree </span><span class="token keyword" style="color:rgb(0, 0, 255)">ORDER</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">BY</span><span class="token plain"> number</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">CREATE</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">TABLE</span><span class="token plain"> x_dist </span><span class="token keyword" style="color:rgb(0, 0, 255)">AS</span><span class="token plain"> x </span><span class="token keyword" style="color:rgb(0, 0, 255)">ENGINE</span><span class="token plain"> </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">Distributed</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token string" style="color:rgb(163, 21, 21)">&#x27;test_cluster_two_shards_localhost&#x27;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> currentDatabase</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> x</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">INSERT</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">INTO</span><span class="token plain"> x_dist </span><span class="token keyword" style="color:rgb(0, 0, 255)">SELECT</span><span class="token plain"> </span><span class="token operator" style="color:rgb(0, 0, 0)">*</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">FROM</span><span class="token plain"> numbers</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token number" style="color:rgb(9, 134, 88)">5</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"> SETTINGS insert_shard_id </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">1</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">SELECT</span><span class="token plain"> </span><span class="token operator" style="color:rgb(0, 0, 0)">*</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">FROM</span><span class="token plain"> x_dist </span><span class="token keyword" style="color:rgb(0, 0, 255)">ORDER</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">BY</span><span class="token plain"> number </span><span class="token keyword" style="color:rgb(0, 0, 255)">ASC</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_eDfN clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><p>Результат:</p><div class="codeBlockContainer_I0IT language-text theme-code-block"><div class="codeBlockContent_wNvx" style="color:#000000;background-color:#ffffff"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#000000"><span class="token plain">┌─number─┐</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">│      0 │</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">│      0 │</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">│      1 │</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">│      1 │</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">│      2 │</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">│      2 │</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">│      3 │</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">│      3 │</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">│      4 │</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">│      4 │</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">└────────┘</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_eDfN clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><h2 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="validate_polygons">validate_polygons<a class="hash-link" href="#validate_polygons" title="Direct link to heading">​</a></h2><p>Включает или отключает генерирование исключения в функции <a href="/docs/ru/sql-reference/functions/geo/#pointinpolygon">pointInPolygon</a>, если многоугольник самопересекающийся или самокасающийся.</p><p>Допустимые значения:</p><ul><li>0 — генерирование исключения отключено. <code>pointInPolygon</code> принимает недопустимые многоугольники и возвращает для них, возможно, неверные результаты.</li><li>1 — генерирование исключения включено.</li></ul><p>Значение по умолчанию: 1.</p><h2 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="always_fetch_merged_part">always_fetch_merged_part<a class="hash-link" href="#always_fetch_merged_part" title="Direct link to heading">​</a></h2><p>Запрещает слияние данных для таблиц семейства <a href="/docs/ru/engines/table-engines/mergetree-family/replication">Replicated*MergeTree</a>.</p><p>Если слияние запрещено, реплика никогда не выполняет слияние отдельных кусков данных, а всегда загружает объединённые данные из других реплик. Если объединённых данных пока нет, реплика ждет их появления. Нагрузка на процессор и диски на реплике уменьшается, но нагрузка на сеть в кластере возрастает. Настройка может быть полезна на репликах с относительно слабыми процессорами или медленными дисками, например, на репликах для хранения архивных данных.</p><p>Возможные значения:</p><ul><li>0 — таблицы семейства <code>Replicated*MergeTree</code> выполняют слияние данных на реплике.</li><li>1 — таблицы семейства <code>Replicated*MergeTree</code> не выполняют слияние данных на реплике, а загружают объединённые данные из других реплик.</li></ul><p>Значение по умолчанию: 0.</p><p><strong>См. также:</strong></p><ul><li><a href="/docs/ru/engines/table-engines/mergetree-family/replication">Репликация данных</a></li></ul><h2 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="transform_null_in">transform_null_in<a class="hash-link" href="#transform_null_in" title="Direct link to heading">​</a></h2><p>Разрешает сравнивать значения <a href="/docs/ru/sql-reference/syntax#null-literal">NULL</a> в операторе <a href="/docs/ru/sql-reference/operators/in">IN</a>.</p><p>По умолчанию, значения <code>NULL</code> нельзя сравнивать, поскольку <code>NULL</code> обозначает неопределённое значение. Следовательно, сравнение <code>expr = NULL</code> должно всегда возвращать <code>false</code>. С этой настройкой <code>NULL = NULL</code> возвращает <code>true</code> в операторе <code>IN</code>.</p><p>Possible values:</p><ul><li>0 — Сравнение значений <code>NULL</code> в операторе <code>IN</code> возвращает <code>false</code>.</li><li>1 — Сравнение значений <code>NULL</code> в операторе <code>IN</code> возвращает <code>true</code>.</li></ul><p>Значение по умолчанию: 0.</p><p><strong>Пример</strong></p><p>Рассмотрим таблицу <code>null_in</code>:</p><div class="codeBlockContainer_I0IT language-text theme-code-block"><div class="codeBlockContent_wNvx" style="color:#000000;background-color:#ffffff"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#000000"><span class="token plain">┌──idx─┬─────i─┐</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">│    1 │     1 │</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">│    2 │  NULL │</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">│    3 │     3 │</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">└──────┴───────┘</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_eDfN clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><p>Consider the <code>null_in</code> table:</p><div class="codeBlockContainer_I0IT language-text theme-code-block"><div class="codeBlockContent_wNvx" style="color:#000000;background-color:#ffffff"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#000000"><span class="token plain">┌──idx─┬─────i─┐</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">│    1 │     1 │</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">│    2 │  NULL │</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">│    3 │     3 │</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">└──────┴───────┘</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_eDfN clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><p>Запрос:</p><div class="codeBlockContainer_I0IT language-sql theme-code-block"><div class="codeBlockContent_wNvx" style="color:#000000;background-color:#ffffff"><pre tabindex="0" class="prism-code language-sql codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#000000"><span class="token keyword" style="color:rgb(0, 0, 255)">SELECT</span><span class="token plain"> idx</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> i </span><span class="token keyword" style="color:rgb(0, 0, 255)">FROM</span><span class="token plain"> null_in </span><span class="token keyword" style="color:rgb(0, 0, 255)">WHERE</span><span class="token plain"> i </span><span class="token operator" style="color:rgb(0, 0, 0)">IN</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token number" style="color:rgb(9, 134, 88)">1</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token boolean">NULL</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"> SETTINGS transform_null_in </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">0</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_eDfN clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><p>Ответ:</p><div class="codeBlockContainer_I0IT language-text theme-code-block"><div class="codeBlockContent_wNvx" style="color:#000000;background-color:#ffffff"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#000000"><span class="token plain">┌──idx─┬────i─┐</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">│    1 │    1 │</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">└──────┴──────┘</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_eDfN clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><p>Запрос:</p><div class="codeBlockContainer_I0IT language-sql theme-code-block"><div class="codeBlockContent_wNvx" style="color:#000000;background-color:#ffffff"><pre tabindex="0" class="prism-code language-sql codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#000000"><span class="token keyword" style="color:rgb(0, 0, 255)">SELECT</span><span class="token plain"> idx</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> i </span><span class="token keyword" style="color:rgb(0, 0, 255)">FROM</span><span class="token plain"> null_in </span><span class="token keyword" style="color:rgb(0, 0, 255)">WHERE</span><span class="token plain"> i </span><span class="token operator" style="color:rgb(0, 0, 0)">IN</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token number" style="color:rgb(9, 134, 88)">1</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token boolean">NULL</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"> SETTINGS transform_null_in </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">1</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_eDfN clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><p>Ответ:</p><div class="codeBlockContainer_I0IT language-text theme-code-block"><div class="codeBlockContent_wNvx" style="color:#000000;background-color:#ffffff"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#000000"><span class="token plain">┌──idx─┬─────i─┐</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">│    1 │     1 │</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">│    2 │  NULL │</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">└──────┴───────┘</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_eDfN clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><p><strong>См. также</strong></p><ul><li><a href="/docs/ru/sql-reference/operators/in#in-null-processing">Обработка значения NULL в операторе IN</a></li></ul><h2 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="low_cardinality_max_dictionary_size">low_cardinality_max_dictionary_size<a class="hash-link" href="#low_cardinality_max_dictionary_size" title="Direct link to heading">​</a></h2><p>Задает максимальный размер общего глобального словаря (в строках) для типа данных <code>LowCardinality</code>, который может быть записан в файловую систему хранилища. Настройка предотвращает проблемы с оперативной памятью в случае неограниченного увеличения словаря. Все данные, которые не могут быть закодированы из-за ограничения максимального размера словаря, ClickHouse записывает обычным способом.</p><p>Допустимые значения:</p><ul><li>Положительное целое число.</li></ul><p>Значение по умолчанию: 8192.</p><h2 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="low_cardinality_use_single_dictionary_for_part">low_cardinality_use_single_dictionary_for_part<a class="hash-link" href="#low_cardinality_use_single_dictionary_for_part" title="Direct link to heading">​</a></h2><p>Включает или выключает использование единого словаря для куска (парта).</p><p>По умолчанию сервер ClickHouse следит за размером словарей, и если словарь переполняется, сервер создает следующий. Чтобы запретить создание нескольких словарей, задайте настройку <code>low_cardinality_use_single_dictionary_for_part = 1</code>.</p><p>Допустимые значения:</p><ul><li>1 — Создание нескольких словарей для частей данных запрещено.</li><li>0 — Создание нескольких словарей для частей данных не запрещено.</li></ul><p>Значение по умолчанию: 0.</p><h2 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="low_cardinality_allow_in_native_format">low_cardinality_allow_in_native_format<a class="hash-link" href="#low_cardinality_allow_in_native_format" title="Direct link to heading">​</a></h2><p>Разрешает или запрещает использование типа данных <code>LowCardinality</code> с форматом данных <a href="/docs/ru/interfaces/formats#native">Native</a>.</p><p>Если использование типа <code>LowCardinality</code> ограничено, сервер CLickHouse преобразует столбцы <code>LowCardinality</code> в обычные столбцы для запросов <code>SELECT</code>, а обычные столбцы - в столбцы <code>LowCardinality</code> для запросов <code>INSERT</code>.</p><p>В основном настройка используется для сторонних клиентов, не поддерживающих тип данных <code>LowCardinality</code>.</p><p>Допустимые значения:</p><ul><li>1 — Использование <code>LowCardinality</code> не ограничено.</li><li>0 — Использование <code>LowCardinality</code> ограничено.</li></ul><p>Значение по умолчанию: 1.</p><h2 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="allow_suspicious_low_cardinality_types">allow_suspicious_low_cardinality_types<a class="hash-link" href="#allow_suspicious_low_cardinality_types" title="Direct link to heading">​</a></h2><p>Разрешает или запрещает использование типа данных <code>LowCardinality</code> с типами данных с фиксированным размером 8 байт или меньше: числовые типы данных и <code>FixedString (8_bytes_or_less)</code>.</p><p>Для небольших фиксированных значений использование <code>LowCardinality</code> обычно неэффективно, поскольку ClickHouse хранит числовой индекс для каждой строки. В результате:</p><ul><li>Используется больше дискового пространства.</li><li>Потребление ОЗУ увеличивается, в зависимости от размера словаря.</li><li>Некоторые функции работают медленнее из-за дополнительных операций кодирования.</li></ul><p>Время слияния в таблицах на движке <a href="/docs/ru/engines/table-engines/mergetree-family/mergetree">MergeTree</a> также может увеличиться по описанным выше причинам.</p><p>Допустимые значения:</p><ul><li>1 — Использование <code>LowCardinality</code> не ограничено.</li><li>0 — Использование <code>LowCardinality</code> ограничено.</li></ul><p>Значение по умолчанию: 0.</p><h2 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="background_buffer_flush_schedule_pool_size">background_buffer_flush_schedule_pool_size<a class="hash-link" href="#background_buffer_flush_schedule_pool_size" title="Direct link to heading">​</a></h2><p>Задает количество потоков для выполнения фонового сброса данных в таблицах с движком <a href="/docs/ru/engines/table-engines/special/buffer">Buffer</a>. Настройка применяется при запуске сервера ClickHouse и не может быть изменена в пользовательском сеансе.</p><p>Допустимые значения:</p><ul><li>Положительное целое число.</li></ul><p>Значение по умолчанию: 16.</p><h2 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="background_move_pool_size">background_move_pool_size<a class="hash-link" href="#background_move_pool_size" title="Direct link to heading">​</a></h2><p>Задает количество потоков для фоновых перемещений кусков между дисками. Работает для таблиц с движком <a href="/docs/ru/engines/table-engines/mergetree-family/mergetree#table_engine-mergetree-multiple-volumes">MergeTree</a>. Настройка применяется при запуске сервера ClickHouse и не может быть изменена в пользовательском сеансе.</p><p>Допустимые значения:</p><ul><li>Положительное целое число.</li></ul><p>Значение по умолчанию: 8.</p><h2 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="background_schedule_pool_size">background_schedule_pool_size<a class="hash-link" href="#background_schedule_pool_size" title="Direct link to heading">​</a></h2><p>Задает количество потоков для выполнения фоновых задач. Работает для <a href="/docs/ru/engines/table-engines/mergetree-family/replication">реплицируемых</a> таблиц, стримов в <a href="/docs/ru/engines/table-engines/integrations/kafka">Kafka</a> и обновления IP адресов у записей во внутреннем <a href="/docs/ru/operations/server-configuration-parameters/settings#server-settings-dns-cache-update-period">DNS кеше</a>. Настройка применяется при запуске сервера ClickHouse и не может быть изменена в пользовательском сеансе.</p><p>Допустимые значения:</p><ul><li>Положительное целое число.</li></ul><p>Значение по умолчанию: 128.</p><h2 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="background_fetches_pool_size">background_fetches_pool_size<a class="hash-link" href="#background_fetches_pool_size" title="Direct link to heading">​</a></h2><p>Задает количество потоков для скачивания кусков данных для <a href="/docs/ru/engines/table-engines/mergetree-family/replication">реплицируемых</a> таблиц. Настройка применяется при запуске сервера ClickHouse и не может быть изменена в пользовательском сеансе. Для использования в продакшене с частыми небольшими вставками или медленным кластером ZooKeeper рекомендуется использовать значение по умолчанию.</p><p>Допустимые значения:</p><ul><li>Положительное целое число.</li></ul><p>Значение по умолчанию: 8.</p><h2 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="background_distributed_schedule_pool_size">background_distributed_schedule_pool_size<a class="hash-link" href="#background_distributed_schedule_pool_size" title="Direct link to heading">​</a></h2><p>Задает количество потоков для выполнения фоновых задач. Работает для таблиц с движком <a href="/docs/ru/engines/table-engines/special/distributed">Distributed</a>. Настройка применяется при запуске сервера ClickHouse и не может быть изменена в пользовательском сеансе.</p><p>Допустимые значения:</p><ul><li>Положительное целое число.</li></ul><p>Значение по умолчанию: 16.</p><h2 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="background_message_broker_schedule_pool_size">background_message_broker_schedule_pool_size<a class="hash-link" href="#background_message_broker_schedule_pool_size" title="Direct link to heading">​</a></h2><p>Задает количество потоков для фонового потокового вывода сообщений. Настройка применяется при запуске сервера ClickHouse и не может быть изменена в пользовательском сеансе.</p><p>Допустимые значения:</p><ul><li>Положительное целое число.</li></ul><p>Значение по умолчанию: 16.</p><p><strong>Смотрите также</strong></p><ul><li>Движок <a href="/docs/ru/engines/table-engines/integrations/kafka#kafka">Kafka</a>.</li><li>Движок <a href="/docs/ru/engines/table-engines/integrations/rabbitmq#rabbitmq-engine">RabbitMQ</a>.</li></ul><h2 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="format_avro_schema_registry_url">format_avro_schema_registry_url<a class="hash-link" href="#format_avro_schema_registry_url" title="Direct link to heading">​</a></h2><p>Задает URL реестра схем <a href="https://docs.confluent.io/current/schema-registry/index.html" target="_blank" rel="noopener noreferrer">Confluent</a> для использования с форматом <a href="/docs/ru/interfaces/formats#data-format-avro-confluent">AvroConfluent</a>.</p><p>Значение по умолчанию: <code>Пустая строка</code>.</p><h2 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="input_format_avro_allow_missing_fields">input_format_avro_allow_missing_fields<a class="hash-link" href="#input_format_avro_allow_missing_fields" title="Direct link to heading">​</a></h2><p>Позволяет использовать данные, которых не нашлось в схеме формата <a href="/docs/ru/interfaces/formats#data-format-avro">Avro</a> или <a href="/docs/ru/interfaces/formats#data-format-avro-confluent">AvroConfluent</a>. Если поле не найдено в схеме, ClickHouse подставит значение по умолчанию вместо исключения.</p><p>Возможные значения:</p><ul><li>0 — Выключена.</li><li>1 — Включена.</li></ul><p>Значение по умолчанию: <code>0</code>.</p><h2 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="min-insert-block-size-rows-for-materialized-views">min_insert_block_size_rows_for_materialized_views<a class="hash-link" href="#min-insert-block-size-rows-for-materialized-views" title="Direct link to heading">​</a></h2><p>Устанавливает минимальное количество строк в блоке, который может быть вставлен в таблицу запросом <code>INSERT</code>. Блоки меньшего размера склеиваются в блоки большего размера. Настройка применяется только для блоков, вставляемых в <a href="/docs/ru/sql-reference/statements/create/view#create-view">материализованное представление</a>. Настройка позволяет избежать избыточного потребления памяти.</p><p>Допустимые значения:</p><ul><li>Положительное целое число.</li><li>0 — Склейка блоков выключена.</li></ul><p>Значение по умолчанию: 1048576.</p><p><strong>См. также:</strong></p><ul><li><a href="#min-insert-block-size-rows">min_insert_block_size_rows</a></li></ul><h2 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="min-insert-block-size-bytes-for-materialized-views">min_insert_block_size_bytes_for_materialized_views<a class="hash-link" href="#min-insert-block-size-bytes-for-materialized-views" title="Direct link to heading">​</a></h2><p>Устанавливает минимальное количество байтов в блоке, который может быть вставлен в таблицу запросом <code>INSERT</code>. Блоки меньшего размера склеиваются в блоки большего размера. Настройка применяется только для блоков, вставляемых в <a href="/docs/ru/sql-reference/statements/create/view#create-view">материализованное представление</a>. Настройка позволяет избежать избыточного потребления памяти.</p><p>Допустимые значения:</p><ul><li>Положительное целое число.</li><li>0 — Склейка блоков выключена.</li></ul><p>Значение по умолчанию: 268435456.</p><p><strong>См. также:</strong></p><ul><li><a href="#min-insert-block-size-bytes">min_insert_block_size_bytes</a></li></ul><h2 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="output-format-pretty-grid-charset">output_format_pretty_grid_charset<a class="hash-link" href="#output-format-pretty-grid-charset" title="Direct link to heading">​</a></h2><p>Позволяет изменить кодировку, которая используется для отрисовки таблицы при выводе результатов запросов. Доступны следующие кодировки: UTF-8, ASCII.</p><p><strong>Пример</strong></p><div class="codeBlockContainer_I0IT language-text theme-code-block"><div class="codeBlockContent_wNvx" style="color:#000000;background-color:#ffffff"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#000000"><span class="token plain">SET output_format_pretty_grid_charset = &#x27;UTF-8&#x27;;</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">SELECT * FROM a;</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">┌─a─┐</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">│ 1 │</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">└───┘</span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">SET output_format_pretty_grid_charset = &#x27;ASCII&#x27;;</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">SELECT * FROM a;</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">+-a-+</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">| 1 |</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">+---+</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_eDfN clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><h2 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="optimize_read_in_order">optimize_read_in_order<a class="hash-link" href="#optimize_read_in_order" title="Direct link to heading">​</a></h2><p>Включает или отключает оптимизацию в запросах <a href="/docs/ru/sql-reference/statements/select/">SELECT</a> с секцией <a href="/docs/ru/sql-reference/statements/select/order-by#optimize_read_in_order">ORDER BY</a> при работе с таблицами семейства <a href="/docs/ru/engines/table-engines/mergetree-family/mergetree">MergeTree</a>.</p><p>Возможные значения:</p><ul><li>0 — оптимизация отключена.</li><li>1 — оптимизация включена.</li></ul><p>Значение по умолчанию: <code>1</code>.</p><p><strong>См. также</strong></p><ul><li><a href="/docs/ru/sql-reference/statements/select/order-by#optimize_read_in_order">Оптимизация чтения данных</a> в секции <code>ORDER BY</code></li></ul><h2 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="optimize_aggregation_in_order">optimize_aggregation_in_order<a class="hash-link" href="#optimize_aggregation_in_order" title="Direct link to heading">​</a></h2><p>Включает или отключает оптимизацию в запросах <a href="/docs/ru/sql-reference/statements/select/">SELECT</a> с секцией <a href="/docs/ru/sql-reference/statements/select/group-by">GROUP BY</a> при наличии подходящих ключей сортировки. Используется при работе с таблицами <a href="/docs/ru/engines/table-engines/mergetree-family/mergetree">MergeTree</a>.</p><p>Возможные значения:</p><ul><li>0 — оптимизация по ключу сортировки отключена.</li><li>1 — оптимизация по ключу сортировки включена.</li></ul><p>Значение по умолчанию: <code>0</code>.</p><p><strong>См. также</strong></p><ul><li><a href="/docs/ru/sql-reference/statements/select/group-by#aggregation-in-order">Оптимизация GROUP BY для отсортированных таблиц</a></li></ul><h2 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="mutations_sync">mutations_sync<a class="hash-link" href="#mutations_sync" title="Direct link to heading">​</a></h2><p>Позволяет выполнять запросы <code>ALTER TABLE ... UPDATE|DELETE</code> (<a href="/docs/ru/sql-reference/statements/alter/#mutations">мутации</a>) синхронно.</p><p>Возможные значения:</p><ul><li>0 - мутации выполняются асинхронно.</li><li>1 - запрос ждет завершения всех мутаций на текущем сервере.</li><li>2 - запрос ждет завершения всех мутаций на всех репликах (если они есть).</li></ul><p>Значение по умолчанию: <code>0</code>.</p><p><strong>См. также</strong></p><ul><li><a href="/docs/ru/sql-reference/statements/alter/#synchronicity-of-alter-queries">Синхронность запросов ALTER</a></li><li><a href="/docs/ru/sql-reference/statements/alter/#mutations">Мутации</a></li></ul><h2 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="ttl_only_drop_parts">ttl_only_drop_parts<a class="hash-link" href="#ttl_only_drop_parts" title="Direct link to heading">​</a></h2><p>Для таблиц <a href="/docs/ru/engines/table-engines/mergetree-family/mergetree">MergeTree</a> включает или отключает  возможность полного удаления кусков данных, в которых все записи устарели.</p><p>Когда настройка <code>ttl_only_drop_parts</code> отключена (т.е. по умолчанию), сервер лишь удаляет устаревшие записи в соответствии с их временем жизни (TTL).</p><p>Когда настройка <code>ttl_only_drop_parts</code> включена, сервер целиком удаляет куски данных, в которых все записи устарели.</p><p>Удаление целых кусков данных вместо удаления отдельных записей позволяет устанавливать меньший таймаут <code>merge_with_ttl_timeout</code> и уменьшает нагрузку на сервер, что способствует росту производительности.</p><p>Возможные значения:</p><ul><li>0 — Возможность удаления целых кусков данных отключена.</li><li>1 — Возможность удаления целых кусков данных включена.</li></ul><p>Значение по умолчанию: <code>0</code>.</p><p><strong>См. также</strong></p><ul><li><a href="/docs/ru/engines/table-engines/mergetree-family/mergetree#mergetree-query-clauses">Секции и настройки запроса CREATE TABLE</a> (настройка <code>merge_with_ttl_timeout</code>)</li><li><a href="/docs/ru/engines/table-engines/mergetree-family/mergetree#mergetree-table-ttl">Table TTL</a></li></ul><h2 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="output_format_pretty_max_value_width">output_format_pretty_max_value_width<a class="hash-link" href="#output_format_pretty_max_value_width" title="Direct link to heading">​</a></h2><p>Ограничивает длину значения, выводимого в формате <a href="/docs/ru/interfaces/formats#pretty">Pretty</a>. Если значение длиннее указанного количества символов, оно обрезается.</p><p>Возможные значения:</p><ul><li>Положительное целое число.</li><li>0 — значение обрезается полностью.</li></ul><p>Значение по умолчанию: <code>10000</code> символов.</p><p><strong>Примеры</strong></p><p>Запрос:</p><div class="codeBlockContainer_I0IT language-sql theme-code-block"><div class="codeBlockContent_wNvx" style="color:#000000;background-color:#ffffff"><pre tabindex="0" class="prism-code language-sql codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#000000"><span class="token keyword" style="color:rgb(0, 0, 255)">SET</span><span class="token plain"> output_format_pretty_max_value_width </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">10</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">SELECT</span><span class="token plain"> range</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">number</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">FROM</span><span class="token plain"> system</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token plain">numbers </span><span class="token keyword" style="color:rgb(0, 0, 255)">LIMIT</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">10</span><span class="token plain"> FORMAT PrettyCompactNoEscapes</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_eDfN clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><p>Результат:</p><div class="codeBlockContainer_I0IT language-text theme-code-block"><div class="codeBlockContent_wNvx" style="color:#000000;background-color:#ffffff"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#000000"><span class="token plain">┌─range(number)─┐</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">│ []            │</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">│ [0]           │</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">│ [0,1]         │</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">│ [0,1,2]       │</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">│ [0,1,2,3]     │</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">│ [0,1,2,3,4⋯   │</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">│ [0,1,2,3,4⋯   │</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">│ [0,1,2,3,4⋯   │</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">│ [0,1,2,3,4⋯   │</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">│ [0,1,2,3,4⋯   │</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">└───────────────┘</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_eDfN clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><p>Запрос, где длина выводимого значения ограничена 0 символов:</p><div class="codeBlockContainer_I0IT language-sql theme-code-block"><div class="codeBlockContent_wNvx" style="color:#000000;background-color:#ffffff"><pre tabindex="0" class="prism-code language-sql codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#000000"><span class="token keyword" style="color:rgb(0, 0, 255)">SET</span><span class="token plain"> output_format_pretty_max_value_width </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">0</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">SELECT</span><span class="token plain"> range</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">number</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">FROM</span><span class="token plain"> system</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token plain">numbers </span><span class="token keyword" style="color:rgb(0, 0, 255)">LIMIT</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">5</span><span class="token plain"> FORMAT PrettyCompactNoEscapes</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_eDfN clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><p>Результат:</p><div class="codeBlockContainer_I0IT language-text theme-code-block"><div class="codeBlockContent_wNvx" style="color:#000000;background-color:#ffffff"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#000000"><span class="token plain">┌─range(number)─┐</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">│ ⋯             │</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">│ ⋯             │</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">│ ⋯             │</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">│ ⋯             │</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">│ ⋯             │</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">└───────────────┘</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_eDfN clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><h2 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="output_format_pretty_row_numbers">output_format_pretty_row_numbers<a class="hash-link" href="#output_format_pretty_row_numbers" title="Direct link to heading">​</a></h2><p>Включает режим отображения номеров строк для запросов, выводимых в формате <a href="/docs/ru/interfaces/formats#pretty">Pretty</a>.</p><p>Возможные значения:</p><ul><li>0 — номера строк не выводятся.</li><li>1 — номера строк выводятся.</li></ul><p>Значение по умолчанию: <code>0</code>.</p><p><strong>Пример</strong></p><p>Запрос:</p><div class="codeBlockContainer_I0IT language-sql theme-code-block"><div class="codeBlockContent_wNvx" style="color:#000000;background-color:#ffffff"><pre tabindex="0" class="prism-code language-sql codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#000000"><span class="token keyword" style="color:rgb(0, 0, 255)">SET</span><span class="token plain"> output_format_pretty_row_numbers </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">1</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">SELECT</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">TOP</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">3</span><span class="token plain"> name</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">value</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">FROM</span><span class="token plain"> system</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token plain">settings</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_eDfN clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><p>Результат:</p><div class="codeBlockContainer_I0IT language-text theme-code-block"><div class="codeBlockContent_wNvx" style="color:#000000;background-color:#ffffff"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#000000"><span class="token plain">   ┌─name────────────────────┬─value───┐</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">1. │ min_compress_block_size │ 65536   │</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">2. │ max_compress_block_size │ 1048576 │</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">3. │ max_block_size          │ 65505   │</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">   └─────────────────────────┴─────────┘</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_eDfN clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><h2 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="system_events_show_zero_values">system_events_show_zero_values<a class="hash-link" href="#system_events_show_zero_values" title="Direct link to heading">​</a></h2><p>Позволяет выбрать события с нулевыми значениями из таблицы <a href="/docs/ru/operations/system-tables/events"><code>system.events</code></a>.</p><p>В некоторые системы мониторинга вам нужно передать значения всех измерений (для каждой контрольной точки), даже если в результате — &quot;0&quot;.</p><p>Возможные значения:</p><ul><li>0 — настройка отключена — вы получите все события.</li><li>1 — настройка включена — вы сможете отсортировать события по нулевым и остальным значениям.</li></ul><p>Значение по умолчанию: <code>0</code>.</p><p><strong>Примеры</strong></p><p>Запрос</p><div class="codeBlockContainer_I0IT language-sql theme-code-block"><div class="codeBlockContent_wNvx" style="color:#000000;background-color:#ffffff"><pre tabindex="0" class="prism-code language-sql codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#000000"><span class="token keyword" style="color:rgb(0, 0, 255)">SELECT</span><span class="token plain"> </span><span class="token operator" style="color:rgb(0, 0, 0)">*</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">FROM</span><span class="token plain"> system</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token plain">events </span><span class="token keyword" style="color:rgb(0, 0, 255)">WHERE</span><span class="token plain"> event</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token string" style="color:rgb(163, 21, 21)">&#x27;QueryMemoryLimitExceeded&#x27;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_eDfN clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><p>Результат</p><div class="codeBlockContainer_I0IT language-text theme-code-block"><div class="codeBlockContent_wNvx" style="color:#000000;background-color:#ffffff"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#000000"><span class="token plain">Ok.</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_eDfN clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><p>Запрос</p><div class="codeBlockContainer_I0IT language-sql theme-code-block"><div class="codeBlockContent_wNvx" style="color:#000000;background-color:#ffffff"><pre tabindex="0" class="prism-code language-sql codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#000000"><span class="token keyword" style="color:rgb(0, 0, 255)">SET</span><span class="token plain"> system_events_show_zero_values </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">1</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">SELECT</span><span class="token plain"> </span><span class="token operator" style="color:rgb(0, 0, 0)">*</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">FROM</span><span class="token plain"> system</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token plain">events </span><span class="token keyword" style="color:rgb(0, 0, 255)">WHERE</span><span class="token plain"> event</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token string" style="color:rgb(163, 21, 21)">&#x27;QueryMemoryLimitExceeded&#x27;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_eDfN clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><p>Результат</p><div class="codeBlockContainer_I0IT language-text theme-code-block"><div class="codeBlockContent_wNvx" style="color:#000000;background-color:#ffffff"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#000000"><span class="token plain">┌─event────────────────────┬─value─┬─description───────────────────────────────────────────┐</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">│ QueryMemoryLimitExceeded │     0 │ Number of times when memory limit exceeded for query. │</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">└──────────────────────────┴───────┴───────────────────────────────────────────────────────┘</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_eDfN clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><h2 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="lock_acquire_timeout">lock_acquire_timeout<a class="hash-link" href="#lock_acquire_timeout" title="Direct link to heading">​</a></h2><p>Устанавливает, сколько секунд сервер ожидает возможности выполнить блокировку таблицы.</p><p>Таймаут устанавливается для защиты от взаимоблокировки при выполнении операций чтения или записи. Если время ожидания истекло, а блокировку выполнить не удалось, сервер возвращает исключение с кодом <code>DEADLOCK_AVOIDED</code> и сообщением &quot;Locking attempt timed out! Possible deadlock avoided. Client should retry.&quot; (&quot;Время ожидания блокировки истекло! Возможная взаимоблокировка предотвращена. Повторите запрос.&quot;).</p><p>Возможные значения:</p><ul><li>Положительное целое число (в секундах).</li><li>0 — таймаут не устанавливается.</li></ul><p>Значение по умолчанию: <code>120</code> секунд.</p><h2 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="cast_keep_nullable">cast_keep_nullable<a class="hash-link" href="#cast_keep_nullable" title="Direct link to heading">​</a></h2><p>Включает или отключает сохранение типа <code>Nullable</code> для аргумента функции <a href="/docs/ru/sql-reference/functions/type-conversion-functions#type_conversion_function-cast">CAST</a>.</p><p>Если настройка включена, то когда в функцию <code>CAST</code> передается аргумент с типом <code>Nullable</code>, функция возвращает результат, также преобразованный к типу <code>Nullable</code>.
Если настройка отключена, то функция <code>CAST</code> всегда возвращает результат строго указанного типа.</p><p>Возможные значения:</p><ul><li>0 — функция <code>CAST</code> преобразует аргумент строго к указанному типу.</li><li>1 — если аргумент имеет тип <code>Nullable</code>, то функция <code>CAST</code> преобразует его к типу <code>Nullable</code> для указанного типа.</li></ul><p>Значение по умолчанию: <code>0</code>.</p><p><strong>Примеры</strong></p><p>Запрос возвращает аргумент, преобразованный строго к указанному типу:</p><div class="codeBlockContainer_I0IT language-sql theme-code-block"><div class="codeBlockContent_wNvx" style="color:#000000;background-color:#ffffff"><pre tabindex="0" class="prism-code language-sql codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#000000"><span class="token keyword" style="color:rgb(0, 0, 255)">SET</span><span class="token plain"> cast_keep_nullable </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">0</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">SELECT</span><span class="token plain"> CAST</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">toNullable</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">toInt32</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token number" style="color:rgb(9, 134, 88)">0</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">AS</span><span class="token plain"> Int32</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">as</span><span class="token plain"> x</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> toTypeName</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">x</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_eDfN clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><p>Результат:</p><div class="codeBlockContainer_I0IT language-text theme-code-block"><div class="codeBlockContent_wNvx" style="color:#000000;background-color:#ffffff"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#000000"><span class="token plain">┌─x─┬─toTypeName(CAST(toNullable(toInt32(0)), &#x27;Int32&#x27;))─┐</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">│ 0 │ Int32                                             │</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">└───┴───────────────────────────────────────────────────┘</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_eDfN clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><p>Запрос возвращает аргумент, преобразованный к типу <code>Nullable</code> для указанного типа:</p><div class="codeBlockContainer_I0IT language-sql theme-code-block"><div class="codeBlockContent_wNvx" style="color:#000000;background-color:#ffffff"><pre tabindex="0" class="prism-code language-sql codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#000000"><span class="token keyword" style="color:rgb(0, 0, 255)">SET</span><span class="token plain"> cast_keep_nullable </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">1</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">SELECT</span><span class="token plain"> CAST</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">toNullable</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">toInt32</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token number" style="color:rgb(9, 134, 88)">0</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">AS</span><span class="token plain"> Int32</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">as</span><span class="token plain"> x</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> toTypeName</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">x</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_eDfN clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><p>Результат:</p><div class="codeBlockContainer_I0IT language-text theme-code-block"><div class="codeBlockContent_wNvx" style="color:#000000;background-color:#ffffff"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#000000"><span class="token plain">┌─x─┬─toTypeName(CAST(toNullable(toInt32(0)), &#x27;Int32&#x27;))─┐</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">│ 0 │ Nullable(Int32)                                   │</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">└───┴───────────────────────────────────────────────────┘</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_eDfN clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><p><strong>См. также</strong></p><ul><li>Функция <a href="/docs/ru/sql-reference/functions/type-conversion-functions#type_conversion_function-cast">CAST</a></li></ul><h2 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="persistent">persistent<a class="hash-link" href="#persistent" title="Direct link to heading">​</a></h2><p>Отключает перманентность для табличных движков <a href="/docs/ru/engines/table-engines/special/set#set">Set</a> и <a href="/docs/ru/engines/table-engines/special/join#join">Join</a>.</p><p>Уменьшает расходы на ввод/вывод. Может быть полезно, когда требуется высокая производительность, а перманентность не обязательна.</p><p>Возможные значения:</p><ul><li>1 — включено.</li><li>0 — отключено.</li></ul><p>Значение по умолчанию: <code>1</code>.</p><h2 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="format_csv_null_representation">format_csv_null_representation<a class="hash-link" href="#format_csv_null_representation" title="Direct link to heading">​</a></h2><p>Определяет представление <code>NULL</code> для формата выходных данных <a href="/docs/ru/interfaces/formats#csv">CSV</a>. Пользователь может установить в качестве значения любую строку, например, <code>My NULL</code>.</p><p>Значение по умолчанию: <code>\N</code>.</p><p><strong>Примеры</strong></p><p>Запрос:</p><div class="codeBlockContainer_I0IT language-sql theme-code-block"><div class="codeBlockContent_wNvx" style="color:#000000;background-color:#ffffff"><pre tabindex="0" class="prism-code language-sql codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#000000"><span class="token keyword" style="color:rgb(0, 0, 255)">SELECT</span><span class="token plain"> </span><span class="token operator" style="color:rgb(0, 0, 0)">*</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">FROM</span><span class="token plain"> csv_custom_null FORMAT CSV</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_eDfN clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><p>Результат:</p><div class="codeBlockContainer_I0IT language-text theme-code-block"><div class="codeBlockContent_wNvx" style="color:#000000;background-color:#ffffff"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#000000"><span class="token plain">788</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">\N</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">\N</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_eDfN clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><p>Запрос:</p><div class="codeBlockContainer_I0IT language-sql theme-code-block"><div class="codeBlockContent_wNvx" style="color:#000000;background-color:#ffffff"><pre tabindex="0" class="prism-code language-sql codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#000000"><span class="token keyword" style="color:rgb(0, 0, 255)">SET</span><span class="token plain"> format_csv_null_representation </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> </span><span class="token string" style="color:rgb(163, 21, 21)">&#x27;My NULL&#x27;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">SELECT</span><span class="token plain"> </span><span class="token operator" style="color:rgb(0, 0, 0)">*</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">FROM</span><span class="token plain"> csv_custom_null FORMAT CSV</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_eDfN clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><p>Результат:</p><div class="codeBlockContainer_I0IT language-text theme-code-block"><div class="codeBlockContent_wNvx" style="color:#000000;background-color:#ffffff"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#000000"><span class="token plain">788</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">My NULL</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">My NULL</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_eDfN clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><h2 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="format_tsv_null_representation">format_tsv_null_representation<a class="hash-link" href="#format_tsv_null_representation" title="Direct link to heading">​</a></h2><p>Определяет представление <code>NULL</code> для формата выходных данных <a href="/docs/ru/interfaces/formats#tabseparated">TSV</a>. Пользователь может установить в качестве значения любую строку.</p><p>Значение по умолчанию: <code>\N</code>.</p><p><strong>Примеры</strong></p><p>Запрос</p><div class="codeBlockContainer_I0IT language-sql theme-code-block"><div class="codeBlockContent_wNvx" style="color:#000000;background-color:#ffffff"><pre tabindex="0" class="prism-code language-sql codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#000000"><span class="token keyword" style="color:rgb(0, 0, 255)">SELECT</span><span class="token plain"> </span><span class="token operator" style="color:rgb(0, 0, 0)">*</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">FROM</span><span class="token plain"> tsv_custom_null FORMAT TSV</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_eDfN clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><p>Результат</p><div class="codeBlockContainer_I0IT language-text theme-code-block"><div class="codeBlockContent_wNvx" style="color:#000000;background-color:#ffffff"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#000000"><span class="token plain">788</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">\N</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">\N</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_eDfN clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><p>Запрос</p><div class="codeBlockContainer_I0IT language-sql theme-code-block"><div class="codeBlockContent_wNvx" style="color:#000000;background-color:#ffffff"><pre tabindex="0" class="prism-code language-sql codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#000000"><span class="token keyword" style="color:rgb(0, 0, 255)">SET</span><span class="token plain"> format_tsv_null_representation </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> </span><span class="token string" style="color:rgb(163, 21, 21)">&#x27;My NULL&#x27;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">SELECT</span><span class="token plain"> </span><span class="token operator" style="color:rgb(0, 0, 0)">*</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">FROM</span><span class="token plain"> tsv_custom_null FORMAT TSV</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_eDfN clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><p>Результат</p><div class="codeBlockContainer_I0IT language-text theme-code-block"><div class="codeBlockContent_wNvx" style="color:#000000;background-color:#ffffff"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#000000"><span class="token plain">788</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">My NULL</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">My NULL</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_eDfN clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><h2 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="output-format-json-array-of-rows">output_format_json_array_of_rows<a class="hash-link" href="#output-format-json-array-of-rows" title="Direct link to heading">​</a></h2><p>Позволяет выводить все строки в виде массива JSON в формате <a href="/docs/ru/interfaces/formats#jsoneachrow">JSONEachRow</a>.</p><p>Возможные значения:</p><ul><li>1 — ClickHouse выводит все строки в виде массива и при этом каждую строку в формате <code>JSONEachRow</code>.</li><li>0 — ClickHouse выводит каждую строку отдельно в формате <code>JSONEachRow</code>.</li></ul><p>Значение по умолчанию: <code>0</code>.</p><p><strong>Пример запроса с включенной настройкой</strong></p><p>Запрос:</p><div class="codeBlockContainer_I0IT language-sql theme-code-block"><div class="codeBlockContent_wNvx" style="color:#000000;background-color:#ffffff"><pre tabindex="0" class="prism-code language-sql codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#000000"><span class="token keyword" style="color:rgb(0, 0, 255)">SET</span><span class="token plain"> output_format_json_array_of_rows </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">1</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">SELECT</span><span class="token plain"> number </span><span class="token keyword" style="color:rgb(0, 0, 255)">FROM</span><span class="token plain"> numbers</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token number" style="color:rgb(9, 134, 88)">3</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"> FORMAT JSONEachRow</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_eDfN clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><p>Результат:</p><div class="codeBlockContainer_I0IT language-text theme-code-block"><div class="codeBlockContent_wNvx" style="color:#000000;background-color:#ffffff"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#000000"><span class="token plain">[</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">{&quot;number&quot;:&quot;0&quot;},</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">{&quot;number&quot;:&quot;1&quot;},</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">{&quot;number&quot;:&quot;2&quot;}</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">]</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_eDfN clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><p><strong>Пример запроса с отключенной настройкой</strong></p><p>Запрос:</p><div class="codeBlockContainer_I0IT language-sql theme-code-block"><div class="codeBlockContent_wNvx" style="color:#000000;background-color:#ffffff"><pre tabindex="0" class="prism-code language-sql codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#000000"><span class="token keyword" style="color:rgb(0, 0, 255)">SET</span><span class="token plain"> output_format_json_array_of_rows </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">0</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">SELECT</span><span class="token plain"> number </span><span class="token keyword" style="color:rgb(0, 0, 255)">FROM</span><span class="token plain"> numbers</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token number" style="color:rgb(9, 134, 88)">3</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"> FORMAT JSONEachRow</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_eDfN clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><p>Результат:</p><div class="codeBlockContainer_I0IT language-text theme-code-block"><div class="codeBlockContent_wNvx" style="color:#000000;background-color:#ffffff"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#000000"><span class="token plain">{&quot;number&quot;:&quot;0&quot;}</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">{&quot;number&quot;:&quot;1&quot;}</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">{&quot;number&quot;:&quot;2&quot;}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_eDfN clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><h2 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="allow-nullable-key">allow_nullable_key<a class="hash-link" href="#allow-nullable-key" title="Direct link to heading">​</a></h2><p>Включает или отключает поддержку типа <a href="/docs/ru/sql-reference/data-types/nullable#data_type-nullable">Nullable</a> для ключей таблиц <a href="/docs/ru/engines/table-engines/mergetree-family/mergetree#table_engines-mergetree">MergeTree</a>.</p><p>Возможные значения:</p><ul><li>1 — включает поддержку типа <code>Nullable</code> для ключей таблиц.</li><li>0 — отключает поддержку типа <code>Nullable</code> для ключей таблиц.</li></ul><p>Значение по умолчанию: <code>0</code>.</p><h2 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="aggregate_functions_null_for_empty">aggregate_functions_null_for_empty<a class="hash-link" href="#aggregate_functions_null_for_empty" title="Direct link to heading">​</a></h2><p>Включает или отключает перезапись всех агрегатных функций в запросе, с добавлением к ним суффикса <a href="/docs/ru/sql-reference/aggregate-functions/combinators#agg-functions-combinator-ornull">-OrNull</a>. Включите для совместимости со стандартом SQL.
Реализуется с помощью перезаписи запросов (аналогично настройке <a href="#settings-count_distinct_implementation">count_distinct_implementation</a>), чтобы получить согласованные результаты для распределенных запросов.</p><p>Возможные значения:</p><ul><li>0 — выключена.</li><li>1 — включена.</li></ul><p>Значение по умолчанию: 0.</p><p><strong>Пример</strong></p><p>Рассмотрим запрос с агрегирующими функциями:</p><div class="codeBlockContainer_I0IT language-sql theme-code-block"><div class="codeBlockContent_wNvx" style="color:#000000;background-color:#ffffff"><pre tabindex="0" class="prism-code language-sql codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#000000"><span class="token keyword" style="color:rgb(0, 0, 255)">SELECT</span><span class="token plain"> </span><span class="token function" style="color:rgb(0, 0, 255)">SUM</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token operator" style="color:rgb(0, 0, 0)">-</span><span class="token number" style="color:rgb(9, 134, 88)">1</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token function" style="color:rgb(0, 0, 255)">MAX</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token number" style="color:rgb(9, 134, 88)">0</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">FROM</span><span class="token plain"> system</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token plain">one </span><span class="token keyword" style="color:rgb(0, 0, 255)">WHERE</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">0</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_eDfN clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><p>Результат запроса с настройкой <code>aggregate_functions_null_for_empty = 0</code>:</p><div class="codeBlockContainer_I0IT language-text theme-code-block"><div class="codeBlockContent_wNvx" style="color:#000000;background-color:#ffffff"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#000000"><span class="token plain">┌─SUM(-1)─┬─MAX(0)─┐</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">│       0 │      0 │</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">└─────────┴────────┘</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_eDfN clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><p>Результат запроса с настройкой <code>aggregate_functions_null_for_empty = 1</code>:</p><div class="codeBlockContainer_I0IT language-text theme-code-block"><div class="codeBlockContent_wNvx" style="color:#000000;background-color:#ffffff"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#000000"><span class="token plain">┌─SUMOrNull(-1)─┬─MAXOrNull(0)─┐</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">│          NULL │         NULL │</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">└───────────────┴──────────────┘</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_eDfN clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><h2 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="union-default-mode">union_default_mode<a class="hash-link" href="#union-default-mode" title="Direct link to heading">​</a></h2><p>Устанавливает режим объединения результатов <code>SELECT</code> запросов. Настройка используется только при совместном использовании с <a href="/docs/ru/sql-reference/statements/select/union">UNION</a> без явного указания <code>UNION ALL</code> или <code>UNION DISTINCT</code>.</p><p>Возможные значения:</p><ul><li><code>&#x27;DISTINCT&#x27;</code> — ClickHouse выводит строки в результате объединения результатов запросов, удаляя повторяющиеся строки.</li><li><code>&#x27;ALL&#x27;</code> — ClickHouse выводит все строки в результате объединения результатов запросов, включая повторяющиеся строки.</li><li><code>&#x27;&#x27;</code> — Clickhouse генерирует исключение при использовании с <code>UNION</code>.</li></ul><p>Значение по умолчанию: <code>&#x27;&#x27;</code>.</p><p>Смотрите примеры в разделе <a href="/docs/ru/sql-reference/statements/select/union">UNION</a>.</p><h2 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="data_type_default_nullable">data_type_default_nullable<a class="hash-link" href="#data_type_default_nullable" title="Direct link to heading">​</a></h2><p>Позволяет использовать по умолчанию тип данных <a href="/docs/ru/sql-reference/data-types/nullable#data_type-nullable">Nullable</a> в определении столбца без явных модификаторов <a href="/docs/ru/sql-reference/statements/create/table#null-modifiers">NULL или NOT NULL</a>.</p><p>Возможные значения:</p><ul><li>1 — типы данных в определении столбца заданы по умолчанию как <code>Nullable</code>.</li><li>0 — типы данных в определении столбца не заданы по умолчанию как <code>Nullable</code>.</li></ul><p>Значение по умолчанию: <code>0</code>.</p><h2 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="execute-merges-on-single-replica-time-threshold">execute_merges_on_single_replica_time_threshold<a class="hash-link" href="#execute-merges-on-single-replica-time-threshold" title="Direct link to heading">​</a></h2><p>Включает особую логику выполнения слияний на репликах.</p><p>Возможные значения:</p><ul><li>Положительное целое число (в секундах).</li><li>0 — не используется особая логика выполнения слияний. Слияния происходят обычным образом на всех репликах.</li></ul><p>Значение по умолчанию: <code>0</code>.</p><p><strong>Использование</strong></p><p>Выбирается одна реплика для выполнения слияния. Устанавливается порог времени с момента начала слияния. Другие реплики ждут завершения слияния, а затем скачивают результат. Если время выполнения слияния превышает установленный порог и выбранная реплика не выполняет слияние, тогда слияние выполняется на других репликах как обычно.</p><p>Большие значения этой настройки могут привести к задержкам репликации.</p><p>Эта настройка полезна, когда скорость слияния ограничивается мощностью процессора, а не скоростью операций ввода-вывода (при выполнении &quot;тяжелого&quot; сжатия данных, при расчете агрегатных функций или выражений по умолчанию, требующих большого объема вычислений, или просто при большом количестве мелких слияний).</p><h2 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="max-final-threads">max_final_threads<a class="hash-link" href="#max-final-threads" title="Direct link to heading">​</a></h2><p>Устанавливает максимальное количество параллельных потоков для фазы чтения данных запроса <code>SELECT</code> с модификатором <a href="/docs/ru/sql-reference/statements/select/from#select-from-final">FINAL</a>.</p><p>Возможные значения:</p><ul><li>Положительное целое число.</li><li>0 или 1 — настройка отключена. <code>SELECT</code> запросы выполняются в один поток.</li></ul><p>Значение по умолчанию: <code>16</code>.</p><h2 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="opentelemetry-start-trace-probability">opentelemetry_start_trace_probability<a class="hash-link" href="#opentelemetry-start-trace-probability" title="Direct link to heading">​</a></h2><p>Задает вероятность того, что ClickHouse начнет трассировку для выполненных запросов (если не указан <a href="https://www.w3.org/TR/trace-context/" target="_blank" rel="noopener noreferrer">входящий контекст</a> трассировки).</p><p>Возможные значения:</p><ul><li>0 — трассировка для выполненных запросов отключена (если не указан входящий контекст трассировки).</li><li>Положительное число с плавающей точкой в диапазоне <!-- -->[0..1]<!-- -->. Например, при значении настройки, равной <code>0,5</code>, ClickHouse начнет трассировку в среднем для половины запросов.</li><li>1 — трассировка для всех выполненных запросов включена.</li></ul><p>Значение по умолчанию: <code>0</code>.</p><h2 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="optimize-on-insert">optimize_on_insert<a class="hash-link" href="#optimize-on-insert" title="Direct link to heading">​</a></h2><p>Включает или выключает преобразование данных перед добавлением в таблицу, как будто над добавляемым блоком предварительно было произведено слияние (в соответствии с движком таблицы).</p><p>Возможные значения:</p><ul><li>0 — выключена</li><li>1 — включена.</li></ul><p>Значение по умолчанию: 1.</p><p><strong>Пример</strong></p><p>Сравните добавление данных при включенной и выключенной настройке:</p><p>Запрос:</p><div class="codeBlockContainer_I0IT language-sql theme-code-block"><div class="codeBlockContent_wNvx" style="color:#000000;background-color:#ffffff"><pre tabindex="0" class="prism-code language-sql codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#000000"><span class="token keyword" style="color:rgb(0, 0, 255)">SET</span><span class="token plain"> optimize_on_insert </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">1</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">CREATE</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">TABLE</span><span class="token plain"> test1 </span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token identifier punctuation" style="color:rgb(4, 81, 165)">`</span><span class="token identifier">FirstTable</span><span class="token identifier punctuation" style="color:rgb(4, 81, 165)">`</span><span class="token plain"> UInt32</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">ENGINE</span><span class="token plain"> </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> ReplacingMergeTree </span><span class="token keyword" style="color:rgb(0, 0, 255)">ORDER</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">BY</span><span class="token plain"> FirstTable</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">INSERT</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">INTO</span><span class="token plain"> test1 </span><span class="token keyword" style="color:rgb(0, 0, 255)">SELECT</span><span class="token plain"> number </span><span class="token operator" style="color:rgb(0, 0, 0)">%</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">2</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">FROM</span><span class="token plain"> numbers</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token number" style="color:rgb(9, 134, 88)">5</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">SELECT</span><span class="token plain"> </span><span class="token operator" style="color:rgb(0, 0, 0)">*</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">FROM</span><span class="token plain"> test1</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">SET</span><span class="token plain"> optimize_on_insert </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">0</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">CREATE</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">TABLE</span><span class="token plain"> test2 </span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token identifier punctuation" style="color:rgb(4, 81, 165)">`</span><span class="token identifier">SecondTable</span><span class="token identifier punctuation" style="color:rgb(4, 81, 165)">`</span><span class="token plain"> UInt32</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">ENGINE</span><span class="token plain"> </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> ReplacingMergeTree </span><span class="token keyword" style="color:rgb(0, 0, 255)">ORDER</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">BY</span><span class="token plain"> SecondTable</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">INSERT</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">INTO</span><span class="token plain"> test2 </span><span class="token keyword" style="color:rgb(0, 0, 255)">SELECT</span><span class="token plain"> number </span><span class="token operator" style="color:rgb(0, 0, 0)">%</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">2</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">FROM</span><span class="token plain"> numbers</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token number" style="color:rgb(9, 134, 88)">5</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">SELECT</span><span class="token plain"> </span><span class="token operator" style="color:rgb(0, 0, 0)">*</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">FROM</span><span class="token plain"> test2</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_eDfN clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><p>Результат:</p><div class="codeBlockContainer_I0IT language-text theme-code-block"><div class="codeBlockContent_wNvx" style="color:#000000;background-color:#ffffff"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#000000"><span class="token plain">┌─FirstTable─┐</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">│          0 │</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">│          1 │</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">└────────────┘</span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">┌─SecondTable─┐</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">│           0 │</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">│           0 │</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">│           0 │</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">│           1 │</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">│           1 │</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">└─────────────┘</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_eDfN clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><p>Обратите внимание на то, что эта настройка влияет на поведение <a href="/docs/ru/sql-reference/statements/create/view#materialized">материализованных представлений</a> и БД <a href="/docs/ru/engines/database-engines/materialized-mysql">MaterializedMySQL</a>.</p><h2 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="engine-file-empty_if-not-exists">engine_file_empty_if_not_exists<a class="hash-link" href="#engine-file-empty_if-not-exists" title="Direct link to heading">​</a></h2><p>Включает или отключает возможность выполнять запрос <code>SELECT</code> к таблице на движке <a href="/docs/ru/engines/table-engines/special/file">File</a>, не содержащей файл.</p><p>Возможные значения:</p><ul><li>0 — запрос <code>SELECT</code> генерирует исключение.</li><li>1 — запрос <code>SELECT</code> возвращает пустой результат.</li></ul><p>Значение по умолчанию: <code>0</code>.</p><h2 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="engine-file-truncate-on-insert">engine_file_truncate_on_insert<a class="hash-link" href="#engine-file-truncate-on-insert" title="Direct link to heading">​</a></h2><p>Включает или выключает удаление данных из таблицы до вставки в таблицу на движке <a href="/docs/ru/engines/table-engines/special/file">File</a>.</p><p>Возможные значения:</p><ul><li>0 — запрос <code>INSERT</code> добавляет данные в конец файла после существующих.</li><li>1 — <code>INSERT</code> удаляет имеющиеся в файле данные и замещает их новыми.</li></ul><p>Значение по умолчанию: <code>0</code>.</p><h2 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="allow-experimental-geo-types">allow_experimental_geo_types<a class="hash-link" href="#allow-experimental-geo-types" title="Direct link to heading">​</a></h2><p>Разрешает использование экспериментальных типов данных для работы с <a href="/docs/ru/sql-reference/data-types/geo">географическими структурами</a>.</p><p>Возможные значения:</p><ul><li>0 — использование типов данных для работы с географическими структурами не поддерживается.</li><li>1 — использование типов данных для работы с географическими структурами поддерживается.</li></ul><p>Значение по умолчанию: <code>0</code>.</p><h2 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="database_atomic_wait_for_drop_and_detach_synchronously">database_atomic_wait_for_drop_and_detach_synchronously<a class="hash-link" href="#database_atomic_wait_for_drop_and_detach_synchronously" title="Direct link to heading">​</a></h2><p>Добавляет модификатор <code>SYNC</code> ко всем запросам <code>DROP</code> и <code>DETACH</code>.</p><p>Возможные значения:</p><ul><li>0 — Запросы будут выполняться с задержкой.</li><li>1 — Запросы будут выполняться без задержки.</li></ul><p>Значение по умолчанию: <code>0</code>.</p><h2 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="show_table_uuid_in_table_create_query_if_not_nil">show_table_uuid_in_table_create_query_if_not_nil<a class="hash-link" href="#show_table_uuid_in_table_create_query_if_not_nil" title="Direct link to heading">​</a></h2><p>Устанавливает отображение запроса <code>SHOW TABLE</code>.</p><p>Возможные значения:</p><ul><li>0 — Запрос будет отображаться без UUID таблицы.</li><li>1 — Запрос будет отображаться с UUID таблицы.</li></ul><p>Значение по умолчанию: <code>0</code>.</p><h2 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="allow-experimental-live-view">allow_experimental_live_view<a class="hash-link" href="#allow-experimental-live-view" title="Direct link to heading">​</a></h2><p>Включает экспериментальную возможность использования <a href="/docs/ru/sql-reference/statements/create/view#live-view">LIVE-представлений</a>.</p><p>Возможные значения:</p><ul><li>0 — живые представления не поддерживаются.</li><li>1 — живые представления поддерживаются.</li></ul><p>Значение по умолчанию: <code>0</code>.</p><h2 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="live-view-heartbeat-interval">live_view_heartbeat_interval<a class="hash-link" href="#live-view-heartbeat-interval" title="Direct link to heading">​</a></h2><p>Задает интервал в секундах для периодической проверки существования <a href="/docs/ru/sql-reference/statements/create/view#live-view">LIVE VIEW</a>.</p><p>Значение по умолчанию: <code>15</code>.</p><h2 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="max-live-view-insert-blocks-before-refresh">max_live_view_insert_blocks_before_refresh<a class="hash-link" href="#max-live-view-insert-blocks-before-refresh" title="Direct link to heading">​</a></h2><p>Задает наибольшее число вставок, после которых запрос на формирование <a href="/docs/ru/sql-reference/statements/create/view#live-view">LIVE VIEW</a> исполняется снова.</p><p>Значение по умолчанию: <code>64</code>.</p><h2 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="temporary-live-view-timeout">temporary_live_view_timeout<a class="hash-link" href="#temporary-live-view-timeout" title="Direct link to heading">​</a></h2><p>Задает время в секундах, после которого <a href="/docs/ru/sql-reference/statements/create/view#live-view">LIVE VIEW</a> удаляется.</p><p>Значение по умолчанию: <code>5</code>.</p><h2 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="periodic-live-view-refresh">periodic_live_view_refresh<a class="hash-link" href="#periodic-live-view-refresh" title="Direct link to heading">​</a></h2><p>Задает время в секундах, по истечении которого <a href="/docs/ru/sql-reference/statements/create/view#live-view">LIVE VIEW</a> с установленным автообновлением обновляется.</p><p>Значение по умолчанию: <code>60</code>.</p><h2 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="check_query_single_value_result">check_query_single_value_result<a class="hash-link" href="#check_query_single_value_result" title="Direct link to heading">​</a></h2><p>Определяет уровень детализации результата для запросов <a href="/docs/ru/sql-reference/statements/check-table#checking-mergetree-tables">CHECK TABLE</a> для таблиц семейства <code>MergeTree</code>.</p><p>Возможные значения:</p><ul><li>0 — запрос возвращает статус каждого куска данных таблицы.</li><li>1 — запрос возвращает статус таблицы в целом.</li></ul><p>Значение по умолчанию: <code>0</code>.</p><h2 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="prefer-column-name-to-alias">prefer_column_name_to_alias<a class="hash-link" href="#prefer-column-name-to-alias" title="Direct link to heading">​</a></h2><p>Включает или отключает замену названий столбцов на псевдонимы (alias) в выражениях и секциях запросов, см. <a href="/docs/ru/sql-reference/syntax#syntax-expression_aliases">Примечания по использованию синонимов</a>. Включите эту настройку, чтобы синтаксис псевдонимов в ClickHouse был более совместим с большинством других СУБД.</p><p>Возможные значения:</p><ul><li>0 — псевдоним подставляется вместо имени столбца.</li><li>1 — псевдоним не подставляется вместо имени столбца.</li></ul><p>Значение по умолчанию: <code>0</code>.</p><p><strong>Пример</strong></p><p>Какие изменения привносит включение и выключение настройки:</p><p>Запрос:</p><div class="codeBlockContainer_I0IT language-sql theme-code-block"><div class="codeBlockContent_wNvx" style="color:#000000;background-color:#ffffff"><pre tabindex="0" class="prism-code language-sql codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#000000"><span class="token keyword" style="color:rgb(0, 0, 255)">SET</span><span class="token plain"> prefer_column_name_to_alias </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">0</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">SELECT</span><span class="token plain"> </span><span class="token function" style="color:rgb(0, 0, 255)">avg</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">number</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">AS</span><span class="token plain"> number</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token function" style="color:rgb(0, 0, 255)">max</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">number</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">FROM</span><span class="token plain"> numbers</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token number" style="color:rgb(9, 134, 88)">10</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_eDfN clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><p>Результат:</p><div class="codeBlockContainer_I0IT language-text theme-code-block"><div class="codeBlockContent_wNvx" style="color:#000000;background-color:#ffffff"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#000000"><span class="token plain">Received exception from server (version 21.5.1):</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">Code: 184. DB::Exception: Received from localhost:9000. DB::Exception: Aggregate function avg(number) is found inside another aggregate function in query: While processing avg(number) AS number.</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_eDfN clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><p>Запрос:</p><div class="codeBlockContainer_I0IT language-sql theme-code-block"><div class="codeBlockContent_wNvx" style="color:#000000;background-color:#ffffff"><pre tabindex="0" class="prism-code language-sql codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#000000"><span class="token keyword" style="color:rgb(0, 0, 255)">SET</span><span class="token plain"> prefer_column_name_to_alias </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">1</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">SELECT</span><span class="token plain"> </span><span class="token function" style="color:rgb(0, 0, 255)">avg</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">number</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">AS</span><span class="token plain"> number</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token function" style="color:rgb(0, 0, 255)">max</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">number</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">FROM</span><span class="token plain"> numbers</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token number" style="color:rgb(9, 134, 88)">10</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_eDfN clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><p>Результат:</p><div class="codeBlockContainer_I0IT language-text theme-code-block"><div class="codeBlockContent_wNvx" style="color:#000000;background-color:#ffffff"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#000000"><span class="token plain">┌─number─┬─max(number)─┐</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">│    4.5 │           9 │</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">└────────┴─────────────┘</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_eDfN clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><h2 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="limit">limit<a class="hash-link" href="#limit" title="Direct link to heading">​</a></h2><p>Устанавливает максимальное количество строк, возвращаемых запросом. Ограничивает сверху значение, установленное в запросе в секции <a href="/docs/ru/sql-reference/statements/select/limit#limit-clause">LIMIT</a>.</p><p>Возможные значения:</p><ul><li>0 — число строк не ограничено.</li><li>Положительное целое число.</li></ul><p>Значение по умолчанию: <code>0</code>.</p><h2 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="offset">offset<a class="hash-link" href="#offset" title="Direct link to heading">​</a></h2><p>Устанавливает количество строк, которые необходимо пропустить перед началом возврата строк из запроса. Суммируется со значением, установленным в запросе в секции <a href="/docs/ru/sql-reference/statements/select/offset#offset-fetch">OFFSET</a>.</p><p>Возможные значения:</p><ul><li>0 — строки не пропускаются.</li><li>Положительное целое число.</li></ul><p>Значение по умолчанию: <code>0</code>.</p><p><strong>Пример</strong></p><p>Исходная таблица:</p><div class="codeBlockContainer_I0IT language-sql theme-code-block"><div class="codeBlockContent_wNvx" style="color:#000000;background-color:#ffffff"><pre tabindex="0" class="prism-code language-sql codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#000000"><span class="token keyword" style="color:rgb(0, 0, 255)">CREATE</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">TABLE</span><span class="token plain"> test </span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">i UInt64</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">ENGINE</span><span class="token plain"> </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> MergeTree</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">ORDER</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">BY</span><span class="token plain"> i</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">INSERT</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">INTO</span><span class="token plain"> test </span><span class="token keyword" style="color:rgb(0, 0, 255)">SELECT</span><span class="token plain"> number </span><span class="token keyword" style="color:rgb(0, 0, 255)">FROM</span><span class="token plain"> numbers</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token number" style="color:rgb(9, 134, 88)">500</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_eDfN clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><p>Запрос:</p><div class="codeBlockContainer_I0IT language-sql theme-code-block"><div class="codeBlockContent_wNvx" style="color:#000000;background-color:#ffffff"><pre tabindex="0" class="prism-code language-sql codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#000000"><span class="token keyword" style="color:rgb(0, 0, 255)">SET</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">limit</span><span class="token plain"> </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">5</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">SET</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">offset</span><span class="token plain"> </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">7</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">SELECT</span><span class="token plain"> </span><span class="token operator" style="color:rgb(0, 0, 0)">*</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">FROM</span><span class="token plain"> test </span><span class="token keyword" style="color:rgb(0, 0, 255)">LIMIT</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">10</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">OFFSET</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">100</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_eDfN clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><p>Результат:</p><div class="codeBlockContainer_I0IT language-text theme-code-block"><div class="codeBlockContent_wNvx" style="color:#000000;background-color:#ffffff"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#000000"><span class="token plain">┌───i─┐</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">│ 107 │</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">│ 108 │</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">│ 109 │</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">└─────┘</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_eDfN clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><h2 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="http_connection_timeout">http_connection_timeout<a class="hash-link" href="#http_connection_timeout" title="Direct link to heading">​</a></h2><p>Тайм-аут для HTTP-соединения (в секундах).</p><p>Возможные значения:</p><ul><li>0 - бесконечный тайм-аут.</li><li>Любое положительное целое число.</li></ul><p>Значение по умолчанию: <code>1</code>.</p><h2 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="http_send_timeout">http_send_timeout<a class="hash-link" href="#http_send_timeout" title="Direct link to heading">​</a></h2><p>Тайм-аут для отправки данных через HTTP-интерфейс (в секундах).</p><p>Возможные значения:</p><ul><li>0 - бесконечный тайм-аут.</li><li>Любое положительное целое число.</li></ul><p>Значение по умолчанию: <code>1800</code>.</p><h2 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="http_receive_timeout">http_receive_timeout<a class="hash-link" href="#http_receive_timeout" title="Direct link to heading">​</a></h2><p>Тайм-аут для получения данных через HTTP-интерфейс (в секундах).</p><p>Возможные значения:</p><ul><li>0 - бесконечный тайм-аут.</li><li>Любое положительное целое число.</li></ul><p>Значение по умолчанию: <code>1800</code>.</p><h2 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="optimize_syntax_fuse_functions">optimize_syntax_fuse_functions<a class="hash-link" href="#optimize_syntax_fuse_functions" title="Direct link to heading">​</a></h2><p>Позволяет объединить агрегатные функции с одинаковым аргументом. Запрос, содержащий по крайней мере две агрегатные функции: <a href="/docs/ru/sql-reference/aggregate-functions/reference/sum#agg_function-sum">sum</a>, <a href="/docs/ru/sql-reference/aggregate-functions/reference/count#agg_function-count">count</a> или <a href="/docs/ru/sql-reference/aggregate-functions/reference/avg#agg_function-avg">avg</a> с одинаковым аргументом, перезаписывается как <a href="/docs/ru/sql-reference/aggregate-functions/reference/sumcount#agg_function-sumCount">sumCount</a>.</p><p>Возможные значения:</p><ul><li>0 — функции с одинаковым аргументом не объединяются.</li><li>1 — функции с одинаковым аргументом объединяются.</li></ul><p>Значение по умолчанию: <code>0</code>.</p><p><strong>Пример</strong></p><p>Запрос:</p><div class="codeBlockContainer_I0IT language-sql theme-code-block"><div class="codeBlockContent_wNvx" style="color:#000000;background-color:#ffffff"><pre tabindex="0" class="prism-code language-sql codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#000000"><span class="token keyword" style="color:rgb(0, 0, 255)">CREATE</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">TABLE</span><span class="token plain"> fuse_tbl</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">a Int8</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> b Int8</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">Engine</span><span class="token plain"> </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> Log</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">SET</span><span class="token plain"> optimize_syntax_fuse_functions </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">1</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">EXPLAIN</span><span class="token plain"> SYNTAX </span><span class="token keyword" style="color:rgb(0, 0, 255)">SELECT</span><span class="token plain"> </span><span class="token function" style="color:rgb(0, 0, 255)">sum</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">a</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token function" style="color:rgb(0, 0, 255)">sum</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">b</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token function" style="color:rgb(0, 0, 255)">count</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">b</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token function" style="color:rgb(0, 0, 255)">avg</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">b</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">from</span><span class="token plain"> fuse_tbl FORMAT TSV</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_eDfN clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><p>Результат:</p><div class="codeBlockContainer_I0IT language-text theme-code-block"><div class="codeBlockContent_wNvx" style="color:#000000;background-color:#ffffff"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#000000"><span class="token plain">SELECT</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    sum(a),</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    sumCount(b).1,</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    sumCount(b).2,</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    (sumCount(b).1) / (sumCount(b).2)</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">FROM fuse_tbl</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_eDfN clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><h2 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="allow_experimental_database_replicated">allow_experimental_database_replicated<a class="hash-link" href="#allow_experimental_database_replicated" title="Direct link to heading">​</a></h2><p>Позволяет создавать базы данных с движком <a href="/docs/ru/engines/database-engines/replicated">Replicated</a>.</p><p>Возможные значения:</p><ul><li>0 — Disabled.</li><li>1 — Enabled.</li></ul><p>Значение по умолчанию: <code>0</code>.</p><h2 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="database_replicated_initial_query_timeout_sec">database_replicated_initial_query_timeout_sec<a class="hash-link" href="#database_replicated_initial_query_timeout_sec" title="Direct link to heading">​</a></h2><p>Устанавливает, как долго начальный DDL-запрос должен ждать, пока реплицированная база данных прецессирует предыдущие записи очереди DDL в секундах.</p><p>Возможные значения:</p><ul><li>Положительное целое число.</li><li>0 — Не ограничено.</li></ul><p>Значение по умолчанию: <code>300</code>.</p><h2 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="distributed_ddl_task_timeout">distributed_ddl_task_timeout<a class="hash-link" href="#distributed_ddl_task_timeout" title="Direct link to heading">​</a></h2><p>Устанавливает тайм-аут для ответов на DDL-запросы от всех хостов в кластере. Если DDL-запрос не был выполнен на всех хостах, ответ будет содержать ошибку тайм-аута, и запрос будет выполнен в асинхронном режиме.</p><p>Возможные значения:</p><ul><li>Положительное целое число.</li><li>0 — Асинхронный режим.</li><li>Отрицательное число — бесконечный тайм-аут.</li></ul><p>Значение по умолчанию: <code>180</code>.</p><h2 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="distributed_ddl_output_mode">distributed_ddl_output_mode<a class="hash-link" href="#distributed_ddl_output_mode" title="Direct link to heading">​</a></h2><p>Задает формат результата распределенного DDL-запроса.</p><p>Возможные значения:</p><ul><li><code>throw</code> — возвращает набор результатов со статусом выполнения запросов для всех хостов, где завершен запрос. Если запрос не выполнился на некоторых хостах, то будет выброшено исключение. Если запрос еще не закончен на некоторых хостах и таймаут <a href="#distributed_ddl_task_timeout">distributed_ddl_task_timeout</a> превышен, то выбрасывается исключение <code>TIMEOUT_EXCEEDED</code>.</li><li><code>none</code> — идентично <code>throw</code>, но распределенный DDL-запрос не возвращает набор результатов.</li><li><code>null_status_on_timeout</code> — возвращает <code>NULL</code> в качестве статуса выполнения в некоторых строках набора результатов вместо выбрасывания <code>TIMEOUT_EXCEEDED</code>, если запрос не закончен на соответствующих хостах.</li><li><code>never_throw</code> — не выбрасывает исключение и <code>TIMEOUT_EXCEEDED</code>, если запрос не удался на некоторых хостах.</li></ul><p>Значение по умолчанию: <code>throw</code>.</p><h2 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="flatten-nested">flatten_nested<a class="hash-link" href="#flatten-nested" title="Direct link to heading">​</a></h2><p>Устанавливает формат данных у <a href="/docs/ru/sql-reference/data-types/nested-data-structures/nested">вложенных</a> столбцов.</p><p>Возможные значения:</p><ul><li>1 — вложенный столбец преобразуется к отдельным массивам.</li><li>0 — вложенный столбец преобразуется к массиву кортежей.</li></ul><p>Значение по умолчанию: <code>1</code>.</p><p><strong>Использование</strong></p><p>Если установлено значение <code>0</code>, можно использовать любой уровень вложенности.</p><p><strong>Примеры</strong></p><p>Запрос:</p><div class="codeBlockContainer_I0IT language-sql theme-code-block"><div class="codeBlockContent_wNvx" style="color:#000000;background-color:#ffffff"><pre tabindex="0" class="prism-code language-sql codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#000000"><span class="token keyword" style="color:rgb(0, 0, 255)">SET</span><span class="token plain"> flatten_nested </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">1</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">CREATE</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">TABLE</span><span class="token plain"> t_nest </span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token identifier punctuation" style="color:rgb(4, 81, 165)">`</span><span class="token identifier">n</span><span class="token identifier punctuation" style="color:rgb(4, 81, 165)">`</span><span class="token plain"> Nested</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">a UInt32</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> b UInt32</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">ENGINE</span><span class="token plain"> </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> MergeTree </span><span class="token keyword" style="color:rgb(0, 0, 255)">ORDER</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">BY</span><span class="token plain"> tuple</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">SHOW</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">CREATE</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">TABLE</span><span class="token plain"> t_nest</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_eDfN clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><p>Результат:</p><div class="codeBlockContainer_I0IT language-text theme-code-block"><div class="codeBlockContent_wNvx" style="color:#000000;background-color:#ffffff"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#000000"><span class="token plain">┌─statement───────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────┐</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">│ CREATE TABLE default.t_nest</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">(</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    `n.a` Array(UInt32),</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    `n.b` Array(UInt32)</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">)</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">ENGINE = MergeTree</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">ORDER BY tuple()</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">SETTINGS index_granularity = 8192 │</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">└─────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────┘</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_eDfN clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><p>Запрос:</p><div class="codeBlockContainer_I0IT language-sql theme-code-block"><div class="codeBlockContent_wNvx" style="color:#000000;background-color:#ffffff"><pre tabindex="0" class="prism-code language-sql codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#000000"><span class="token keyword" style="color:rgb(0, 0, 255)">SET</span><span class="token plain"> flatten_nested </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">0</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">CREATE</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">TABLE</span><span class="token plain"> t_nest </span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token identifier punctuation" style="color:rgb(4, 81, 165)">`</span><span class="token identifier">n</span><span class="token identifier punctuation" style="color:rgb(4, 81, 165)">`</span><span class="token plain"> Nested</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">a UInt32</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> b UInt32</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">ENGINE</span><span class="token plain"> </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> MergeTree </span><span class="token keyword" style="color:rgb(0, 0, 255)">ORDER</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">BY</span><span class="token plain"> tuple</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">SHOW</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">CREATE</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">TABLE</span><span class="token plain"> t_nest</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_eDfN clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><p>Результат:</p><div class="codeBlockContainer_I0IT language-text theme-code-block"><div class="codeBlockContent_wNvx" style="color:#000000;background-color:#ffffff"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#000000"><span class="token plain">┌─statement──────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────┐</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">│ CREATE TABLE default.t_nest</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">(</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    `n` Nested(a UInt32, b UInt32)</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">)</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">ENGINE = MergeTree</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">ORDER BY tuple()</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">SETTINGS index_granularity = 8192 │</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">└────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────┘</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_eDfN clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><h2 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="external-table-functions-use-nulls">external_table_functions_use_nulls<a class="hash-link" href="#external-table-functions-use-nulls" title="Direct link to heading">​</a></h2><p>Определяет, как табличные функции <a href="/docs/ru/sql-reference/table-functions/mysql">mysql</a>, <a href="/docs/ru/sql-reference/table-functions/postgresql">postgresql</a> и <a href="/docs/ru/sql-reference/table-functions/odbc">odbc</a>] используют Nullable столбцы.</p><p>Возможные значения:</p><ul><li>0 — табличная функция явно использует Nullable столбцы.</li><li>1 — табличная функция неявно использует Nullable столбцы.</li></ul><p>Значение по умолчанию: <code>1</code>.</p><p><strong>Использование</strong></p><p>Если установлено значение <code>0</code>, то табличная функция не делает Nullable столбцы, а вместо NULL выставляет значения по умолчанию для скалярного типа. Это также применимо для значений NULL внутри массивов.</p><h2 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="output-format-arrow-low-cardinality-as-dictionary">output_format_arrow_low_cardinality_as_dictionary<a class="hash-link" href="#output-format-arrow-low-cardinality-as-dictionary" title="Direct link to heading">​</a></h2><p>Позволяет конвертировать тип <a href="/docs/ru/sql-reference/data-types/lowcardinality">LowCardinality</a> в тип <code>DICTIONARY</code> формата <a href="/docs/ru/interfaces/formats#data-format-arrow">Arrow</a> для запросов <code>SELECT</code>.</p><p>Возможные значения:</p><ul><li>0 — тип <code>LowCardinality</code> не конвертируется в тип <code>DICTIONARY</code>.</li><li>1 — тип <code>LowCardinality</code> конвертируется в тип <code>DICTIONARY</code>.</li></ul><p>Значение по умолчанию: <code>0</code>.</p><h2 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="materialized-postgresql-max-block-size">materialized_postgresql_max_block_size<a class="hash-link" href="#materialized-postgresql-max-block-size" title="Direct link to heading">​</a></h2><p>Задает максимальное количество строк, собранных в памяти перед вставкой данных в таблицу базы данных PostgreSQL.</p><p>Возможные значения:</p><ul><li>Положительное целое число.</li></ul><p>Значение по умолчанию: <code>65536</code>.</p><h2 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="materialized-postgresql-tables-list">materialized_postgresql_tables_list<a class="hash-link" href="#materialized-postgresql-tables-list" title="Direct link to heading">​</a></h2><p>Задает список таблиц базы данных PostgreSQL, разделенных запятыми, которые будут реплицироваться с помощью движка базы данных <a href="/docs/ru/engines/database-engines/materialized-postgresql">MaterializedPostgreSQL</a>.</p><p>Значение по умолчанию: пустой список — база данных PostgreSQL будет полностью реплицирована.</p><h2 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="materialized-postgresql-allow-automatic-update">materialized_postgresql_allow_automatic_update<a class="hash-link" href="#materialized-postgresql-allow-automatic-update" title="Direct link to heading">​</a></h2><p>Позволяет автоматически обновить таблицу в фоновом режиме при обнаружении изменений схемы. DDL-запросы на стороне сервера PostgreSQL не реплицируются с помощью движка ClickHouse <a href="/docs/ru/engines/database-engines/materialized-postgresql">MaterializedPostgreSQL</a>, поскольку это запрещено протоколом логической репликации PostgreSQL, но факт DDL-измененений обнаруживается транзакционно.  После обнаружения DDL по умолчанию прекращается репликация этих таблиц. Однако, если эта настройка включена, то вместо остановки репликации, таблицы будут перезагружены в фоновом режиме с помощью снимка базы данных без потери информации, и репликация для них будет продолжена.</p><p>Возможные значения:</p><ul><li>0 — таблица не обновляется автоматически в фоновом режиме при обнаружении изменений схемы.</li><li>1 — таблица обновляется автоматически в фоновом режиме при обнаружении изменений схемы.</li></ul><p>Значение по умолчанию: <code>0</code>.</p><h2 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="materialized-postgresql-replication-slot">materialized_postgresql_replication_slot<a class="hash-link" href="#materialized-postgresql-replication-slot" title="Direct link to heading">​</a></h2><p>Строка с идентификатором слота репликации, созданного пользователем вручную. Эта настройка должна использоваться совместно с <a href="#materialized-postgresql-snapshot">materialized_postgresql_snapshot</a>.</p><h2 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="materialized-postgresql-snapshot">materialized_postgresql_snapshot<a class="hash-link" href="#materialized-postgresql-snapshot" title="Direct link to heading">​</a></h2><p>Строка с идентификатором снэпшота, из которого будет выполняться <a href="/docs/ru/engines/database-engines/materialized-postgresql">исходный дамп таблиц PostgreSQL</a>. Эта настройка должна использоваться совместно с <a href="#materialized-postgresql-replication-slot">materialized_postgresql_replication_slot</a>.</p><h2 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="allow-experimental-projection-optimization">allow_experimental_projection_optimization<a class="hash-link" href="#allow-experimental-projection-optimization" title="Direct link to heading">​</a></h2><p>Включает или отключает поддержку <a href="/docs/ru/engines/table-engines/mergetree-family/mergetree#projections">проекций</a> при обработке запросов <code>SELECT</code>.</p><p>Возможные значения:</p><ul><li>0 — Проекции не поддерживаются.</li><li>1 — Проекции поддерживаются.</li></ul><p>Значение по умолчанию: <code>0</code>.</p><h2 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="force-optimize-projection">force_optimize_projection<a class="hash-link" href="#force-optimize-projection" title="Direct link to heading">​</a></h2><p>Включает или отключает обязательное использование <a href="/docs/ru/engines/table-engines/mergetree-family/mergetree#projections">проекций</a> в запросах <code>SELECT</code>, если поддержка проекций включена (см. настройку <a href="#allow-experimental-projection-optimization">allow_experimental_projection_optimization</a>).</p><p>Возможные значения:</p><ul><li>0 — Проекции используются опционально.</li><li>1 — Проекции обязательно используются.</li></ul><p>Значение по умолчанию: <code>0</code>.</p><h2 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="replication-alter-partitions-sync">replication_alter_partitions_sync<a class="hash-link" href="#replication-alter-partitions-sync" title="Direct link to heading">​</a></h2><p>Позволяет настроить ожидание выполнения действий на репликах запросами <a href="/docs/ru/sql-reference/statements/alter/">ALTER</a>, <a href="/docs/ru/sql-reference/statements/optimize">OPTIMIZE</a> или <a href="/docs/ru/sql-reference/statements/truncate">TRUNCATE</a>.</p><p>Возможные значения:</p><ul><li>0 — не ждать.</li><li>1 — ждать выполнения действий на своей реплике.</li><li>2 — ждать выполнения действий на всех репликах.</li></ul><p>Значение по умолчанию: <code>1</code>.</p><h2 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="replication-wait-for-inactive-replica-timeout">replication_wait_for_inactive_replica_timeout<a class="hash-link" href="#replication-wait-for-inactive-replica-timeout" title="Direct link to heading">​</a></h2><p>Указывает время ожидания (в секундах) выполнения запросов <a href="/docs/ru/sql-reference/statements/alter/">ALTER</a>, <a href="/docs/ru/sql-reference/statements/optimize">OPTIMIZE</a> или <a href="/docs/ru/sql-reference/statements/truncate">TRUNCATE</a> для неактивных реплик.</p><p>Возможные значения:</p><ul><li>0 — не ждать.</li><li>Отрицательное целое число — ждать неограниченное время.</li><li>Положительное целое число — установить соответствующее количество секунд ожидания.</li></ul><p>Значение по умолчанию: <code>120</code> секунд.</p><h2 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="regexp-max-matches-per-row">regexp_max_matches_per_row<a class="hash-link" href="#regexp-max-matches-per-row" title="Direct link to heading">​</a></h2><p>Задает максимальное количество совпадений для регулярного выражения. Настройка применяется для защиты памяти от перегрузки при использовании &quot;жадных&quot; квантификаторов в регулярном выражении для функции <a href="/docs/ru/sql-reference/functions/string-search-functions#extractallgroups-horizontal">extractAllGroupsHorizontal</a>.</p><p>Возможные значения:</p><ul><li>Положительное целое число.</li></ul><p>Значение по умолчанию: <code>1000</code>.</p><h2 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="http-max-single-read-retries">http_max_single_read_retries<a class="hash-link" href="#http-max-single-read-retries" title="Direct link to heading">​</a></h2><p>Задает максимальное количество попыток чтения данных во время одного HTTP-запроса.</p><p>Возможные значения:</p><ul><li>Положительное целое число.</li></ul><p>Значение по умолчанию: <code>1024</code>.</p><h2 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="log-queries-probability">log_queries_probability<a class="hash-link" href="#log-queries-probability" title="Direct link to heading">​</a></h2><p>Позволяет пользователю записывать в системные таблицы <a href="/docs/ru/operations/system-tables/query_log">query_log</a>, <a href="/docs/ru/operations/system-tables/query_thread_log">query_thread_log</a> и <a href="/docs/ru/operations/system-tables/query_views_log">query_views_log</a> только часть запросов, выбранных случайным образом, с указанной вероятностью. Это помогает снизить нагрузку при большом объеме запросов в секунду.</p><p>Возможные значения:</p><ul><li>0 — запросы не регистрируются в системных таблицах.</li><li>Положительное число с плавающей точкой в диапазоне <!-- -->[0..1]<!-- -->. Например, при значении настройки, равном <code>0.5</code>, примерно половина запросов регистрируется в системных таблицах.</li><li>1 — все запросы регистрируются в системных таблицах.</li></ul><p>Значение по умолчанию: <code>1</code>.</p><h2 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="short-circuit-function-evaluation">short_circuit_function_evaluation<a class="hash-link" href="#short-circuit-function-evaluation" title="Direct link to heading">​</a></h2><p>Позволяет вычислять функции <a href="/docs/ru/sql-reference/functions/conditional-functions#if">if</a>, <a href="/docs/ru/sql-reference/functions/conditional-functions#multiif">multiIf</a>, <a href="/docs/ru/sql-reference/functions/logical-functions#logical-and-function">and</a> и <a href="/docs/ru/sql-reference/functions/logical-functions#logical-or-function">or</a> по <a href="https://ru-wikipedia-org.turbopages.org/ru.wikipedia.org/s/wiki/%D0%92%D1%8B%D1%87%D0%B8%D1%81%D0%BB%D0%B5%D0%BD%D0%B8%D1%8F_%D0%BF%D0%BE_%D0%BA%D0%BE%D1%80%D0%BE%D1%82%D0%BA%D0%BE%D0%B9_%D1%81%D1%85%D0%B5%D0%BC%D0%B5" target="_blank" rel="noopener noreferrer">короткой схеме</a>. Это помогает оптимизировать выполнение сложных выражений в этих функциях и предотвратить возможные исключения (например, деление на ноль, когда оно не ожидается).</p><p>Возможные значения:</p><ul><li><code>enable</code> — по короткой схеме вычисляются функции, которые подходят для этого (могут сгенерировать исключение или требуют сложных вычислений).</li><li><code>force_enable</code> — все функции вычисляются по короткой схеме.</li><li><code>disable</code> — вычисление функций по короткой схеме отключено.</li></ul><p>Значение по умолчанию: <code>enable</code>.</p><h2 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="max-hyperscan-regexp-length">max_hyperscan_regexp_length<a class="hash-link" href="#max-hyperscan-regexp-length" title="Direct link to heading">​</a></h2><p>Задает максимальную длину каждого регулярного выражения в <a href="/docs/ru/sql-reference/functions/string-search-functions#multimatchanyhaystack-pattern1-pattern2-patternn">hyperscan-функциях</a>  поиска множественных совпадений в строке.</p><p>Возможные значения:</p><ul><li>Положительное целое число.</li><li>0 - длина не ограничена.</li></ul><p>Значение по умолчанию: <code>0</code>.</p><p><strong>Пример</strong></p><p>Запрос:</p><div class="codeBlockContainer_I0IT language-sql theme-code-block"><div class="codeBlockContent_wNvx" style="color:#000000;background-color:#ffffff"><pre tabindex="0" class="prism-code language-sql codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#000000"><span class="token keyword" style="color:rgb(0, 0, 255)">SELECT</span><span class="token plain"> multiMatchAny</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token string" style="color:rgb(163, 21, 21)">&#x27;abcd&#x27;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token string" style="color:rgb(163, 21, 21)">&#x27;ab&#x27;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token string" style="color:rgb(163, 21, 21)">&#x27;bcd&#x27;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token string" style="color:rgb(163, 21, 21)">&#x27;c&#x27;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token string" style="color:rgb(163, 21, 21)">&#x27;d&#x27;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"> SETTINGS max_hyperscan_regexp_length </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">3</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_eDfN clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><p>Результат:</p><div class="codeBlockContainer_I0IT language-text theme-code-block"><div class="codeBlockContent_wNvx" style="color:#000000;background-color:#ffffff"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#000000"><span class="token plain">┌─multiMatchAny(&#x27;abcd&#x27;, [&#x27;ab&#x27;, &#x27;bcd&#x27;, &#x27;c&#x27;, &#x27;d&#x27;])─┐</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">│                                              1 │</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">└────────────────────────────────────────────────┘</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_eDfN clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><p>Запрос:</p><div class="codeBlockContainer_I0IT language-sql theme-code-block"><div class="codeBlockContent_wNvx" style="color:#000000;background-color:#ffffff"><pre tabindex="0" class="prism-code language-sql codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#000000"><span class="token keyword" style="color:rgb(0, 0, 255)">SELECT</span><span class="token plain"> multiMatchAny</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token string" style="color:rgb(163, 21, 21)">&#x27;abcd&#x27;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token string" style="color:rgb(163, 21, 21)">&#x27;ab&#x27;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token string" style="color:rgb(163, 21, 21)">&#x27;bcd&#x27;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token string" style="color:rgb(163, 21, 21)">&#x27;c&#x27;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token string" style="color:rgb(163, 21, 21)">&#x27;d&#x27;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"> SETTINGS max_hyperscan_regexp_length </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">2</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_eDfN clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><p>Результат:</p><div class="codeBlockContainer_I0IT language-text theme-code-block"><div class="codeBlockContent_wNvx" style="color:#000000;background-color:#ffffff"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#000000"><span class="token plain">Exception: Regexp length too large.</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_eDfN clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><p><strong>См. также</strong></p><ul><li><a href="#max-hyperscan-regexp-total-length">max_hyperscan_regexp_total_length</a></li></ul><h2 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="max-hyperscan-regexp-total-length">max_hyperscan_regexp_total_length<a class="hash-link" href="#max-hyperscan-regexp-total-length" title="Direct link to heading">​</a></h2><p>Задает максимальную общую длину всех регулярных выражений в каждой <a href="/docs/ru/sql-reference/functions/string-search-functions#multimatchanyhaystack-pattern1-pattern2-patternn">hyperscan-функции</a>  поиска множественных совпадений в строке.</p><p>Возможные значения:</p><ul><li>Положительное целое число.</li><li>0 - длина не ограничена.</li></ul><p>Значение по умолчанию: <code>0</code>.</p><p><strong>Пример</strong></p><p>Запрос:</p><div class="codeBlockContainer_I0IT language-sql theme-code-block"><div class="codeBlockContent_wNvx" style="color:#000000;background-color:#ffffff"><pre tabindex="0" class="prism-code language-sql codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#000000"><span class="token keyword" style="color:rgb(0, 0, 255)">SELECT</span><span class="token plain"> multiMatchAny</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token string" style="color:rgb(163, 21, 21)">&#x27;abcd&#x27;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token string" style="color:rgb(163, 21, 21)">&#x27;a&#x27;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token string" style="color:rgb(163, 21, 21)">&#x27;b&#x27;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token string" style="color:rgb(163, 21, 21)">&#x27;c&#x27;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token string" style="color:rgb(163, 21, 21)">&#x27;d&#x27;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"> SETTINGS max_hyperscan_regexp_total_length </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">5</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_eDfN clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><p>Результат:</p><div class="codeBlockContainer_I0IT language-text theme-code-block"><div class="codeBlockContent_wNvx" style="color:#000000;background-color:#ffffff"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#000000"><span class="token plain">┌─multiMatchAny(&#x27;abcd&#x27;, [&#x27;a&#x27;, &#x27;b&#x27;, &#x27;c&#x27;, &#x27;d&#x27;])─┐</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">│                                           1 │</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">└─────────────────────────────────────────────┘</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_eDfN clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><p>Запрос:</p><div class="codeBlockContainer_I0IT language-sql theme-code-block"><div class="codeBlockContent_wNvx" style="color:#000000;background-color:#ffffff"><pre tabindex="0" class="prism-code language-sql codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#000000"><span class="token keyword" style="color:rgb(0, 0, 255)">SELECT</span><span class="token plain"> multiMatchAny</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token string" style="color:rgb(163, 21, 21)">&#x27;abcd&#x27;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token string" style="color:rgb(163, 21, 21)">&#x27;ab&#x27;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token string" style="color:rgb(163, 21, 21)">&#x27;bc&#x27;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token string" style="color:rgb(163, 21, 21)">&#x27;c&#x27;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token string" style="color:rgb(163, 21, 21)">&#x27;d&#x27;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"> SETTINGS max_hyperscan_regexp_total_length </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">5</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_eDfN clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><p>Результат:</p><div class="codeBlockContainer_I0IT language-text theme-code-block"><div class="codeBlockContent_wNvx" style="color:#000000;background-color:#ffffff"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#000000"><span class="token plain">Exception: Total regexp lengths too large.</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_eDfN clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><p><strong>См. также</strong></p><ul><li><a href="#max-hyperscan-regexp-length">max_hyperscan_regexp_length</a></li></ul><h2 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="enable-positional-arguments">enable_positional_arguments<a class="hash-link" href="#enable-positional-arguments" title="Direct link to heading">​</a></h2><p>Включает и отключает поддержку позиционных аргументов для <a href="/docs/ru/sql-reference/statements/select/group-by">GROUP BY</a>, <a href="/docs/ru/sql-reference/statements/select/limit-by">LIMIT BY</a>, <a href="/docs/ru/sql-reference/statements/select/order-by">ORDER BY</a>. Если вы хотите использовать номера столбцов вместо названий в выражениях этих операторов, установите <code>enable_positional_arguments = 1</code>.</p><p>Возможные значения:</p><ul><li>0 — Позиционные аргументы не поддерживаются.</li><li>1 — Позиционные аргументы поддерживаются: можно использовать номера столбцов вместо названий столбцов.</li></ul><p>Значение по умолчанию: <code>0</code>.</p><p><strong>Пример</strong></p><p>Запрос:</p><div class="codeBlockContainer_I0IT language-sql theme-code-block"><div class="codeBlockContent_wNvx" style="color:#000000;background-color:#ffffff"><pre tabindex="0" class="prism-code language-sql codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#000000"><span class="token keyword" style="color:rgb(0, 0, 255)">CREATE</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">TABLE</span><span class="token plain"> positional_arguments</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">one </span><span class="token keyword" style="color:rgb(0, 0, 255)">Int</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> two </span><span class="token keyword" style="color:rgb(0, 0, 255)">Int</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> three </span><span class="token keyword" style="color:rgb(0, 0, 255)">Int</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">ENGINE</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain">Memory</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">INSERT</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">INTO</span><span class="token plain"> positional_arguments </span><span class="token keyword" style="color:rgb(0, 0, 255)">VALUES</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token number" style="color:rgb(9, 134, 88)">10</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">20</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">30</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token number" style="color:rgb(9, 134, 88)">20</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">20</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">10</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token number" style="color:rgb(9, 134, 88)">30</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">10</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">20</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">SET</span><span class="token plain"> enable_positional_arguments </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">1</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">SELECT</span><span class="token plain"> </span><span class="token operator" style="color:rgb(0, 0, 0)">*</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">FROM</span><span class="token plain"> positional_arguments </span><span class="token keyword" style="color:rgb(0, 0, 255)">ORDER</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">BY</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">2</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token number" style="color:rgb(9, 134, 88)">3</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_eDfN clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><p>Результат:</p><div class="codeBlockContainer_I0IT language-text theme-code-block"><div class="codeBlockContent_wNvx" style="color:#000000;background-color:#ffffff"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#000000"><span class="token plain">┌─one─┬─two─┬─three─┐</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">│  30 │  10 │   20  │</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">│  20 │  20 │   10  │</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">│  10 │  20 │   30  │</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">└─────┴─────┴───────┘</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_eDfN clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><h2 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="optimize_move_to_prewhere">optimize_move_to_prewhere<a class="hash-link" href="#optimize_move_to_prewhere" title="Direct link to heading">​</a></h2><p>Включает или отключает автоматическую оптимизацию <a href="/docs/ru/sql-reference/statements/select/prewhere">PREWHERE</a> в запросах <a href="/docs/ru/sql-reference/statements/select/">SELECT</a>.</p><p>Работает только с таблицами семейства <a href="/docs/ru/engines/table-engines/mergetree-family/">*MergeTree</a>.</p><p>Возможные значения:</p><ul><li>0 — автоматическая оптимизация <code>PREWHERE</code> отключена.</li><li>1 — автоматическая оптимизация <code>PREWHERE</code> включена.</li></ul><p>Значение по умолчанию: <code>1</code>.</p><h2 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="optimize_move_to_prewhere_if_final">optimize_move_to_prewhere_if_final<a class="hash-link" href="#optimize_move_to_prewhere_if_final" title="Direct link to heading">​</a></h2><p>Включает или отключает автоматическую оптимизацию <a href="/docs/ru/sql-reference/statements/select/prewhere">PREWHERE</a> в запросах <a href="/docs/ru/sql-reference/statements/select/">SELECT</a> с модификатором <a href="/docs/ru/sql-reference/statements/select/from#select-from-final">FINAL</a>.</p><p>Работает только с таблицами семейства <a href="/docs/ru/engines/table-engines/mergetree-family/">*MergeTree</a>.</p><p>Возможные значения:</p><ul><li>0 — автоматическая оптимизация <code>PREWHERE</code> в запросах <code>SELECT</code> с модификатором <code>FINAL</code> отключена.</li><li>1 — автоматическая оптимизация <code>PREWHERE</code> в запросах <code>SELECT</code> с модификатором <code>FINAL</code> включена.</li></ul><p>Значение по умолчанию: <code>0</code>.</p><p><strong>См. также</strong></p><ul><li>настройка <a href="#optimize_move_to_prewhere">optimize_move_to_prewhere</a></li></ul><h2 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="describe_include_subcolumns">describe_include_subcolumns<a class="hash-link" href="#describe_include_subcolumns" title="Direct link to heading">​</a></h2><p>Включает или отключает описание подстолбцов при выполнении запроса <a href="/docs/ru/sql-reference/statements/describe-table">DESCRIBE</a>. Настройка действует, например, на элементы <a href="/docs/ru/sql-reference/data-types/tuple">Tuple</a> или подстолбцы типов <a href="/docs/ru/sql-reference/data-types/map#map-subcolumns">Map</a>, <a href="/docs/ru/sql-reference/data-types/nullable#finding-null">Nullable</a> или <a href="/docs/ru/sql-reference/data-types/array#array-size">Array</a>.</p><p>Возможные значения:</p><ul><li>0 — подстолбцы не включаются в результат запросов <code>DESCRIBE</code>.</li><li>1 — подстолбцы включаются в результат запросов <code>DESCRIBE</code>.</li></ul><p>Значение по умолчанию: <code>0</code>.</p><p><strong>Пример</strong></p><p>Смотрите пример запроса <a href="/docs/ru/sql-reference/statements/describe-table">DESCRIBE</a>.</p><h2 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="async-insert">async_insert<a class="hash-link" href="#async-insert" title="Direct link to heading">​</a></h2><p>Включает или отключает асинхронные вставки. Работает только для вставок по протоколу HTTP. Обратите внимание, что при таких вставках дедупликация не производится.</p><p>Если включено, данные собираются в пачки перед вставкой в таблицу. Это позволяет производить мелкие и частые вставки в ClickHouse (до 15000 запросов в секунду) без промежуточных таблиц.</p><p>Вставка данных происходит либо как только объем вставляемых данных превышает <a href="#async-insert-max-data-size">async_insert_max_data_size</a>, либо через <a href="#async-insert-busy-timeout-ms">async_insert_busy_timeout_ms</a> миллисекунд после первого запроса <code>INSERT</code>. Если в <a href="#async-insert-stale-timeout-ms">async_insert_stale_timeout_ms</a> задано ненулевое значение, то данные вставляются через <code>async_insert_stale_timeout_ms</code> миллисекунд после последнего запроса.</p><p>Если включен параметр <a href="#wait-for-async-insert">wait_for_async_insert</a>, каждый клиент ждет, пока данные будут сброшены в таблицу. Иначе запрос будет обработан почти моментально, даже если данные еще не вставлены.</p><p>Возможные значения:</p><ul><li>0 — вставки производятся синхронно, один запрос за другим.</li><li>1 — включены множественные асинхронные вставки.</li></ul><p>Значение по умолчанию: <code>0</code>.</p><h2 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="async-insert-threads">async_insert_threads<a class="hash-link" href="#async-insert-threads" title="Direct link to heading">​</a></h2><p>Максимальное число потоков для фоновой обработки и вставки данных.</p><p>Возможные значения:</p><ul><li>Положительное целое число.</li><li>0 — асинхронные вставки отключены.</li></ul><p>Значение по умолчанию: <code>16</code>.</p><h2 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="wait-for-async-insert">wait_for_async_insert<a class="hash-link" href="#wait-for-async-insert" title="Direct link to heading">​</a></h2><p>Включает или отключает ожидание обработки асинхронных вставок. Если включено, клиент выведет <code>OK</code> только после того, как данные вставлены. Иначе будет выведен <code>OK</code>, даже если вставка не произошла.</p><p>Возможные значения:</p><ul><li>0 — сервер возвращает <code>OK</code> даже если вставка данных еще не завершена.</li><li>1 — сервер возвращает <code>OK</code> только после завершения вставки данных.</li></ul><p>Значение по умолчанию: <code>1</code>.</p><h2 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="wait-for-async-insert-timeout">wait_for_async_insert_timeout<a class="hash-link" href="#wait-for-async-insert-timeout" title="Direct link to heading">​</a></h2><p>Время ожидания в секундах, выделяемое для обработки асинхронной вставки.</p><p>Возможные значения:</p><ul><li>Положительное целое число.</li><li>0 — ожидание отключено.</li></ul><p>Значение по умолчанию: <a href="#lock_acquire_timeout">lock_acquire_timeout</a>.</p><h2 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="async-insert-max-data-size">async_insert_max_data_size<a class="hash-link" href="#async-insert-max-data-size" title="Direct link to heading">​</a></h2><p>Максимальный размер необработанных данных (в байтах), собранных за запрос, перед их вставкой.</p><p>Возможные значения:</p><ul><li>Положительное целое число.</li><li>0 — асинхронные вставки отключены.</li></ul><p>Значение по умолчанию: <code>1000000</code>.</p><h2 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="async-insert-busy-timeout-ms">async_insert_busy_timeout_ms<a class="hash-link" href="#async-insert-busy-timeout-ms" title="Direct link to heading">​</a></h2><p>Максимальное время ожидания в миллисекундах после первого запроса <code>INSERT</code> и перед вставкой данных.</p><p>Возможные значения:</p><ul><li>Положительное целое число.</li><li>0 — ожидание отключено.</li></ul><p>Значение по умолчанию: <code>200</code>.</p><h2 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="async-insert-stale-timeout-ms">async_insert_stale_timeout_ms<a class="hash-link" href="#async-insert-stale-timeout-ms" title="Direct link to heading">​</a></h2><p>Максимальное время ожидания в миллисекундах после последнего запроса <code>INSERT</code> и перед вставкой данных. Если установлено ненулевое значение, <a href="#async-insert-busy-timeout-ms">async_insert_busy_timeout_ms</a> будет продлеваться с каждым запросом <code>INSERT</code>, пока не будет превышен <a href="#async-insert-max-data-size">async_insert_max_data_size</a>.</p><p>Возможные значения:</p><ul><li>Положительное целое число.</li><li>0 — ожидание отключено.</li></ul><p>Значение по умолчанию: <code>0</code>.</p><h2 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="alter-partition-verbose-result">alter_partition_verbose_result<a class="hash-link" href="#alter-partition-verbose-result" title="Direct link to heading">​</a></h2><p>Включает или отключает вывод информации о кусках, к которым были успешно применены операции манипуляции с партициями и кусками. Применимо к <a href="/docs/ru/sql-reference/statements/alter/partition#alter_attach-partition">ATTACH PARTITION|PART</a> и к <a href="/docs/ru/sql-reference/statements/alter/partition#alter_freeze-partition">FREEZE PARTITION</a></p><p>Возможные значения:</p><ul><li>0 — отображение отключено.</li><li>1 — отображение включено.</li></ul><p>Значение по умолчанию: <code>0</code>.</p><p><strong>Пример</strong></p><div class="codeBlockContainer_I0IT language-sql theme-code-block"><div class="codeBlockContent_wNvx" style="color:#000000;background-color:#ffffff"><pre tabindex="0" class="prism-code language-sql codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#000000"><span class="token keyword" style="color:rgb(0, 0, 255)">CREATE</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">TABLE</span><span class="token plain"> test</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">a Int64</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> d </span><span class="token keyword" style="color:rgb(0, 0, 255)">Date</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> s String</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">ENGINE</span><span class="token plain"> </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> MergeTree </span><span class="token keyword" style="color:rgb(0, 0, 255)">PARTITION</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">BY</span><span class="token plain"> toYYYYMM</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">d</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">ORDER</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">BY</span><span class="token plain"> a</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">INSERT</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">INTO</span><span class="token plain"> test </span><span class="token keyword" style="color:rgb(0, 0, 255)">VALUES</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token number" style="color:rgb(9, 134, 88)">1</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(163, 21, 21)">&#x27;2021-01-01&#x27;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(163, 21, 21)">&#x27;&#x27;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">INSERT</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">INTO</span><span class="token plain"> test </span><span class="token keyword" style="color:rgb(0, 0, 255)">VALUES</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token number" style="color:rgb(9, 134, 88)">1</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(163, 21, 21)">&#x27;2021-01-01&#x27;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(163, 21, 21)">&#x27;&#x27;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">ALTER</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">TABLE</span><span class="token plain"> test DETACH </span><span class="token keyword" style="color:rgb(0, 0, 255)">PARTITION</span><span class="token plain"> ID </span><span class="token string" style="color:rgb(163, 21, 21)">&#x27;202101&#x27;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">ALTER</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">TABLE</span><span class="token plain"> test ATTACH </span><span class="token keyword" style="color:rgb(0, 0, 255)">PARTITION</span><span class="token plain"> ID </span><span class="token string" style="color:rgb(163, 21, 21)">&#x27;202101&#x27;</span><span class="token plain"> SETTINGS alter_partition_verbose_result </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">1</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">┌─command_type─────┬─partition_id─┬─part_name────┬─old_part_name─┐</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">│ ATTACH </span><span class="token keyword" style="color:rgb(0, 0, 255)">PARTITION</span><span class="token plain"> │ </span><span class="token number" style="color:rgb(9, 134, 88)">202101</span><span class="token plain">       │ </span><span class="token number" style="color:rgb(9, 134, 88)">202101</span><span class="token plain">_7_7_0 │ </span><span class="token number" style="color:rgb(9, 134, 88)">202101</span><span class="token plain">_5_5_0  │</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">│ ATTACH </span><span class="token keyword" style="color:rgb(0, 0, 255)">PARTITION</span><span class="token plain"> │ </span><span class="token number" style="color:rgb(9, 134, 88)">202101</span><span class="token plain">       │ </span><span class="token number" style="color:rgb(9, 134, 88)">202101</span><span class="token plain">_8_8_0 │ </span><span class="token number" style="color:rgb(9, 134, 88)">202101</span><span class="token plain">_6_6_0  │</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">└──────────────────┴──────────────┴──────────────┴───────────────┘</span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">ALTER</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">TABLE</span><span class="token plain"> test FREEZE SETTINGS alter_partition_verbose_result </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">1</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">┌─command_type─┬─partition_id─┬─part_name────┬─backup_name─┬─backup_path───────────────────┬─part_backup_path────────────────────────────────────────────┐</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">│ FREEZE </span><span class="token keyword" style="color:rgb(0, 0, 255)">ALL</span><span class="token plain">   │ </span><span class="token number" style="color:rgb(9, 134, 88)">202101</span><span class="token plain">       │ </span><span class="token number" style="color:rgb(9, 134, 88)">202101</span><span class="token plain">_7_7_0 │ </span><span class="token number" style="color:rgb(9, 134, 88)">8</span><span class="token plain">           │ </span><span class="token operator" style="color:rgb(0, 0, 0)">/</span><span class="token plain">var</span><span class="token operator" style="color:rgb(0, 0, 0)">/</span><span class="token plain">lib</span><span class="token operator" style="color:rgb(0, 0, 0)">/</span><span class="token plain">clickhouse</span><span class="token operator" style="color:rgb(0, 0, 0)">/</span><span class="token plain">shadow</span><span class="token operator" style="color:rgb(0, 0, 0)">/</span><span class="token number" style="color:rgb(9, 134, 88)">8</span><span class="token operator" style="color:rgb(0, 0, 0)">/</span><span class="token plain"> │ </span><span class="token operator" style="color:rgb(0, 0, 0)">/</span><span class="token plain">var</span><span class="token operator" style="color:rgb(0, 0, 0)">/</span><span class="token plain">lib</span><span class="token operator" style="color:rgb(0, 0, 0)">/</span><span class="token plain">clickhouse</span><span class="token operator" style="color:rgb(0, 0, 0)">/</span><span class="token plain">shadow</span><span class="token operator" style="color:rgb(0, 0, 0)">/</span><span class="token number" style="color:rgb(9, 134, 88)">8</span><span class="token operator" style="color:rgb(0, 0, 0)">/</span><span class="token keyword" style="color:rgb(0, 0, 255)">data</span><span class="token operator" style="color:rgb(0, 0, 0)">/</span><span class="token keyword" style="color:rgb(0, 0, 255)">default</span><span class="token operator" style="color:rgb(0, 0, 0)">/</span><span class="token plain">test</span><span class="token operator" style="color:rgb(0, 0, 0)">/</span><span class="token number" style="color:rgb(9, 134, 88)">202101</span><span class="token plain">_7_7_0 │</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">│ FREEZE </span><span class="token keyword" style="color:rgb(0, 0, 255)">ALL</span><span class="token plain">   │ </span><span class="token number" style="color:rgb(9, 134, 88)">202101</span><span class="token plain">       │ </span><span class="token number" style="color:rgb(9, 134, 88)">202101</span><span class="token plain">_8_8_0 │ </span><span class="token number" style="color:rgb(9, 134, 88)">8</span><span class="token plain">           │ </span><span class="token operator" style="color:rgb(0, 0, 0)">/</span><span class="token plain">var</span><span class="token operator" style="color:rgb(0, 0, 0)">/</span><span class="token plain">lib</span><span class="token operator" style="color:rgb(0, 0, 0)">/</span><span class="token plain">clickhouse</span><span class="token operator" style="color:rgb(0, 0, 0)">/</span><span class="token plain">shadow</span><span class="token operator" style="color:rgb(0, 0, 0)">/</span><span class="token number" style="color:rgb(9, 134, 88)">8</span><span class="token operator" style="color:rgb(0, 0, 0)">/</span><span class="token plain"> │ </span><span class="token operator" style="color:rgb(0, 0, 0)">/</span><span class="token plain">var</span><span class="token operator" style="color:rgb(0, 0, 0)">/</span><span class="token plain">lib</span><span class="token operator" style="color:rgb(0, 0, 0)">/</span><span class="token plain">clickhouse</span><span class="token operator" style="color:rgb(0, 0, 0)">/</span><span class="token plain">shadow</span><span class="token operator" style="color:rgb(0, 0, 0)">/</span><span class="token number" style="color:rgb(9, 134, 88)">8</span><span class="token operator" style="color:rgb(0, 0, 0)">/</span><span class="token keyword" style="color:rgb(0, 0, 255)">data</span><span class="token operator" style="color:rgb(0, 0, 0)">/</span><span class="token keyword" style="color:rgb(0, 0, 255)">default</span><span class="token operator" style="color:rgb(0, 0, 0)">/</span><span class="token plain">test</span><span class="token operator" style="color:rgb(0, 0, 0)">/</span><span class="token number" style="color:rgb(9, 134, 88)">202101</span><span class="token plain">_8_8_0 │</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">└──────────────┴──────────────┴──────────────┴─────────────┴───────────────────────────────┴─────────────────────────────────────────────────────────────┘</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_eDfN clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><h2 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="format-capn-proto-enum-comparising-mode">format_capn_proto_enum_comparising_mode<a class="hash-link" href="#format-capn-proto-enum-comparising-mode" title="Direct link to heading">​</a></h2><p>Определяет, как сопоставить тип данных ClickHouse <code>Enum</code> и тип данных <code>Enum</code> формата <a href="/docs/ru/interfaces/formats#capnproto">CapnProto</a> из схемы.</p><p>Возможные значения:</p><ul><li><code>&#x27;by_values&#x27;</code> — значения в перечислениях должны быть одинаковыми, а имена могут быть разными.</li><li><code>&#x27;by_names&#x27;</code> — имена в перечислениях должны быть одинаковыми, а значения могут быть разными.</li><li><code>&#x27;by_name_case_insensitive&#x27;</code> — имена в перечислениях должны быть одинаковыми без учета регистра, а значения могут быть разными.</li></ul><p>Значение по умолчанию: <code>&#x27;by_values&#x27;</code>.</p><h2 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="min-bytes-to-use-mmap-io">min_bytes_to_use_mmap_io<a class="hash-link" href="#min-bytes-to-use-mmap-io" title="Direct link to heading">​</a></h2><p>Это экспериментальная настройка. Устанавливает минимальный объем памяти для чтения больших файлов без копирования данных из ядра в пространство пользователей. Рекомендуемый лимит составляет около 64 MB, поскольку <a href="https://en.wikipedia.org/wiki/Mmap" target="_blank" rel="noopener noreferrer">mmap/munmap</a> работает медленно. Это имеет смысл только для больших файлов и помогает только в том случае, если данные находятся в кеше страниц.</p><p>Возможные значения:</p><ul><li>Положительное целое число.</li><li>0 — большие файлы считываются только с копированием данных из ядра в пространство пользователей.</li></ul><p>Значение по умолчанию: <code>0</code>.</p><h2 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="format-custom-escaping-rule">format_custom_escaping_rule<a class="hash-link" href="#format-custom-escaping-rule" title="Direct link to heading">​</a></h2><p>Устанавливает правило экранирования данных формата <a href="/docs/ru/interfaces/formats#format-customseparated">CustomSeparated</a>.</p><p>Возможные значения:</p><ul><li><code>&#x27;Escaped&#x27;</code> — как в формате <a href="/docs/ru/interfaces/formats#tabseparated">TSV</a>.</li><li><code>&#x27;Quoted&#x27;</code> — как в формате <a href="/docs/ru/interfaces/formats#data-format-values">Values</a>.</li><li><code>&#x27;CSV&#x27;</code> — как в формате <a href="/docs/ru/interfaces/formats#csv">CSV</a>.</li><li><code>&#x27;JSON&#x27;</code> — как в формате <a href="/docs/ru/interfaces/formats#jsoneachrow">JSONEachRow</a>.</li><li><code>&#x27;XML&#x27;</code> — как в формате <a href="/docs/ru/interfaces/formats#xml">XML</a>.</li><li><code>&#x27;Raw&#x27;</code> — данные импортируются как есть, без экранирования, как в формате <a href="/docs/ru/interfaces/formats#tabseparatedraw">TSVRaw</a>.</li></ul><p>Значение по умолчанию: <code>&#x27;Escaped&#x27;</code>.</p><h2 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="format-custom-field-delimiter">format_custom_field_delimiter<a class="hash-link" href="#format-custom-field-delimiter" title="Direct link to heading">​</a></h2><p>Задает символ, который интерпретируется как разделитель между полями данных формата <a href="/docs/ru/interfaces/formats#format-customseparated">CustomSeparated</a>.</p><p>Значение по умолчанию: <code>&#x27;\t&#x27;</code>.</p><h2 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="format-custom-row-before-delimiter">format_custom_row_before_delimiter<a class="hash-link" href="#format-custom-row-before-delimiter" title="Direct link to heading">​</a></h2><p>Задает символ, который интерпретируется как разделитель перед полем первого столбца данных формата <a href="/docs/ru/interfaces/formats#format-customseparated">CustomSeparated</a>.</p><p>Значение по умолчанию: <code>&#x27;&#x27;</code>.</p><h2 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="format-custom-row-after-delimiter">format_custom_row_after_delimiter<a class="hash-link" href="#format-custom-row-after-delimiter" title="Direct link to heading">​</a></h2><p>Задает символ, который интерпретируется как разделитель после поля последнего столбца данных формата <a href="/docs/ru/interfaces/formats#format-customseparated">CustomSeparated</a>.</p><p>Значение по умолчанию: <code>&#x27;\n&#x27;</code>.</p><h2 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="format-custom-row-between-delimiter">format_custom_row_between_delimiter<a class="hash-link" href="#format-custom-row-between-delimiter" title="Direct link to heading">​</a></h2><p>Задает символ, который интерпретируется как разделитель между строками данных формата <a href="/docs/ru/interfaces/formats#format-customseparated">CustomSeparated</a>.</p><p>Значение по умолчанию: <code>&#x27;&#x27;</code>.</p><h2 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="format-custom-result-before-delimiter">format_custom_result_before_delimiter<a class="hash-link" href="#format-custom-result-before-delimiter" title="Direct link to heading">​</a></h2><p>Задает символ, который интерпретируется как префикс перед результирующим набором данных формата <a href="/docs/ru/interfaces/formats#format-customseparated">CustomSeparated</a>.</p><p>Значение по умолчанию: <code>&#x27;&#x27;</code>.</p><h2 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="format-custom-result-after-delimiter">format_custom_result_after_delimiter<a class="hash-link" href="#format-custom-result-after-delimiter" title="Direct link to heading">​</a></h2><p>Задает символ, который интерпретируется как суффикс после результирующего набора данных формата <a href="/docs/ru/interfaces/formats#format-customseparated">CustomSeparated</a>.</p><p>Значение по умолчанию: <code>&#x27;&#x27;</code>.</p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/ClickHouse/ClickHouse/tree/master/docs/ru/operations/settings/settings.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_dcUD" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_foO9"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/docs/ru/operations/settings/query-complexity"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Ограничения на сложность запроса</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/docs/ru/operations/settings/settings-profiles"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Профили настроек</div></a></div></nav></div></div><div class="col col--3"><div class="tableOfContents_cNA8 thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#distributed-product-mode" class="table-of-contents__link toc-highlight">distributed_product_mode</a></li><li><a href="#prefer-global-in-and-join" class="table-of-contents__link toc-highlight">prefer_global_in_and_join</a></li><li><a href="#enable-optimize-predicate-expression" class="table-of-contents__link toc-highlight">enable_optimize_predicate_expression</a></li><li><a href="#settings-fallback_to_stale_replicas_for_distributed_queries" class="table-of-contents__link toc-highlight">fallback_to_stale_replicas_for_distributed_queries</a></li><li><a href="#settings-force_index_by_date" class="table-of-contents__link toc-highlight">force_index_by_date</a></li><li><a href="#settings-force_primary_key" class="table-of-contents__link toc-highlight">force_primary_key</a></li><li><a href="#format-schema" class="table-of-contents__link toc-highlight">format_schema</a></li><li><a href="#fsync-metadata" class="table-of-contents__link toc-highlight">fsync_metadata</a></li><li><a href="#settings-function_range_max_elements_in_block" class="table-of-contents__link toc-highlight">function_range_max_elements_in_block</a></li><li><a href="#settings-enable_http_compression" class="table-of-contents__link toc-highlight">enable_http_compression</a></li><li><a href="#settings-http_zlib_compression_level" class="table-of-contents__link toc-highlight">http_zlib_compression_level</a></li><li><a href="#settings-http_native_compression_disable_checksumming_on_decompress" class="table-of-contents__link toc-highlight">http_native_compression_disable_checksumming_on_decompress</a></li><li><a href="#http-max-uri-size" class="table-of-contents__link toc-highlight">http_max_uri_size</a></li><li><a href="#table_function_remote_max_addresses" class="table-of-contents__link toc-highlight">table_function_remote_max_addresses</a></li><li><a href="#glob_expansion_max_elements--glob_expansion_max_elements-" class="table-of-contents__link toc-highlight">glob_expansion_max_elements  {#glob_expansion_max_elements }</a></li><li><a href="#settings-send_progress_in_http_headers" class="table-of-contents__link toc-highlight">send_progress_in_http_headers</a></li><li><a href="#setting-max_http_get_redirects" class="table-of-contents__link toc-highlight">max_http_get_redirects</a></li><li><a href="#input-format-allow-errors-num" class="table-of-contents__link toc-highlight">input_format_allow_errors_num</a></li><li><a href="#input-format-allow-errors-ratio" class="table-of-contents__link toc-highlight">input_format_allow_errors_ratio</a></li><li><a href="#input_format_parquet_import_nested" class="table-of-contents__link toc-highlight">input_format_parquet_import_nested</a></li><li><a href="#input_format_arrow_import_nested" class="table-of-contents__link toc-highlight">input_format_arrow_import_nested</a></li><li><a href="#input_format_orc_import_nested" class="table-of-contents__link toc-highlight">input_format_orc_import_nested</a></li><li><a href="#settings-input_format_values_interpret_expressions" class="table-of-contents__link toc-highlight">input_format_values_interpret_expressions</a></li><li><a href="#settings-input_format_values_deduce_templates_of_expressions" class="table-of-contents__link toc-highlight">input_format_values_deduce_templates_of_expressions</a></li><li><a href="#settings-input-format-values-accurate-types-of-literals" class="table-of-contents__link toc-highlight">input_format_values_accurate_types_of_literals</a></li><li><a href="#session_settings-input_format_defaults_for_omitted_fields" class="table-of-contents__link toc-highlight">input_format_defaults_for_omitted_fields</a></li><li><a href="#settings-input-format-tsv-empty-as-default" class="table-of-contents__link toc-highlight">input_format_tsv_empty_as_default</a></li><li><a href="#settings-input_format_tsv_enum_as_number" class="table-of-contents__link toc-highlight">input_format_tsv_enum_as_number</a></li><li><a href="#settings-input-format-null-as-default" class="table-of-contents__link toc-highlight">input_format_null_as_default</a></li><li><a href="#insert_null_as_default" class="table-of-contents__link toc-highlight">insert_null_as_default</a></li><li><a href="#settings-input-format-skip-unknown-fields" class="table-of-contents__link toc-highlight">input_format_skip_unknown_fields</a></li><li><a href="#settings-input_format_import_nested_json" class="table-of-contents__link toc-highlight">input_format_import_nested_json</a></li><li><a href="#settings-input-format-with-names-use-header" class="table-of-contents__link toc-highlight">input_format_with_names_use_header</a></li><li><a href="#settings-date_time_input_format" class="table-of-contents__link toc-highlight">date_time_input_format</a></li><li><a href="#settings-date_time_output_format" class="table-of-contents__link toc-highlight">date_time_output_format</a></li><li><a href="#settings-join_default_strictness" class="table-of-contents__link toc-highlight">join_default_strictness</a></li><li><a href="#settings-join_algorithm" class="table-of-contents__link toc-highlight">join_algorithm</a></li><li><a href="#settings-join_any_take_last_row" class="table-of-contents__link toc-highlight">join_any_take_last_row</a></li><li><a href="#totals-mode" class="table-of-contents__link toc-highlight">totals_mode</a></li><li><a href="#totals-auto-threshold" class="table-of-contents__link toc-highlight">totals_auto_threshold</a></li><li><a href="#settings-max_parallel_replicas" class="table-of-contents__link toc-highlight">max_parallel_replicas</a></li><li><a href="#query_profiler_real_time_period_ns" class="table-of-contents__link toc-highlight">query_profiler_real_time_period_ns</a></li><li><a href="#query_profiler_cpu_time_period_ns" class="table-of-contents__link toc-highlight">query_profiler_cpu_time_period_ns</a></li><li><a href="#settings-allow_introspection_functions" class="table-of-contents__link toc-highlight">allow_introspection_functions</a></li><li><a href="#input-format-parallel-parsing" class="table-of-contents__link toc-highlight">input_format_parallel_parsing</a></li><li><a href="#output-format-parallel-formatting" class="table-of-contents__link toc-highlight">output_format_parallel_formatting</a></li><li><a href="#min-chunk-bytes-for-parallel-parsing" class="table-of-contents__link toc-highlight">min_chunk_bytes_for_parallel_parsing</a></li><li><a href="#settings-output_format_avro_codec" class="table-of-contents__link toc-highlight">output_format_avro_codec</a></li><li><a href="#settings-output_format_avro_sync_interval" class="table-of-contents__link toc-highlight">output_format_avro_sync_interval</a></li><li><a href="#merge_selecting_sleep_ms" class="table-of-contents__link toc-highlight">merge_selecting_sleep_ms</a></li><li><a href="#parallel_distributed_insert_select" class="table-of-contents__link toc-highlight">parallel_distributed_insert_select</a></li><li><a href="#insert_distributed_sync" class="table-of-contents__link toc-highlight">insert_distributed_sync</a></li><li><a href="#insert_distributed_one_random_shard" class="table-of-contents__link toc-highlight">insert_distributed_one_random_shard</a></li><li><a href="#insert_shard_id" class="table-of-contents__link toc-highlight">insert_shard_id</a></li><li><a href="#validate_polygons" class="table-of-contents__link toc-highlight">validate_polygons</a></li><li><a href="#always_fetch_merged_part" class="table-of-contents__link toc-highlight">always_fetch_merged_part</a></li><li><a href="#transform_null_in" class="table-of-contents__link toc-highlight">transform_null_in</a></li><li><a href="#low_cardinality_max_dictionary_size" class="table-of-contents__link toc-highlight">low_cardinality_max_dictionary_size</a></li><li><a href="#low_cardinality_use_single_dictionary_for_part" class="table-of-contents__link toc-highlight">low_cardinality_use_single_dictionary_for_part</a></li><li><a href="#low_cardinality_allow_in_native_format" class="table-of-contents__link toc-highlight">low_cardinality_allow_in_native_format</a></li><li><a href="#allow_suspicious_low_cardinality_types" class="table-of-contents__link toc-highlight">allow_suspicious_low_cardinality_types</a></li><li><a href="#background_buffer_flush_schedule_pool_size" class="table-of-contents__link toc-highlight">background_buffer_flush_schedule_pool_size</a></li><li><a href="#background_move_pool_size" class="table-of-contents__link toc-highlight">background_move_pool_size</a></li><li><a href="#background_schedule_pool_size" class="table-of-contents__link toc-highlight">background_schedule_pool_size</a></li><li><a href="#background_fetches_pool_size" class="table-of-contents__link toc-highlight">background_fetches_pool_size</a></li><li><a href="#background_distributed_schedule_pool_size" class="table-of-contents__link toc-highlight">background_distributed_schedule_pool_size</a></li><li><a href="#background_message_broker_schedule_pool_size" class="table-of-contents__link toc-highlight">background_message_broker_schedule_pool_size</a></li><li><a href="#format_avro_schema_registry_url" class="table-of-contents__link toc-highlight">format_avro_schema_registry_url</a></li><li><a href="#input_format_avro_allow_missing_fields" class="table-of-contents__link toc-highlight">input_format_avro_allow_missing_fields</a></li><li><a href="#min-insert-block-size-rows-for-materialized-views" class="table-of-contents__link toc-highlight">min_insert_block_size_rows_for_materialized_views</a></li><li><a href="#min-insert-block-size-bytes-for-materialized-views" class="table-of-contents__link toc-highlight">min_insert_block_size_bytes_for_materialized_views</a></li><li><a href="#output-format-pretty-grid-charset" class="table-of-contents__link toc-highlight">output_format_pretty_grid_charset</a></li><li><a href="#optimize_read_in_order" class="table-of-contents__link toc-highlight">optimize_read_in_order</a></li><li><a href="#optimize_aggregation_in_order" class="table-of-contents__link toc-highlight">optimize_aggregation_in_order</a></li><li><a href="#mutations_sync" class="table-of-contents__link toc-highlight">mutations_sync</a></li><li><a href="#ttl_only_drop_parts" class="table-of-contents__link toc-highlight">ttl_only_drop_parts</a></li><li><a href="#output_format_pretty_max_value_width" class="table-of-contents__link toc-highlight">output_format_pretty_max_value_width</a></li><li><a href="#output_format_pretty_row_numbers" class="table-of-contents__link toc-highlight">output_format_pretty_row_numbers</a></li><li><a href="#system_events_show_zero_values" class="table-of-contents__link toc-highlight">system_events_show_zero_values</a></li><li><a href="#lock_acquire_timeout" class="table-of-contents__link toc-highlight">lock_acquire_timeout</a></li><li><a href="#cast_keep_nullable" class="table-of-contents__link toc-highlight">cast_keep_nullable</a></li><li><a href="#persistent" class="table-of-contents__link toc-highlight">persistent</a></li><li><a href="#format_csv_null_representation" class="table-of-contents__link toc-highlight">format_csv_null_representation</a></li><li><a href="#format_tsv_null_representation" class="table-of-contents__link toc-highlight">format_tsv_null_representation</a></li><li><a href="#output-format-json-array-of-rows" class="table-of-contents__link toc-highlight">output_format_json_array_of_rows</a></li><li><a href="#allow-nullable-key" class="table-of-contents__link toc-highlight">allow_nullable_key</a></li><li><a href="#aggregate_functions_null_for_empty" class="table-of-contents__link toc-highlight">aggregate_functions_null_for_empty</a></li><li><a href="#union-default-mode" class="table-of-contents__link toc-highlight">union_default_mode</a></li><li><a href="#data_type_default_nullable" class="table-of-contents__link toc-highlight">data_type_default_nullable</a></li><li><a href="#execute-merges-on-single-replica-time-threshold" class="table-of-contents__link toc-highlight">execute_merges_on_single_replica_time_threshold</a></li><li><a href="#max-final-threads" class="table-of-contents__link toc-highlight">max_final_threads</a></li><li><a href="#opentelemetry-start-trace-probability" class="table-of-contents__link toc-highlight">opentelemetry_start_trace_probability</a></li><li><a href="#optimize-on-insert" class="table-of-contents__link toc-highlight">optimize_on_insert</a></li><li><a href="#engine-file-empty_if-not-exists" class="table-of-contents__link toc-highlight">engine_file_empty_if_not_exists</a></li><li><a href="#engine-file-truncate-on-insert" class="table-of-contents__link toc-highlight">engine_file_truncate_on_insert</a></li><li><a href="#allow-experimental-geo-types" class="table-of-contents__link toc-highlight">allow_experimental_geo_types</a></li><li><a href="#database_atomic_wait_for_drop_and_detach_synchronously" class="table-of-contents__link toc-highlight">database_atomic_wait_for_drop_and_detach_synchronously</a></li><li><a href="#show_table_uuid_in_table_create_query_if_not_nil" class="table-of-contents__link toc-highlight">show_table_uuid_in_table_create_query_if_not_nil</a></li><li><a href="#allow-experimental-live-view" class="table-of-contents__link toc-highlight">allow_experimental_live_view</a></li><li><a href="#live-view-heartbeat-interval" class="table-of-contents__link toc-highlight">live_view_heartbeat_interval</a></li><li><a href="#max-live-view-insert-blocks-before-refresh" class="table-of-contents__link toc-highlight">max_live_view_insert_blocks_before_refresh</a></li><li><a href="#temporary-live-view-timeout" class="table-of-contents__link toc-highlight">temporary_live_view_timeout</a></li><li><a href="#periodic-live-view-refresh" class="table-of-contents__link toc-highlight">periodic_live_view_refresh</a></li><li><a href="#check_query_single_value_result" class="table-of-contents__link toc-highlight">check_query_single_value_result</a></li><li><a href="#prefer-column-name-to-alias" class="table-of-contents__link toc-highlight">prefer_column_name_to_alias</a></li><li><a href="#limit" class="table-of-contents__link toc-highlight">limit</a></li><li><a href="#offset" class="table-of-contents__link toc-highlight">offset</a></li><li><a href="#http_connection_timeout" class="table-of-contents__link toc-highlight">http_connection_timeout</a></li><li><a href="#http_send_timeout" class="table-of-contents__link toc-highlight">http_send_timeout</a></li><li><a href="#http_receive_timeout" class="table-of-contents__link toc-highlight">http_receive_timeout</a></li><li><a href="#optimize_syntax_fuse_functions" class="table-of-contents__link toc-highlight">optimize_syntax_fuse_functions</a></li><li><a href="#allow_experimental_database_replicated" class="table-of-contents__link toc-highlight">allow_experimental_database_replicated</a></li><li><a href="#database_replicated_initial_query_timeout_sec" class="table-of-contents__link toc-highlight">database_replicated_initial_query_timeout_sec</a></li><li><a href="#distributed_ddl_task_timeout" class="table-of-contents__link toc-highlight">distributed_ddl_task_timeout</a></li><li><a href="#distributed_ddl_output_mode" class="table-of-contents__link toc-highlight">distributed_ddl_output_mode</a></li><li><a href="#flatten-nested" class="table-of-contents__link toc-highlight">flatten_nested</a></li><li><a href="#external-table-functions-use-nulls" class="table-of-contents__link toc-highlight">external_table_functions_use_nulls</a></li><li><a href="#output-format-arrow-low-cardinality-as-dictionary" class="table-of-contents__link toc-highlight">output_format_arrow_low_cardinality_as_dictionary</a></li><li><a href="#materialized-postgresql-max-block-size" class="table-of-contents__link toc-highlight">materialized_postgresql_max_block_size</a></li><li><a href="#materialized-postgresql-tables-list" class="table-of-contents__link toc-highlight">materialized_postgresql_tables_list</a></li><li><a href="#materialized-postgresql-allow-automatic-update" class="table-of-contents__link toc-highlight">materialized_postgresql_allow_automatic_update</a></li><li><a href="#materialized-postgresql-replication-slot" class="table-of-contents__link toc-highlight">materialized_postgresql_replication_slot</a></li><li><a href="#materialized-postgresql-snapshot" class="table-of-contents__link toc-highlight">materialized_postgresql_snapshot</a></li><li><a href="#allow-experimental-projection-optimization" class="table-of-contents__link toc-highlight">allow_experimental_projection_optimization</a></li><li><a href="#force-optimize-projection" class="table-of-contents__link toc-highlight">force_optimize_projection</a></li><li><a href="#replication-alter-partitions-sync" class="table-of-contents__link toc-highlight">replication_alter_partitions_sync</a></li><li><a href="#replication-wait-for-inactive-replica-timeout" class="table-of-contents__link toc-highlight">replication_wait_for_inactive_replica_timeout</a></li><li><a href="#regexp-max-matches-per-row" class="table-of-contents__link toc-highlight">regexp_max_matches_per_row</a></li><li><a href="#http-max-single-read-retries" class="table-of-contents__link toc-highlight">http_max_single_read_retries</a></li><li><a href="#log-queries-probability" class="table-of-contents__link toc-highlight">log_queries_probability</a></li><li><a href="#short-circuit-function-evaluation" class="table-of-contents__link toc-highlight">short_circuit_function_evaluation</a></li><li><a href="#max-hyperscan-regexp-length" class="table-of-contents__link toc-highlight">max_hyperscan_regexp_length</a></li><li><a href="#max-hyperscan-regexp-total-length" class="table-of-contents__link toc-highlight">max_hyperscan_regexp_total_length</a></li><li><a href="#enable-positional-arguments" class="table-of-contents__link toc-highlight">enable_positional_arguments</a></li><li><a href="#optimize_move_to_prewhere" class="table-of-contents__link toc-highlight">optimize_move_to_prewhere</a></li><li><a href="#optimize_move_to_prewhere_if_final" class="table-of-contents__link toc-highlight">optimize_move_to_prewhere_if_final</a></li><li><a href="#describe_include_subcolumns" class="table-of-contents__link toc-highlight">describe_include_subcolumns</a></li><li><a href="#async-insert" class="table-of-contents__link toc-highlight">async_insert</a></li><li><a href="#async-insert-threads" class="table-of-contents__link toc-highlight">async_insert_threads</a></li><li><a href="#wait-for-async-insert" class="table-of-contents__link toc-highlight">wait_for_async_insert</a></li><li><a href="#wait-for-async-insert-timeout" class="table-of-contents__link toc-highlight">wait_for_async_insert_timeout</a></li><li><a href="#async-insert-max-data-size" class="table-of-contents__link toc-highlight">async_insert_max_data_size</a></li><li><a href="#async-insert-busy-timeout-ms" class="table-of-contents__link toc-highlight">async_insert_busy_timeout_ms</a></li><li><a href="#async-insert-stale-timeout-ms" class="table-of-contents__link toc-highlight">async_insert_stale_timeout_ms</a></li><li><a href="#alter-partition-verbose-result" class="table-of-contents__link toc-highlight">alter_partition_verbose_result</a></li><li><a href="#format-capn-proto-enum-comparising-mode" class="table-of-contents__link toc-highlight">format_capn_proto_enum_comparising_mode</a></li><li><a href="#min-bytes-to-use-mmap-io" class="table-of-contents__link toc-highlight">min_bytes_to_use_mmap_io</a></li><li><a href="#format-custom-escaping-rule" class="table-of-contents__link toc-highlight">format_custom_escaping_rule</a></li><li><a href="#format-custom-field-delimiter" class="table-of-contents__link toc-highlight">format_custom_field_delimiter</a></li><li><a href="#format-custom-row-before-delimiter" class="table-of-contents__link toc-highlight">format_custom_row_before_delimiter</a></li><li><a href="#format-custom-row-after-delimiter" class="table-of-contents__link toc-highlight">format_custom_row_after_delimiter</a></li><li><a href="#format-custom-row-between-delimiter" class="table-of-contents__link toc-highlight">format_custom_row_between_delimiter</a></li><li><a href="#format-custom-result-before-delimiter" class="table-of-contents__link toc-highlight">format_custom_result_before_delimiter</a></li><li><a href="#format-custom-result-after-delimiter" class="table-of-contents__link toc-highlight">format_custom_result_after_delimiter</a></li></ul></div></div></div></div></main></div></div><footer class="footer"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">ClickHouse</div><ul class="footer__items"><li class="footer__item"><a href="https://clickhouse.com/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Company</a></li><li class="footer__item"><a href="https://clickhouse.com/cloud/" target="_blank" rel="noopener noreferrer" class="footer__link-item">ClickHouse as a Service</a></li><li class="footer__item"><a href="https://clickhouse.com/careers/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Careers</a></li><li class="footer__item"><a href="https://clickhouse.com/learn/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Learn ClickHouse</a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items"><li class="footer__item"><a href="https://github.com/ClickHouse/ClickHouse" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_I5OW"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://clickhouse.com/blog/en/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Blog<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_I5OW"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://www.youtube.com/c/ClickHouseDB" target="_blank" rel="noopener noreferrer" class="footer__link-item">YouTube<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_I5OW"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://twitter.com/ClickHouseDB" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitter<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_I5OW"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://join.slack.com/t/clickhousedb/shared_invite/zt-rxm3rdrk-lIUmhLC3V8WTaL0TGxsOmg" target="_blank" rel="noopener noreferrer" class="footer__link-item">Slack<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_I5OW"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">Policies</div><ul class="footer__items"><li class="footer__item"><a href="https://clickhouse.com/legal/trademark-policy/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Trademark Policy</a></li><li class="footer__item"><a href="https://clickhouse.com/legal/privacy-policy/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Privacy Policy</a></li><li class="footer__item"><a href="https://clickhouse.com/legal/cookie-policy/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Cookie Policy</a></li></ul></div></div><div class="footer__bottom text--center"><div class="margin-bottom--sm"><img src="/docs/img/clickhouse.svg" alt="ClickHouse Documentation" class="themedImage_W2Cr themedImage--light_TfLj footer__logo"><img src="/docs/img/clickhouse.svg" alt="ClickHouse Documentation" class="themedImage_W2Cr themedImage--dark_oUvU footer__logo"></div><div class="footer__copyright">Copyright &copy; 2016&ndash;2022 ClickHouse, Inc. ClickHouse Docs provided under the Creative Commons CC BY-NC-SA 4.0 license. ClickHouse&reg; is a registered trademark of ClickHouse, Inc.</div></div></div></footer></div>
<script src="/docs/assets/js/runtime~main.832195c1.js"></script>
<script src="/docs/assets/js/main.0e6c66ce.js"></script>
</body>
</html>