"use strict";(self.webpackChunkclickhouse=self.webpackChunkclickhouse||[]).push([[52422],{3905:function(t,e,n){n.d(e,{Zo:function(){return u},kt:function(){return g}});var r=n(67294);function i(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function a(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function c(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?a(Object(n),!0).forEach((function(e){i(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function o(t,e){if(null==t)return{};var n,r,i=function(t,e){if(null==t)return{};var n,r,i={},a=Object.keys(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}var s=r.createContext({}),l=function(t){var e=r.useContext(s),n=e;return t&&(n="function"==typeof t?t(e):c(c({},e),t)),n},u=function(t){var e=l(t.components);return r.createElement(s.Provider,{value:e},t.children)},p={inlineCode:"code",wrapper:function(t){var e=t.children;return r.createElement(r.Fragment,{},e)}},I=r.forwardRef((function(t,e){var n=t.components,i=t.mdxType,a=t.originalType,s=t.parentName,u=o(t,["components","mdxType","originalType","parentName"]),I=l(n),g=i,d=I["".concat(s,".").concat(g)]||I[g]||p[g]||a;return n?r.createElement(d,c(c({ref:e},u),{},{components:n})):r.createElement(d,c({ref:e},u))}));function g(t,e){var n=arguments,i=e&&e.mdxType;if("string"==typeof t||i){var a=n.length,c=new Array(a);c[0]=I;var o={};for(var s in e)hasOwnProperty.call(e,s)&&(o[s]=e[s]);o.originalType=t,o.mdxType="string"==typeof t?t:i,c[1]=o;for(var l=2;l<a;l++)c[l]=n[l];return r.createElement.apply(null,c)}return r.createElement.apply(null,n)}I.displayName="MDXCreateElement"},74548:function(t,e,n){n.r(e),n.d(e,{assets:function(){return u},contentTitle:function(){return s},default:function(){return g},frontMatter:function(){return o},metadata:function(){return l},toc:function(){return p}});var r=n(87462),i=n(63366),a=(n(67294),n(3905)),c=["components"],o={sidebar_position:18,sidebar_label:"\u0422\u0435\u0440\u0430\u0431\u0430\u0439\u0442 \u043b\u043e\u0433\u043e\u0432 \u043a\u043b\u0438\u043a\u043e\u0432 \u043e\u0442 Criteo"},s="\u0422\u0435\u0440\u0430\u0431\u0430\u0439\u0442 \u043b\u043e\u0433\u043e\u0432 \u043a\u043b\u0438\u043a\u043e\u0432 \u043e\u0442 Criteo",l={unversionedId:"ru/getting-started/example-datasets/criteo",id:"ru/getting-started/example-datasets/criteo",title:"\u0422\u0435\u0440\u0430\u0431\u0430\u0439\u0442 \u043b\u043e\u0433\u043e\u0432 \u043a\u043b\u0438\u043a\u043e\u0432 \u043e\u0442 Criteo",description:"terabait-logov-klikov-ot-criteo}",source:"@site/docs/ru/getting-started/example-datasets/criteo.md",sourceDirName:"ru/getting-started/example-datasets",slug:"/ru/getting-started/example-datasets/criteo",permalink:"/docs/ru/getting-started/example-datasets/criteo",editUrl:"https://github.com/ClickHouse/ClickHouse/tree/master/docs/ru/getting-started/example-datasets/criteo.md",tags:[],version:"current",sidebarPosition:18,frontMatter:{sidebar_position:18,sidebar_label:"\u0422\u0435\u0440\u0430\u0431\u0430\u0439\u0442 \u043b\u043e\u0433\u043e\u0432 \u043a\u043b\u0438\u043a\u043e\u0432 \u043e\u0442 Criteo"},sidebar:"russia",previous:{title:"WikiStat",permalink:"/docs/ru/getting-started/example-datasets/wikistat"},next:{title:"AMPLab Big Data Benchmark",permalink:"/docs/ru/getting-started/example-datasets/amplab-benchmark"}},u={},p=[],I={toc:p};function g(t){var e=t.components,n=(0,i.Z)(t,c);return(0,a.kt)("wrapper",(0,r.Z)({},I,n,{components:e,mdxType:"MDXLayout"}),(0,a.kt)("h1",{id:"terabait-logov-klikov-ot-criteo"},"\u0422\u0435\u0440\u0430\u0431\u0430\u0439\u0442 \u043b\u043e\u0433\u043e\u0432 \u043a\u043b\u0438\u043a\u043e\u0432 \u043e\u0442 Criteo"),(0,a.kt)("p",null,"\u0421\u043a\u0430\u0447\u0430\u0439\u0442\u0435 \u0434\u0430\u043d\u043d\u044b\u0435 \u0441 ",(0,a.kt)("a",{parentName:"p",href:"http://labs.criteo.com/downloads/download-terabyte-click-logs/"},"http://labs.criteo.com/downloads/download-terabyte-click-logs/")),(0,a.kt)("p",null,"\u0421\u043e\u0437\u0434\u0430\u0439\u0442\u0435 \u0442\u0430\u0431\u043b\u0438\u0446\u0443 \u0434\u043b\u044f \u0438\u043c\u043f\u043e\u0440\u0442\u0430 \u043b\u043e\u0433\u0430:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-sql"},"CREATE TABLE criteo_log (date Date, clicked UInt8, int1 Int32, int2 Int32, int3 Int32, int4 Int32, int5 Int32, int6 Int32, int7 Int32, int8 Int32, int9 Int32, int10 Int32, int11 Int32, int12 Int32, int13 Int32, cat1 String, cat2 String, cat3 String, cat4 String, cat5 String, cat6 String, cat7 String, cat8 String, cat9 String, cat10 String, cat11 String, cat12 String, cat13 String, cat14 String, cat15 String, cat16 String, cat17 String, cat18 String, cat19 String, cat20 String, cat21 String, cat22 String, cat23 String, cat24 String, cat25 String, cat26 String) ENGINE = Log\n")),(0,a.kt)("p",null,"\u0417\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u0435 \u0434\u0430\u043d\u043d\u044b\u0435:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-bash"},"$ for i in {00..23}; do echo $i; zcat datasets/criteo/day_${i#0}.gz | sed -r 's/^/2000-01-'${i/00/24}'\\t/' | clickhouse-client --host=example-perftest01j --query=\"INSERT INTO criteo_log FORMAT TabSeparated\"; done\n")),(0,a.kt)("p",null,"\u0421\u043e\u0437\u0434\u0430\u0439\u0442\u0435 \u0442\u0430\u0431\u043b\u0438\u0446\u0443 \u0434\u043b\u044f \u0441\u043a\u043e\u043d\u0432\u0435\u0440\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u044b\u0445 \u0434\u0430\u043d\u043d\u044b\u0445:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-sql"},"CREATE TABLE criteo\n(\n    date Date,\n    clicked UInt8,\n    int1 Int32,\n    int2 Int32,\n    int3 Int32,\n    int4 Int32,\n    int5 Int32,\n    int6 Int32,\n    int7 Int32,\n    int8 Int32,\n    int9 Int32,\n    int10 Int32,\n    int11 Int32,\n    int12 Int32,\n    int13 Int32,\n    icat1 UInt32,\n    icat2 UInt32,\n    icat3 UInt32,\n    icat4 UInt32,\n    icat5 UInt32,\n    icat6 UInt32,\n    icat7 UInt32,\n    icat8 UInt32,\n    icat9 UInt32,\n    icat10 UInt32,\n    icat11 UInt32,\n    icat12 UInt32,\n    icat13 UInt32,\n    icat14 UInt32,\n    icat15 UInt32,\n    icat16 UInt32,\n    icat17 UInt32,\n    icat18 UInt32,\n    icat19 UInt32,\n    icat20 UInt32,\n    icat21 UInt32,\n    icat22 UInt32,\n    icat23 UInt32,\n    icat24 UInt32,\n    icat25 UInt32,\n    icat26 UInt32\n) ENGINE = MergeTree(date, intHash32(icat1), (date, intHash32(icat1)), 8192)\n")),(0,a.kt)("p",null,"\u041f\u0440\u0435\u043e\u0431\u0440\u0430\u0437\u0443\u0435\u043c \u0434\u0430\u043d\u043d\u044b\u0435 \u0438\u0437 \u0441\u044b\u0440\u043e\u0433\u043e \u043b\u043e\u0433\u0430 \u0438 \u043f\u043e\u043b\u043e\u0436\u0438\u043c \u0432\u043e \u0432\u0442\u043e\u0440\u0443\u044e \u0442\u0430\u0431\u043b\u0438\u0446\u0443:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-sql"},"INSERT INTO criteo SELECT date, clicked, int1, int2, int3, int4, int5, int6, int7, int8, int9, int10, int11, int12, int13, reinterpretAsUInt32(unhex(cat1)) AS icat1, reinterpretAsUInt32(unhex(cat2)) AS icat2, reinterpretAsUInt32(unhex(cat3)) AS icat3, reinterpretAsUInt32(unhex(cat4)) AS icat4, reinterpretAsUInt32(unhex(cat5)) AS icat5, reinterpretAsUInt32(unhex(cat6)) AS icat6, reinterpretAsUInt32(unhex(cat7)) AS icat7, reinterpretAsUInt32(unhex(cat8)) AS icat8, reinterpretAsUInt32(unhex(cat9)) AS icat9, reinterpretAsUInt32(unhex(cat10)) AS icat10, reinterpretAsUInt32(unhex(cat11)) AS icat11, reinterpretAsUInt32(unhex(cat12)) AS icat12, reinterpretAsUInt32(unhex(cat13)) AS icat13, reinterpretAsUInt32(unhex(cat14)) AS icat14, reinterpretAsUInt32(unhex(cat15)) AS icat15, reinterpretAsUInt32(unhex(cat16)) AS icat16, reinterpretAsUInt32(unhex(cat17)) AS icat17, reinterpretAsUInt32(unhex(cat18)) AS icat18, reinterpretAsUInt32(unhex(cat19)) AS icat19, reinterpretAsUInt32(unhex(cat20)) AS icat20, reinterpretAsUInt32(unhex(cat21)) AS icat21, reinterpretAsUInt32(unhex(cat22)) AS icat22, reinterpretAsUInt32(unhex(cat23)) AS icat23, reinterpretAsUInt32(unhex(cat24)) AS icat24, reinterpretAsUInt32(unhex(cat25)) AS icat25, reinterpretAsUInt32(unhex(cat26)) AS icat26 FROM criteo_log;\n\nDROP TABLE criteo_log;\n")))}g.isMDXComponent=!0}}]);