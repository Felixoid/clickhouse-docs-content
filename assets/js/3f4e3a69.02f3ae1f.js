"use strict";(self.webpackChunkclickhouse=self.webpackChunkclickhouse||[]).push([[79690],{3905:function(e,t,n){n.d(t,{Zo:function(){return u},kt:function(){return d}});var o=n(67294);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function i(e,t){if(null==e)return{};var n,o,r=function(e,t){if(null==e)return{};var n,o,r={},l=Object.keys(e);for(o=0;o<l.length;o++)n=l[o],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(o=0;o<l.length;o++)n=l[o],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var s=o.createContext({}),m=function(e){var t=o.useContext(s),n=t;return e&&(n="function"==typeof e?e(t):a(a({},t),e)),n},u=function(e){var t=m(e.components);return o.createElement(s.Provider,{value:t},e.children)},p={inlineCode:"code",wrapper:function(e){var t=e.children;return o.createElement(o.Fragment,{},t)}},_=o.forwardRef((function(e,t){var n=e.components,r=e.mdxType,l=e.originalType,s=e.parentName,u=i(e,["components","mdxType","originalType","parentName"]),_=m(n),d=r,c=_["".concat(s,".").concat(d)]||_[d]||p[d]||l;return n?o.createElement(c,a(a({ref:t},u),{},{components:n})):o.createElement(c,a({ref:t},u))}));function d(e,t){var n=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var l=n.length,a=new Array(l);a[0]=_;var i={};for(var s in t)hasOwnProperty.call(t,s)&&(i[s]=t[s]);i.originalType=e,i.mdxType="string"==typeof e?e:r,a[1]=i;for(var m=2;m<l;m++)a[m]=n[m];return o.createElement.apply(null,a)}return o.createElement.apply(null,n)}_.displayName="MDXCreateElement"},95777:function(e,t,n){n.r(t),n.d(t,{assets:function(){return u},contentTitle:function(){return s},default:function(){return d},frontMatter:function(){return i},metadata:function(){return m},toc:function(){return p}});var o=n(87462),r=n(63366),l=(n(67294),n(3905)),a=["components"],i={},s="\u67e5\u8be2\u590d\u6742\u6027\u7684\u9650\u5236",m={unversionedId:"zh/operations/settings/query-complexity",id:"zh/operations/settings/query-complexity",title:"\u67e5\u8be2\u590d\u6742\u6027\u7684\u9650\u5236",description:"restrictions-on-query-complexity}",source:"@site/docs/zh/operations/settings/query-complexity.md",sourceDirName:"zh/operations/settings",slug:"/zh/operations/settings/query-complexity",permalink:"/docs/zh/operations/settings/query-complexity",editUrl:"https://github.com/ClickHouse/ClickHouse/tree/master/docs/zh/operations/settings/query-complexity.md",tags:[],version:"current",frontMatter:{},sidebar:"chinese",previous:{title:"MergeTree tables settings",permalink:"/docs/zh/operations/settings/merge-tree-settings"},next:{title:"\u7cfb\u7edf\u8868",permalink:"/docs/zh/operations/system-tables/"}},u={},p=[{value:"\u53ea\u8bfb",id:"query-complexity-readonly",level:2},{value:"max_memory_usage",id:"settings_max_memory_usage",level:2},{value:"max_memory_usage_for_user",id:"max-memory-usage-for-user",level:2},{value:"max_memory_usage_for_all_queries",id:"max-memory-usage-for-all-queries",level:2},{value:"max_rows_to_read",id:"max-rows-to-read",level:2},{value:"max_bytes_to_read",id:"max-bytes-to-read",level:2},{value:"read_overflow_mode",id:"read-overflow-mode",level:2},{value:"max_rows_to_group_by",id:"max-rows-to-group-by",level:2},{value:"group_by_overflow_mode",id:"group-by-overflow-mode",level:2},{value:"max_rows_to_sort",id:"max-rows-to-sort",level:2},{value:"max_bytes_to_sort",id:"max-bytes-to-sort",level:2},{value:"sort_overflow_mode",id:"sort-overflow-mode",level:2},{value:"max_result_rows",id:"max-result-rows",level:2},{value:"max_result_bytes",id:"max-result-bytes",level:2},{value:"result_overflow_mode",id:"result-overflow-mode",level:2},{value:"max_execution_time",id:"max-execution-time",level:2},{value:"timeout_overflow_mode",id:"timeout-overflow-mode",level:2},{value:"min_execution_speed",id:"min-execution-speed",level:2},{value:"timeout_before_checking_execution_speed",id:"timeout-before-checking-execution-speed",level:2},{value:"max_columns_to_read",id:"max-columns-to-read",level:2},{value:"max_temporary_columns",id:"max-temporary-columns",level:2},{value:"max_temporary_non_const_columns",id:"max-temporary-non-const-columns",level:2},{value:"max_subquery_depth",id:"max-subquery-depth",level:2},{value:"max_pipeline_depth",id:"max-pipeline-depth",level:2},{value:"max_ast_depth",id:"max-ast-depth",level:2},{value:"max_ast_elements",id:"max-ast-elements",level:2},{value:"max_rows_in_set",id:"max-rows-in-set",level:2},{value:"max_bytes_in_set",id:"max-bytes-in-set",level:2},{value:"set_overflow_mode",id:"set-overflow-mode",level:2},{value:"max_rows_in_distinct",id:"max-rows-in-distinct",level:2},{value:"max_bytes_in_distinct",id:"max-bytes-in-distinct",level:2},{value:"distinct_overflow_mode",id:"distinct-overflow-mode",level:2},{value:"max_rows_to_transfer",id:"max-rows-to-transfer",level:2},{value:"max_bytes_to_transfer",id:"max-bytes-to-transfer",level:2},{value:"transfer_overflow_mode",id:"transfer-overflow-mode",level:2},{value:"max_rows_in_join",id:"settings-max_rows_in_join",level:2},{value:"max_bytes_in_join",id:"settings-max_bytes_in_join",level:2},{value:"join_overflow_mode",id:"settings-join_overflow_mode",level:2},{value:"max_bytes_before_external_group_by",id:"settings-max_bytes_before_external_group_by",level:2}],_={toc:p};function d(e){var t=e.components,n=(0,r.Z)(e,a);return(0,l.kt)("wrapper",(0,o.Z)({},_,n,{components:t,mdxType:"MDXLayout"}),(0,l.kt)("h1",{id:"restrictions-on-query-complexity"},"\u67e5\u8be2\u590d\u6742\u6027\u7684\u9650\u5236"),(0,l.kt)("p",null,"\u5bf9\u67e5\u8be2\u590d\u6742\u6027\u7684\u9650\u5236\u662f\u8bbe\u7f6e\u7684\u4e00\u90e8\u5206\u3002\n\u5b83\u4eec\u88ab\u7528\u6765\u4ece\u7528\u6237\u754c\u9762\u63d0\u4f9b\u66f4\u5b89\u5168\u7684\u6267\u884c\u3002\n\u51e0\u4e4e\u6240\u6709\u7684\u9650\u5236\u53ea\u9002\u7528\u4e8e\u9009\u62e9\u3002\u5bf9\u4e8e\u5206\u5e03\u5f0f\u67e5\u8be2\u5904\u7406\uff0c\u6bcf\u4e2a\u670d\u52a1\u5668\u4e0a\u5206\u522b\u5e94\u7528\u9650\u5236\u3002"),(0,l.kt)("p",null,"Restrictions on the \xabmaximum amount of something\xbb can take the value 0, which means \xabunrestricted\xbb.\n\u5927\u591a\u6570\u9650\u5236\u4e5f\u6709\u4e00\u4e2a \u2018overflow_mode\u2019 \u8bbe\u7f6e\uff0c\u8fd9\u610f\u5473\u7740\u8d85\u8fc7\u9650\u5236\u65f6\u8be5\u600e\u4e48\u505a\u3002\n\u5b83\u53ef\u4ee5\u91c7\u7528\u4ee5\u4e0b\u4e24\u4e2a\u503c\u4e4b\u4e00: ",(0,l.kt)("inlineCode",{parentName:"p"},"throw")," \u6216 ",(0,l.kt)("inlineCode",{parentName:"p"},"break"),". \u5bf9\u805a\u5408\u7684\u9650\u5236(group_by_overflow_mode)\u4e5f\u5177\u6709\u4ee5\u4e0b\u503c ",(0,l.kt)("inlineCode",{parentName:"p"},"any"),"."),(0,l.kt)("p",null,(0,l.kt)("inlineCode",{parentName:"p"},"throw")," \u2013 Throw an exception (default)."),(0,l.kt)("p",null,(0,l.kt)("inlineCode",{parentName:"p"},"break")," \u2013 Stop executing the query and return the partial result, as if the source data ran out."),(0,l.kt)("p",null,(0,l.kt)("inlineCode",{parentName:"p"},"any (only for group_by_overflow_mode)")," \u2013 Continuing aggregation for the keys that got into the set, but don\u2019t add new keys to the set."),(0,l.kt)("h2",{id:"query-complexity-readonly"},"\u53ea\u8bfb"),(0,l.kt)("p",null,"\u503c\u4e3a0\u65f6\uff0c\u53ef\u4ee5\u6267\u884c\u4efb\u4f55\u67e5\u8be2\u3002\n\u5982\u679c\u503c\u4e3a1\uff0c\u5219\u53ea\u80fd\u6267\u884c\u8bfb\u53d6\u8bf7\u6c42\uff08\u5982SELECT\u548cSHOW\uff09\u3002 \u7981\u6b62\u5199\u5165\u548c\u66f4\u6539\u8bbe\u7f6e\uff08\u63d2\u5165\uff0c\u8bbe\u7f6e\uff09\u7684\u8bf7\u6c42\u3002\n\u503c\u4e3a2\u65f6\uff0c\u53ef\u4ee5\u5904\u7406\u8bfb\u53d6\u67e5\u8be2\uff08\u9009\u62e9\u3001\u663e\u793a\uff09\u548c\u66f4\u6539\u8bbe\u7f6e\uff08\u8bbe\u7f6e\uff09\u3002"),(0,l.kt)("p",null,"\u542f\u7528\u53ea\u8bfb\u6a21\u5f0f\u540e\uff0c\u60a8\u65e0\u6cd5\u5728\u5f53\u524d\u4f1a\u8bdd\u4e2d\u7981\u7528\u5b83\u3002"),(0,l.kt)("p",null,"\u5728HTTP\u63a5\u53e3\u4e2d\u4f7f\u7528GET\u65b9\u6cd5\u65f6, \u2018readonly = 1\u2019 \u81ea\u52a8\u8bbe\u7f6e\u3002 \u6362\u53e5\u8bdd\u8bf4\uff0c\u5bf9\u4e8e\u4fee\u6539\u6570\u636e\u7684\u67e5\u8be2\uff0c\u60a8\u53ea\u80fd\u4f7f\u7528POST\u65b9\u6cd5\u3002 \u60a8\u53ef\u4ee5\u5728POST\u6b63\u6587\u6216URL\u53c2\u6570\u4e2d\u53d1\u9001\u67e5\u8be2\u672c\u8eab\u3002"),(0,l.kt)("h2",{id:"settings_max_memory_usage"},"max_memory_usage"),(0,l.kt)("p",null,"\u7528\u4e8e\u5728\u5355\u4e2a\u670d\u52a1\u5668\u4e0a\u8fd0\u884c\u67e5\u8be2\u7684\u6700\u5927RAM\u91cf\u3002"),(0,l.kt)("p",null,"\u5728\u9ed8\u8ba4\u914d\u7f6e\u6587\u4ef6\u4e2d\uff0c\u6700\u5927\u503c\u4e3a10GB\u3002"),(0,l.kt)("p",null,"\u8be5\u8bbe\u7f6e\u4e0d\u8003\u8651\u8ba1\u7b97\u673a\u4e0a\u7684\u53ef\u7528\u5185\u5b58\u91cf\u6216\u5185\u5b58\u603b\u91cf\u3002\n\u8be5\u9650\u5236\u9002\u7528\u4e8e\u5355\u4e2a\u670d\u52a1\u5668\u4e2d\u7684\u5355\u4e2a\u67e5\u8be2\u3002\n\u60a8\u53ef\u4ee5\u4f7f\u7528 ",(0,l.kt)("inlineCode",{parentName:"p"},"SHOW PROCESSLIST")," \u67e5\u770b\u6bcf\u4e2a\u67e5\u8be2\u7684\u5f53\u524d\u5185\u5b58\u6d88\u8017\u3002\n\u6b64\u5916\uff0c\u8fd8\u4f1a\u8ddf\u8e2a\u6bcf\u4e2a\u67e5\u8be2\u7684\u5185\u5b58\u6d88\u8017\u5cf0\u503c\u5e76\u5c06\u5176\u5199\u5165\u65e5\u5fd7\u3002"),(0,l.kt)("p",null,"\u4e0d\u76d1\u89c6\u67d0\u4e9b\u805a\u5408\u51fd\u6570\u7684\u72b6\u6001\u7684\u5185\u5b58\u4f7f\u7528\u60c5\u51b5\u3002"),(0,l.kt)("p",null,"\u672a\u5b8c\u5168\u8ddf\u8e2a\u805a\u5408\u51fd\u6570\u7684\u72b6\u6001\u7684\u5185\u5b58\u4f7f\u7528\u60c5\u51b5 ",(0,l.kt)("inlineCode",{parentName:"p"},"min"),", ",(0,l.kt)("inlineCode",{parentName:"p"},"max"),", ",(0,l.kt)("inlineCode",{parentName:"p"},"any"),", ",(0,l.kt)("inlineCode",{parentName:"p"},"anyLast"),", ",(0,l.kt)("inlineCode",{parentName:"p"},"argMin"),", ",(0,l.kt)("inlineCode",{parentName:"p"},"argMax")," \u4ece ",(0,l.kt)("inlineCode",{parentName:"p"},"String")," \u548c ",(0,l.kt)("inlineCode",{parentName:"p"},"Array")," \u4e89\u8bba\u3002"),(0,l.kt)("p",null,"\u5185\u5b58\u6d88\u8017\u4e5f\u53d7\u5230\u53c2\u6570\u7684\u9650\u5236 ",(0,l.kt)("inlineCode",{parentName:"p"},"max_memory_usage_for_user")," \u548c ",(0,l.kt)("inlineCode",{parentName:"p"},"max_memory_usage_for_all_queries"),"."),(0,l.kt)("h2",{id:"max-memory-usage-for-user"},"max_memory_usage_for_user"),(0,l.kt)("p",null,"\u7528\u4e8e\u5728\u5355\u4e2a\u670d\u52a1\u5668\u4e0a\u8fd0\u884c\u7528\u6237\u67e5\u8be2\u7684\u6700\u5927RAM\u91cf\u3002"),(0,l.kt)("p",null,"\u9ed8\u8ba4\u503c\u5b9a\u4e49\u5728 ",(0,l.kt)("a",{parentName:"p",href:"https://github.com/ClickHouse/ClickHouse/blob/master/src/Interpreters/Settings.h#L244"},"Settings.h"),". \u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0c\u6570\u989d\u4e0d\u53d7\u9650\u5236 (",(0,l.kt)("inlineCode",{parentName:"p"},"max_memory_usage_for_user = 0"),")."),(0,l.kt)("p",null,"\u53e6\u8bf7\u53c2\u9605\u8bf4\u660e ",(0,l.kt)("a",{parentName:"p",href:"#settings_max_memory_usage"},"max_memory_usage"),"."),(0,l.kt)("h2",{id:"max-memory-usage-for-all-queries"},"max_memory_usage_for_all_queries"),(0,l.kt)("p",null,"\u7528\u4e8e\u5728\u5355\u4e2a\u670d\u52a1\u5668\u4e0a\u8fd0\u884c\u6240\u6709\u67e5\u8be2\u7684\u6700\u5927RAM\u6570\u91cf\u3002"),(0,l.kt)("p",null,"\u9ed8\u8ba4\u503c\u5b9a\u4e49\u5728 ",(0,l.kt)("a",{parentName:"p",href:"https://github.com/ClickHouse/ClickHouse/blob/master/src/Interpreters/Settings.h#L245"},"Settings.h"),". \u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0c\u6570\u989d\u4e0d\u53d7\u9650\u5236 (",(0,l.kt)("inlineCode",{parentName:"p"},"max_memory_usage_for_all_queries = 0"),")."),(0,l.kt)("p",null,"\u53e6\u8bf7\u53c2\u9605\u8bf4\u660e ",(0,l.kt)("a",{parentName:"p",href:"#settings_max_memory_usage"},"max_memory_usage"),"."),(0,l.kt)("h2",{id:"max-rows-to-read"},"max_rows_to_read"),(0,l.kt)("p",null,"\u53ef\u4ee5\u5728\u6bcf\u4e2a\u5757\uff08\u800c\u4e0d\u662f\u6bcf\u884c\uff09\u4e0a\u68c0\u67e5\u4ee5\u4e0b\u9650\u5236\u3002 \u4e5f\u5c31\u662f\u8bf4\uff0c\u9650\u5236\u53ef\u4ee5\u6253\u7834\u4e00\u70b9\u3002"),(0,l.kt)("p",null,"\u8fd0\u884c\u67e5\u8be2\u65f6\u53ef\u4ece\u8868\u4e2d\u8bfb\u53d6\u7684\u6700\u5927\u884c\u6570\u3002"),(0,l.kt)("h2",{id:"max-bytes-to-read"},"max_bytes_to_read"),(0,l.kt)("p",null,"\u8fd0\u884c\u67e5\u8be2\u65f6\u53ef\u4ee5\u4ece\u8868\u4e2d\u8bfb\u53d6\u7684\u6700\u5927\u5b57\u8282\u6570\uff08\u672a\u538b\u7f29\u6570\u636e\uff09\u3002"),(0,l.kt)("h2",{id:"read-overflow-mode"},"read_overflow_mode"),(0,l.kt)("p",null,"\u8bfb\u53d6\u7684\u6570\u636e\u91cf\u8d85\u8fc7\u5176\u4e2d\u4e00\u4e2a\u9650\u5236\u65f6\u8be5\u600e\u4e48\u529e: \u2018throw\u2019 \u6216 \u2018break\u2019. \u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0c\u6254\u3002"),(0,l.kt)("h2",{id:"max-rows-to-group-by"},"max_rows_to_group_by"),(0,l.kt)("p",null,"\u4ece\u805a\u5408\u63a5\u6536\u7684\u552f\u4e00\u5bc6\u94a5\u7684\u6700\u5927\u6570\u91cf\u3002 \u6b64\u8bbe\u7f6e\u5141\u8bb8\u60a8\u5728\u805a\u5408\u65f6\u9650\u5236\u5185\u5b58\u6d88\u8017\u3002"),(0,l.kt)("h2",{id:"group-by-overflow-mode"},"group_by_overflow_mode"),(0,l.kt)("p",null,"\u5f53\u805a\u5408\u7684\u552f\u4e00\u952e\u6570\u8d85\u8fc7\u9650\u5236\u65f6\u8be5\u600e\u4e48\u529e: \u2018throw\u2019, \u2018break\u2019\uff0c\u6216 \u2018any\u2019. \u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0c\u6254\u3002\n\u4f7f\u7528 \u2018any\u2019 \u503c\u5141\u8bb8\u60a8\u8fd0\u884cGROUP BY\u7684\u8fd1\u4f3c\u503c\u3002 \u8fd9\u79cd\u8fd1\u4f3c\u503c\u7684\u8d28\u91cf\u53d6\u51b3\u4e8e\u6570\u636e\u7684\u7edf\u8ba1\u6027\u8d28\u3002"),(0,l.kt)("h2",{id:"max-rows-to-sort"},"max_rows_to_sort"),(0,l.kt)("p",null,"\u6392\u5e8f\u524d\u7684\u6700\u5927\u884c\u6570\u3002 \u8fd9\u5141\u8bb8\u60a8\u5728\u6392\u5e8f\u65f6\u9650\u5236\u5185\u5b58\u6d88\u8017\u3002"),(0,l.kt)("h2",{id:"max-bytes-to-sort"},"max_bytes_to_sort"),(0,l.kt)("p",null,"\u6392\u5e8f\u524d\u7684\u6700\u5927\u5b57\u8282\u6570\u3002"),(0,l.kt)("h2",{id:"sort-overflow-mode"},"sort_overflow_mode"),(0,l.kt)("p",null,"\u5982\u679c\u6392\u5e8f\u524d\u6536\u5230\u7684\u884c\u6570\u8d85\u8fc7\u5176\u4e2d\u4e00\u4e2a\u9650\u5236\uff0c\u8be5\u600e\u4e48\u529e: \u2018throw\u2019 \u6216 \u2018break\u2019. \u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0c\u6254\u3002"),(0,l.kt)("h2",{id:"max-result-rows"},"max_result_rows"),(0,l.kt)("p",null,"\u9650\u5236\u7ed3\u679c\u4e2d\u7684\u884c\u6570\u3002 \u8fd8\u68c0\u67e5\u5b50\u67e5\u8be2\uff0c\u5e76\u5728\u8fd0\u884c\u5206\u5e03\u5f0f\u67e5\u8be2\u7684\u90e8\u5206\u65f6\u5728\u8fdc\u7a0b\u670d\u52a1\u5668\u4e0a\u3002"),(0,l.kt)("h2",{id:"max-result-bytes"},"max_result_bytes"),(0,l.kt)("p",null,"\u9650\u5236\u7ed3\u679c\u4e2d\u7684\u5b57\u8282\u6570\u3002 \u4e0e\u4e4b\u524d\u7684\u8bbe\u7f6e\u76f8\u540c\u3002"),(0,l.kt)("h2",{id:"result-overflow-mode"},"result_overflow_mode"),(0,l.kt)("p",null,"\u5982\u679c\u7ed3\u679c\u7684\u4f53\u79ef\u8d85\u8fc7\u5176\u4e2d\u4e00\u4e2a\u9650\u5236\uff0c\u8be5\u600e\u4e48\u529e: \u2018throw\u2019 \u6216 \u2018break\u2019. \u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0c\u6254\u3002\n\u4f7f\u7528 \u2018break\u2019 \u7c7b\u4f3c\u4e8e\u4f7f\u7528\u9650\u5236\u3002"),(0,l.kt)("h2",{id:"max-execution-time"},"max_execution_time"),(0,l.kt)("p",null,"\u6700\u5927\u67e5\u8be2\u6267\u884c\u65f6\u95f4\uff08\u4ee5\u79d2\u4e3a\u5355\u4f4d\uff09\u3002\n\u6b64\u65f6\uff0c\u4e0d\u4f1a\u68c0\u67e5\u5176\u4e2d\u4e00\u4e2a\u6392\u5e8f\u9636\u6bb5\uff0c\u4e5f\u4e0d\u4f1a\u5728\u5408\u5e76\u548c\u6700\u7ec8\u786e\u5b9a\u805a\u5408\u51fd\u6570\u65f6\u8fdb\u884c\u68c0\u67e5\u3002"),(0,l.kt)("h2",{id:"timeout-overflow-mode"},"timeout_overflow_mode"),(0,l.kt)("p",null,"\u5982\u679c\u67e5\u8be2\u7684\u8fd0\u884c\u65f6\u95f4\u957f\u4e8e \u2018max_execution_time\u2019: \u2018throw\u2019 \u6216 \u2018break\u2019. \u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0c\u6254\u3002"),(0,l.kt)("h2",{id:"min-execution-speed"},"min_execution_speed"),(0,l.kt)("p",null,"\u4ee5\u6bcf\u79d2\u884c\u4e3a\u5355\u4f4d\u7684\u6700\u5c0f\u6267\u884c\u901f\u5ea6\u3002 \u68c0\u67e5\u6bcf\u4e2a\u6570\u636e\u5757\u65f6 \u2018timeout_before_checking_execution_speed\u2019 \u5230\u671f\u3002 \u5982\u679c\u6267\u884c\u901f\u5ea6\u8f83\u4f4e\uff0c\u5219\u4f1a\u5f15\u53d1\u5f02\u5e38\u3002"),(0,l.kt)("h2",{id:"timeout-before-checking-execution-speed"},"timeout_before_checking_execution_speed"),(0,l.kt)("p",null,"\u68c0\u67e5\u6267\u884c\u901f\u5ea6\u662f\u4e0d\u662f\u592a\u6162\uff08\u4e0d\u4f4e\u4e8e \u2018min_execution_speed\u2019\uff09\uff0c\u5728\u6307\u5b9a\u7684\u65f6\u95f4\u4ee5\u79d2\u4e3a\u5355\u4f4d\u5df2\u8fc7\u671f\u4e4b\u540e\u3002"),(0,l.kt)("h2",{id:"max-columns-to-read"},"max_columns_to_read"),(0,l.kt)("p",null,"\u5355\u4e2a\u67e5\u8be2\u4e2d\u53ef\u4ece\u8868\u4e2d\u8bfb\u53d6\u7684\u6700\u5927\u5217\u6570\u3002 \u5982\u679c\u67e5\u8be2\u9700\u8981\u8bfb\u53d6\u66f4\u591a\u5217\uff0c\u5219\u4f1a\u5f15\u53d1\u5f02\u5e38\u3002"),(0,l.kt)("h2",{id:"max-temporary-columns"},"max_temporary_columns"),(0,l.kt)("p",null,"\u8fd0\u884c\u67e5\u8be2\u65f6\u5fc5\u987b\u540c\u65f6\u4fdd\u7559\u5728RAM\u4e2d\u7684\u6700\u5927\u4e34\u65f6\u5217\u6570\uff0c\u5305\u62ec\u5e38\u91cf\u5217\u3002 \u5982\u679c\u6709\u6bd4\u8fd9\u66f4\u591a\u7684\u4e34\u65f6\u5217\uff0c\u5b83\u4f1a\u5f15\u53d1\u5f02\u5e38\u3002"),(0,l.kt)("h2",{id:"max-temporary-non-const-columns"},"max_temporary_non_const_columns"),(0,l.kt)("p",null,"\u540c\u6837\u7684\u4e8b\u60c5 \u2018max_temporary_columns\u2019\uff0c\u4f46\u4e0d\u8ba1\u6570\u5e38\u6570\u5217\u3002\n\u8bf7\u6ce8\u610f\uff0c\u5e38\u91cf\u5217\u5728\u8fd0\u884c\u67e5\u8be2\u65f6\u7ecf\u5e38\u5f62\u6210\uff0c\u4f46\u5b83\u4eec\u9700\u8981\u5927\u7ea6\u96f6\u8ba1\u7b97\u8d44\u6e90\u3002"),(0,l.kt)("h2",{id:"max-subquery-depth"},"max_subquery_depth"),(0,l.kt)("p",null,"\u5b50\u67e5\u8be2\u7684\u6700\u5927\u5d4c\u5957\u6df1\u5ea6\u3002 \u5982\u679c\u5b50\u67e5\u8be2\u66f4\u6df1\uff0c\u5219\u4f1a\u5f15\u53d1\u5f02\u5e38\u3002 \u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0c100\u3002"),(0,l.kt)("h2",{id:"max-pipeline-depth"},"max_pipeline_depth"),(0,l.kt)("p",null,"\u6700\u5927\u7ba1\u9053\u6df1\u5ea6\u3002 \u5bf9\u5e94\u4e8e\u67e5\u8be2\u5904\u7406\u671f\u95f4\u6bcf\u4e2a\u6570\u636e\u5757\u7ecf\u5386\u7684\u8f6c\u6362\u6570\u3002 \u5728\u5355\u4e2a\u670d\u52a1\u5668\u7684\u9650\u5236\u8303\u56f4\u5185\u8ba1\u7b97\u3002 \u5982\u679c\u7ba1\u9053\u6df1\u5ea6\u8f83\u5927\uff0c\u5219\u4f1a\u5f15\u53d1\u5f02\u5e38\u3002 \u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0c1000\u3002"),(0,l.kt)("h2",{id:"max-ast-depth"},"max_ast_depth"),(0,l.kt)("p",null,"\u67e5\u8be2\u8bed\u6cd5\u6811\u7684\u6700\u5927\u5d4c\u5957\u6df1\u5ea6\u3002 \u5982\u679c\u8d85\u51fa\uff0c\u5c06\u5f15\u53d1\u5f02\u5e38\u3002\n\u6b64\u65f6\uff0c\u5728\u89e3\u6790\u8fc7\u7a0b\u4e2d\u4e0d\u4f1a\u5bf9\u5176\u8fdb\u884c\u68c0\u67e5\uff0c\u800c\u662f\u4ec5\u5728\u89e3\u6790\u67e5\u8be2\u4e4b\u540e\u8fdb\u884c\u68c0\u67e5\u3002 \u4e5f\u5c31\u662f\u8bf4\uff0c\u5728\u5206\u6790\u8fc7\u7a0b\u4e2d\u53ef\u4ee5\u521b\u5efa\u4e00\u4e2a\u592a\u6df1\u7684\u8bed\u6cd5\u6811\uff0c\u4f46\u67e5\u8be2\u5c06\u5931\u8d25\u3002 \u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0c1000\u3002"),(0,l.kt)("h2",{id:"max-ast-elements"},"max_ast_elements"),(0,l.kt)("p",null,"\u67e5\u8be2\u8bed\u6cd5\u6811\u4e2d\u7684\u6700\u5927\u5143\u7d20\u6570\u3002 \u5982\u679c\u8d85\u51fa\uff0c\u5c06\u5f15\u53d1\u5f02\u5e38\u3002\n\u4e0e\u524d\u9762\u7684\u8bbe\u7f6e\u76f8\u540c\uff0c\u53ea\u6709\u5728\u89e3\u6790\u67e5\u8be2\u540e\u624d\u4f1a\u68c0\u67e5\u5b83\u3002 \u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0c50,000\u3002"),(0,l.kt)("h2",{id:"max-rows-in-set"},"max_rows_in_set"),(0,l.kt)("p",null,"\u4ece\u5b50\u67e5\u8be2\u521b\u5efa\u7684IN\u5b50\u53e5\u4e2d\u6570\u636e\u96c6\u7684\u6700\u5927\u884c\u6570\u3002"),(0,l.kt)("h2",{id:"max-bytes-in-set"},"max_bytes_in_set"),(0,l.kt)("p",null,"\u4ece\u5b50\u67e5\u8be2\u521b\u5efa\u7684IN\u5b50\u53e5\u4e2d\u7684\u96c6\u5408\u4f7f\u7528\u7684\u6700\u5927\u5b57\u8282\u6570\uff08\u672a\u538b\u7f29\u6570\u636e\uff09\u3002"),(0,l.kt)("h2",{id:"set-overflow-mode"},"set_overflow_mode"),(0,l.kt)("p",null,"\u5f53\u6570\u636e\u91cf\u8d85\u8fc7\u5176\u4e2d\u4e00\u4e2a\u9650\u5236\u65f6\u8be5\u600e\u4e48\u529e: \u2018throw\u2019 \u6216 \u2018break\u2019. \u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0c\u6254\u3002"),(0,l.kt)("h2",{id:"max-rows-in-distinct"},"max_rows_in_distinct"),(0,l.kt)("p",null,"\u4f7f\u7528DISTINCT\u65f6\u7684\u6700\u5927\u4e0d\u540c\u884c\u6570\u3002"),(0,l.kt)("h2",{id:"max-bytes-in-distinct"},"max_bytes_in_distinct"),(0,l.kt)("p",null,"\u4f7f\u7528DISTINCT\u65f6\u54c8\u5e0c\u8868\u4f7f\u7528\u7684\u6700\u5927\u5b57\u8282\u6570\u3002"),(0,l.kt)("h2",{id:"distinct-overflow-mode"},"distinct_overflow_mode"),(0,l.kt)("p",null,"\u5f53\u6570\u636e\u91cf\u8d85\u8fc7\u5176\u4e2d\u4e00\u4e2a\u9650\u5236\u65f6\u8be5\u600e\u4e48\u529e: \u2018throw\u2019 \u6216 \u2018break\u2019. \u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0c\u6254\u3002"),(0,l.kt)("h2",{id:"max-rows-to-transfer"},"max_rows_to_transfer"),(0,l.kt)("p",null,"\u4f7f\u7528GLOBAL IN\u65f6\uff0c\u53ef\u4ee5\u4f20\u9012\u5230\u8fdc\u7a0b\u670d\u52a1\u5668\u6216\u4fdd\u5b58\u5728\u4e34\u65f6\u8868\u4e2d\u7684\u6700\u5927\u884c\u6570\u3002"),(0,l.kt)("h2",{id:"max-bytes-to-transfer"},"max_bytes_to_transfer"),(0,l.kt)("p",null,"\u4f7f\u7528GLOBAL IN\u65f6\uff0c\u53ef\u4ee5\u4f20\u9012\u5230\u8fdc\u7a0b\u670d\u52a1\u5668\u6216\u4fdd\u5b58\u5728\u4e34\u65f6\u8868\u4e2d\u7684\u6700\u5927\u5b57\u8282\u6570\uff08\u672a\u538b\u7f29\u6570\u636e\uff09\u3002"),(0,l.kt)("h2",{id:"transfer-overflow-mode"},"transfer_overflow_mode"),(0,l.kt)("p",null,"\u5f53\u6570\u636e\u91cf\u8d85\u8fc7\u5176\u4e2d\u4e00\u4e2a\u9650\u5236\u65f6\u8be5\u600e\u4e48\u529e: \u2018throw\u2019 \u6216 \u2018break\u2019. \u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0c\u6254\u3002"),(0,l.kt)("h2",{id:"settings-max_rows_in_join"},"max_rows_in_join"),(0,l.kt)("p",null,"Limits the number of rows in the hash table that is used when joining tables."),(0,l.kt)("p",null,"This settings applies to ",(0,l.kt)("a",{parentName:"p",href:"/docs/zh/sql-reference/statements/select/join#select-join"},"SELECT \u2026 JOIN")," operations and the ",(0,l.kt)("a",{parentName:"p",href:"/docs/zh/engines/table-engines/special/join"},"Join")," table engine."),(0,l.kt)("p",null,"If a query contains multiple joins, ClickHouse checks this setting for every intermediate result."),(0,l.kt)("p",null,"ClickHouse can proceed with different actions when the limit is reached. Use the ",(0,l.kt)("a",{parentName:"p",href:"#settings-join_overflow_mode"},"join_overflow_mode")," setting to choose the action."),(0,l.kt)("p",null,"Possible values:"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"Positive integer."),(0,l.kt)("li",{parentName:"ul"},"0 \u2014 Unlimited number of rows.")),(0,l.kt)("p",null,"Default value: 0."),(0,l.kt)("h2",{id:"settings-max_bytes_in_join"},"max_bytes_in_join"),(0,l.kt)("p",null,"Limits the size in bytes of the hash table used when joining tables."),(0,l.kt)("p",null,"This settings applies to ",(0,l.kt)("a",{parentName:"p",href:"/docs/zh/sql-reference/statements/select/join#select-join"},"SELECT \u2026 JOIN")," operations and ",(0,l.kt)("a",{parentName:"p",href:"/docs/zh/engines/table-engines/special/join"},"Join table engine"),"."),(0,l.kt)("p",null,"If the query contains joins, ClickHouse checks this setting for every intermediate result."),(0,l.kt)("p",null,"ClickHouse can proceed with different actions when the limit is reached. Use ",(0,l.kt)("a",{parentName:"p",href:"#settings-join_overflow_mode"},"join_overflow_mode")," settings to choose the action."),(0,l.kt)("p",null,"Possible values:"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"Positive integer."),(0,l.kt)("li",{parentName:"ul"},"0 \u2014 Memory control is disabled.")),(0,l.kt)("p",null,"Default value: 0."),(0,l.kt)("h2",{id:"settings-join_overflow_mode"},"join_overflow_mode"),(0,l.kt)("p",null,"Defines what action ClickHouse performs when any of the following join limits is reached:"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"#settings-max_bytes_in_join"},"max_bytes_in_join")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"#settings-max_rows_in_join"},"max_rows_in_join"))),(0,l.kt)("p",null,"Possible values:"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"THROW")," \u2014 ClickHouse throws an exception and breaks operation."),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"BREAK")," \u2014 ClickHouse breaks operation and doesn\u2019t throw an exception.")),(0,l.kt)("p",null,"Default value: ",(0,l.kt)("inlineCode",{parentName:"p"},"THROW"),"."),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"See Also")),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"/docs/zh/sql-reference/statements/select/join#select-join"},"JOIN clause")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"/docs/zh/engines/table-engines/special/join"},"Join table engine"))),(0,l.kt)("h2",{id:"settings-max_bytes_before_external_group_by"},"max_bytes_before_external_group_by"),(0,l.kt)("p",null,"Enables or disables execution of ",(0,l.kt)("inlineCode",{parentName:"p"},"GROUP BY")," clauses in external memory. See ",(0,l.kt)("a",{parentName:"p",href:"/docs/zh/sql-reference/statements/select/group-by#select-group-by-in-external-memory"},"GROUP BY in external memory"),"."),(0,l.kt)("p",null,"Possible values:"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"Maximum volume of RAM (in bytes) that can be used by the single ",(0,l.kt)("a",{parentName:"li",href:"/docs/zh/sql-reference/statements/select/group-by#select-group-by-clause"},"GROUP BY")," operation."),(0,l.kt)("li",{parentName:"ul"},"0 \u2014 ",(0,l.kt)("inlineCode",{parentName:"li"},"GROUP BY")," in external memory disabled.")),(0,l.kt)("p",null,"Default value: 0."),(0,l.kt)("p",null,(0,l.kt)("a",{parentName:"p",href:"https://clickhouse.com/docs/en/operations/settings/query_complexity/"},"\u539f\u59cb\u6587\u7ae0")," "))}d.isMDXComponent=!0}}]);